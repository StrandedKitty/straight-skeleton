(()=>{"use strict";class t{constructor(t,e){this.Edges=null,this.Distances=null,this.Edges=t,this.Distances=e}}class e extends Array{constructor(t=0){super()}Add(t){this.push(t)}Insert(t,e){const s=function(t,e,s){const n=Array.prototype.slice.call(arguments,2);return[].concat(t.slice(0,e),n,t.slice(e))}(this,t,e);this.length=s.length;for(let t=0;t<s.length;t++)this[t]=s[t]}Reverse(){this.reverse()}Clear(){this.length=0}get Count(){return this.length}Any(t){t||(t=t=>!0);for(const e of this)if(t(e))return!0;return!1}RemoveAt(t){this.splice(t,1)}Remove(t){const e=this.filter((e=>e!==t));this.length=e.length;for(let t=0;t<e.length;t++)this[t]=e[t]}AddRange(t){for(const e of t)this.Add(e)}Sort(t){this.sort(t.Compare.bind(t))}}class s{constructor(){this.Set=new Set}Add(t){this.Set.add(t)}Remove(t){this.Set.delete(t)}RemoveWhere(t){for(const e of this.Set.values())t(e)&&this.Set.delete(e)}Contains(t){return this.Set.has(t)}Clear(){this.Set.clear()}*[Symbol.iterator](){for(const t of this.Set.values())yield t}}class n extends Map{ContainsKey(t){return this.has(t)}Add(t,e){return this.set(t,e)}}class i{constructor(t,e){this.X=0,this.Y=0,this.X=t,this.Y=e}Negate(){this.X=-this.X,this.Y=-this.Y}DistanceTo(t){const e=this.X-t.X,s=this.Y-t.Y;return Math.sqrt(e*e+s*s)}Normalized(){const t=1/Math.sqrt(this.X*this.X+this.Y*this.Y);return new i(this.X*t,this.Y*t)}Dot(t){return this.X*t.X+this.Y*t.Y}DistanceSquared(t){const e=this.X-t.X,s=this.Y-t.Y;return e*e+s*s}Add(t){return new i(this.X+t.X,this.Y+t.Y)}Sub(t){return new i(this.X-t.X,this.Y-t.Y)}MultiplyScalar(t){return new i(this.X*t,this.Y*t)}Equals(t){return this.X===t.X&&this.Y===t.Y}NotEquals(t){return!this.Equals(t)}ToString(){return`${this.X}, ${this.Y}`}}i.Empty=new i(Number.MIN_VALUE,Number.MIN_VALUE);class r{constructor(t,s){this._comparer=null,this._heap=null,this._heap=new e(t),this._comparer=s}Clear(){this._heap.Clear()}Add(t){let e=this._heap.Count;for(this._heap.Add(t);0!==e;){const t=Math.floor(e/2);if(this._comparer.Compare(this._heap[e],this._heap[t])>=0)break;const s=this._heap[e];this._heap[e]=this._heap[t],this._heap[t]=s,e=t}}get Count(){return this._heap.Count}get Empty(){return 0===this._heap.Count}Peek(){return this._heap.Any()?this._heap[0]:null}Next(){const t=this._heap[0],e=this._heap.Count-1;this._heap[0]=this._heap[e],this._heap.RemoveAt(e);let s=0;for(;;){let t=2*s;if(t>=e)break;if(t+1<e&&this._comparer.Compare(this._heap[t+1],this._heap[t])<0&&t++,this._comparer.Compare(this._heap[s],this._heap[t])<=0)break;const n=this._heap[s];this._heap[s]=this._heap[t],this._heap[t]=n,s=t}return t}}class o{constructor(){this.List=null,this.Next=null,this.Previous=null}AddNext(t){this.List.AddNext(this,t)}AddPrevious(t){this.List.AddPrevious(this,t)}Remove(){this.List.Remove(this)}}class l{constructor(t=i.Empty,e=i.Empty){this.A=t.Y-e.Y,this.B=e.X-t.X,this.C=t.X*e.Y-e.X*t.Y}SetFromCoefficients(t,e,s){return this.A=t,this.B=e,this.C=s,this}Collide(t){return l.Collide(this,t)}static Collide(t,e){return l.CollideCoeff(t.A,t.B,t.C,e.A,e.B,e.C)}static CollideCoeff(t,e,s,n,r,o){const l=t*r-n*e,c=e*o-r*s,u=s*n-o*t;return 0===l?i.Empty:new i(c/l,u/l)}Contains(t){return Math.abs(t.X*this.A+t.Y*this.B+this.C)<Number.EPSILON}}class c extends o{constructor(t,e){super(),this.BisectorNext=null,this.BisectorPrevious=null,this.Begin=t,this.End=e,this.LineLinear2d=new l(t,e),this.Norm=e.Sub(t).Normalized()}ToString(){return`Edge [p1=${this.Begin}, p2=${this.End}]`}}class u extends o{constructor(t,e,s,n,i){super(),this.RoundDigitCount=5,this.Point=null,this.Bisector=null,this.NextEdge=null,this.PreviousEdge=null,this.LeftFace=null,this.RightFace=null,this.Point=t,this.Distance=+e.toFixed(this.RoundDigitCount),this.Bisector=s,this.PreviousEdge=n,this.NextEdge=i,this.IsProcessed=!1}ToString(){return"Vertex [v="+this.Point+", IsProcessed="+this.IsProcessed+", Bisector="+this.Bisector+", PreviousEdge="+this.PreviousEdge+", NextEdge="+this.NextEdge}}class a{constructor(){this._first=null,this._size=0}AddNext(t,e){if(null!==e.List)throw new Error("Node is already assigned to different list!");e.List=this,e.Previous=t,e.Next=t.Next,t.Next.Previous=e,t.Next=e,this._size++}AddPrevious(t,e){if(null!==e.List)throw new Error("Node is already assigned to different list!");e.List=this,e.Previous=t.Previous,e.Next=t,t.Previous.Next=e,t.Previous=e,this._size++}AddLast(t){if(null!==t.List)throw new Error("Node is already assigned to different list!");null===this._first?(this._first=t,t.List=this,t.Next=t,t.Previous=t,this._size++):this.AddPrevious(this._first,t)}Remove(t){if(t.List!==this)throw new Error("Node is not assigned to this list!");if(this._size<=0)throw new Error("List is empty can't remove!");t.List=null,1===this._size?this._first=null:(this._first===t&&(this._first=this._first.Next),t.Previous.Next=t.Next,t.Next.Previous=t.Previous),t.Previous=null,t.Next=null,this._size--}get Size(){return this._size}First(){return this._first}*Iterate(){let t=this._first,e=0;for(;null!==t;){if(yield t,++e===this.Size)return;t=t.Next}}}class h extends class{constructor(){this.Size=0,this.First=null}AddPush(t,e){if(null!==e.List)throw new Error("Node is already assigned to different list!");if(null!==t.Next&&null!==t.Previous)throw new Error("Can't push new node. Node is inside a Quere. New node can by added only at the end of queue.");e.List=this,this.Size++,null===t.Next?(e.Previous=t,e.Next=null,t.Next=e):(e.Previous=null,e.Next=t,t.Previous=e)}AddFirst(t){if(null!==t.List)throw new Error("Node is already assigned to different list!");if(null!==this.First)throw new Error("First element already exist!");this.First=t,t.List=this,t.Next=null,t.Previous=null,this.Size++}Pop(t){if(t.List!==this)throw new Error("Node is not assigned to this list!");if(this.Size<=0)throw new Error("List is empty can't remove!");if(!t.IsEnd)throw new Error("Can pop only from end of queue!");t.List=null;let e=null;if(1===this.Size)this.First=null;else{if(this.First===t)if(null!==t.Next)this.First=t.Next;else{if(null===t.Previous)throw new Error("Ups ?");this.First=t.Previous}null!==t.Next?(t.Next.Previous=null,e=t.Next):null!==t.Previous&&(t.Previous.Next=null,e=t.Previous)}return t.Previous=null,t.Next=null,this.Size--,e}*Iterate(){let t=null!==this.First?this.First.FindEnd():null,e=0;for(;null!==t;){if(yield t,++e===this.Size)return;t=t.Next}}}{constructor(){super(...arguments),this.Edge=null,this.Closed=!1}get IsUnconnected(){return null===this.Edge}AddPush(t,e){if(this.Closed)throw new Error("Can't add node to closed FaceQueue");super.AddPush(t,e)}Close(){this.Closed=!0}}class d{static ConnectQueues(t,e){if(null===t.List)throw new Error("firstFace.list cannot be null.");if(null===e.List)throw new Error("secondFace.list cannot be null.");if(t.List!==e.List){if(!t.IsQueueUnconnected&&!e.IsQueueUnconnected)throw new Error("can't connect two diffrent queues if each of them is connected to edge");if(t.IsQueueUnconnected){const s=t.FaceQueue;this.MoveNodes(e,t),s.Close()}else{const s=e.FaceQueue;this.MoveNodes(t,e),s.Close()}}else{if(!t.IsEnd||!e.IsEnd)throw new Error("try to connect the same list not on end nodes");if(t.IsQueueUnconnected||e.IsQueueUnconnected)throw new Error("can't close node queue not conected with edges");t.QueueClose()}}static MoveNodes(t,e){t.AddQueue(e)}}class f{static IsSameLav(t,e){return null!==t.List&&null!==e.List&&t.List===e.List}static RemoveFromLav(t){null!==t&&null!==t.List&&t.Remove()}static CutLavPart(t,s){const n=new e,i=t.List.Size;let r=t;for(let t=0;t<i;t++){const t=r;if(r=t.Next,t.Remove(),n.Add(t),t===s)return n}throw new Error("End vertex can't be found in start vertex lav")}static MergeBeforeBaseVertex(t,e){const s=e.List.Size;for(let n=0;n<s;n++){const s=e.Next;s.Remove(),t.AddPrevious(s)}}static MoveAllVertexToLavEnd(t,e){const s=t.List.Size;for(let n=0;n<s;n++){const s=t;t=t.Next,s.Remove(),e.AddLast(s)}}}class E{constructor(t,e){this.Intersect=null,this.IntersectEnd=null,t||(t=i.Empty),e||(e=i.Empty),this.Intersect=t,this.IntersectEnd=e}}class p{static FromTo(t,e){return new i(e.X-t.X,e.Y-t.Y)}static OrthogonalLeft(t){return new i(-t.Y,t.X)}static OrthogonalRight(t){return new i(t.Y,-t.X)}static OrthogonalProjection(t,e){const s=new i(t.X,t.Y).Normalized(),n=e.X,r=e.Y,o=s.X,l=s.Y;return new i(n*o*o+r*o*l,n*o*l+r*l*l)}static BisectorNormalized(t,e){const s=p.OrthogonalLeft(t),n=p.OrthogonalLeft(e);if(t.Dot(e)>0)return s.Add(n);let r=new i(t.X,t.Y);return r.Negate(),r=r.Add(e),s.Dot(e)<0&&r.Negate(),r}static IsPointOnRay(t,e,s){const n=new i(e.U.X,e.U.Y).Normalized(),r=t.Sub(e.A);let o=n.Dot(r);if(o<s)return!1;const l=n.X;return n.X=n.Y,n.Y=-l,o=n.Dot(r),-s<o&&o<s}static IntersectRays2D(t,e){const s=t.A,n=t.A.Add(t.U),r=e.A,o=t.U,l=e.U,c=s.Sub(r),u=p.Perp(o,l);if(Math.abs(u)<p.SmallNum){if(0!==p.Perp(o,c)||0!==p.Perp(l,c))return p.Empty;const t=p.Dot(o,o),e=p.Dot(l,l);if(0===t&&0===e)return s.NotEquals(r)?p.Empty:new E(s);if(0===t)return p.InCollinearRay(s,r,l)?new E(s):p.Empty;if(0===e)return p.InCollinearRay(r,s,o)?new E(r):p.Empty;let u,h;var a=n.Sub(r);if(0!==l.X?(u=c.X/l.X,h=a.X/l.X):(u=c.Y/l.Y,h=a.Y/l.Y),u>h){const t=u;u=h,h=t}if(h<0)return p.Empty;if(u=u<0?0:u,u===h){let t=new i(l.X,l.Y);return t=t.MultiplyScalar(u),t=t.Add(r),new E(t)}let d=new i(l.X,l.Y);d=d.MultiplyScalar(u),d=d.Add(r);let f=new i(l.X,l.Y);return f=f.MultiplyScalar(h),f=f.Add(r),new E(d,f)}const h=p.Perp(l,c)/u;if(h<0)return p.Empty;if(p.Perp(o,c)/u<0)return p.Empty;let d=new i(o.X,o.Y);return d=d.MultiplyScalar(h),d=d.Add(s),new E(d)}static InCollinearRay(t,e,s){const n=t.Sub(e);return!(s.Dot(n)<0)}static Dot(t,e){return t.Dot(e)}static Perp(t,e){return t.X*e.Y-t.Y*e.X}static IsClockwisePolygon(t){return p.Area(t)<0}static Area(t){const e=t.Count;let s=0;for(let n=e-1,i=0;i<e;n=i++)s+=t[n].X*t[i].Y-t[i].X*t[n].Y;return.5*s}static MakeCounterClockwise(t){return p.IsClockwisePolygon(t)&&t.Reverse(),t}static IsPointInsidePolygon(t,e){const s=e.Count;if(s<3)return!1;let n=0;const i=e[n];let r=!1;for(let o=0;o<s;o++){const l=e[n];n++;const c=o===s-1?i:e[n],u=t.X,a=t.Y;(l.Y<a&&c.Y>=a||c.Y<a&&l.Y>=a)&&l.X+(a-l.Y)/(c.Y-l.Y)*(c.X-l.X)<u&&(r=!r)}return r}}p.SmallNum=1e-8,p.Empty=new E;class g{constructor(t,e){this.A=null,this.U=null,this.A=t,this.U=e}CreateLinearForm(){const t=this.A.X,e=this.A.Y,s=-this.U.X,n=this.U.Y,i=-(n*t+s*e);return(new l).SetFromCoefficients(n,s,i)}static Collide(t,e,s){const n=l.Collide(t.CreateLinearForm(),e);if(n.Equals(i.Empty))return i.Empty;const r=n.Sub(t.A);return t.U.Dot(r)<s?i.Empty:n}IsOnLeftSite(t,e){const s=t.Sub(this.A);return p.OrthogonalRight(this.U).Dot(s)<e}IsOnRightSite(t,e){const s=t.Sub(this.A);return p.OrthogonalRight(this.U).Dot(s)>-e}}g.Empty=new g(i.Empty,i.Empty);class v extends class{constructor(){this.List=null,this.Next=null,this.Previous=null}get IsEnd(){return null===this.Next||null===this.Previous}AddPush(t){this.List.AddPush(this,t)}AddQueue(t){if(this.List===t.List)return null;let e=this,s=t;for(;null!==s;){const t=s.Pop();e.AddPush(s),e=s,s=t}return e}FindEnd(){if(this.IsEnd)return this;let t=this;for(;null!==t.Previous;)t=t.Previous;return t}Pop(){return this.List.Pop(this)}}{constructor(t){super(),this.Vertex=null,this.Vertex=t}get FaceQueue(){return this.List}get IsQueueUnconnected(){return this.FaceQueue.IsUnconnected}QueueClose(){this.FaceQueue.Close()}}class C{constructor(t,e){this.V=null,this.V=t,this.Distance=e}ToString(){return"IntersectEntry [V="+this.V+", Distance="+this.Distance+"]"}GetType(){return this.constructor.name}}class P extends C{constructor(t,e,s){super(t,e),this.Chain=s}get IsObsolete(){return!1}}class w extends C{constructor(t,e,s,n){super(t,e),this.PreviousVertex=s,this.NextVertex=n}get IsObsolete(){return this.PreviousVertex.IsProcessed||this.NextVertex.IsProcessed}ToString(){return"EdgeEvent [V="+this.V+", PreviousVertex="+(null!==this.PreviousVertex?this.PreviousVertex.Point.ToString():"null")+", NextVertex="+(null!==this.NextVertex?this.NextVertex.Point.ToString():"null")+", Distance="+this.Distance+"]"}}class x extends C{constructor(t,e,s){super(t,e),this.Chain=s}get IsObsolete(){return!1}}class m extends C{constructor(t,e,s){super(t,e),this.Chains=s}get IsObsolete(){return!1}}var A;!function(t){t[t.Edge=0]="Edge",t[t.ClosedEdge=1]="ClosedEdge",t[t.Split=2]="Split"}(A||(A={}));const N=A;class L{constructor(t,e){this._oppositeEdge=t,this._nextVertex=e,this._previousVertex=e.Previous}get PreviousEdge(){return this._oppositeEdge}get NextEdge(){return this._oppositeEdge}get PreviousVertex(){return this._previousVertex}get NextVertex(){return this._nextVertex}get CurrentVertex(){return null}get ChainType(){return N.Split}}class S extends C{constructor(t,e,s,n){super(t,e),this.OppositeEdge=null,this.Parent=null,this.Parent=s,this.OppositeEdge=n}get IsObsolete(){return this.Parent.IsProcessed}ToString(){return"SplitEvent [V="+this.V+", Parent="+(null!==this.Parent?this.Parent.Point.ToString():"null")+", Distance="+this.Distance+"]"}}class y extends S{constructor(t,e,s){super(t,e,s,null)}ToString(){return"VertexSplitEvent [V="+this.V+", Parent="+(null!==this.Parent?this.Parent.Point.ToString():"null")+", Distance="+this.Distance+"]"}}class I{constructor(t){this._splitEvent=t}get OppositeEdge(){return this._splitEvent instanceof y?null:this._splitEvent.OppositeEdge}get PreviousEdge(){return this._splitEvent.Parent.PreviousEdge}get NextEdge(){return this._splitEvent.Parent.NextEdge}get PreviousVertex(){return this._splitEvent.Parent.Previous}get NextVertex(){return this._splitEvent.Parent.Next}get CurrentVertex(){return this._splitEvent.Parent}get ChainType(){return N.Split}}class F{constructor(t){this.EdgeList=t,this._closed=this.PreviousVertex===this.NextVertex}get PreviousEdge(){return this.EdgeList[0].PreviousVertex.PreviousEdge}get NextEdge(){return this.EdgeList[this.EdgeList.Count-1].NextVertex.NextEdge}get PreviousVertex(){return this.EdgeList[0].PreviousVertex}get NextVertex(){return this.EdgeList[this.EdgeList.Count-1].NextVertex}get CurrentVertex(){return null}get ChainType(){return this._closed?N.ClosedEdge:N.Edge}}class V{constructor(t,e){this.Edge=t,this.Polygon=e}}class _{static BuildFromGeoJSON(s){const i=new e,r=new n;for(const t of s)if(t.length>0){const s=this.ListFromCoordinatesArray(t[0]),n=new e;for(let e=1;e<t.length;e++)n.Add(this.ListFromCoordinatesArray(t[e]));const o=this.Build(s,n);for(const t of o.Edges)i.Add(t);for(const[t,e]of o.Distances.entries())r.Add(t,e)}return new t(i,r)}static ListFromCoordinatesArray(t){const s=new e;for(const[e,n]of t)s.Add(new i(e,n));return s}static Build(t,n=null){t=this.InitPolygon(t),n=this.MakeClockwise(n);const i=new r(3,new b),o=new s,l=new e,c=new e;if(this.InitSlav(t,o,c,l),null!==n)for(const t of n)this.InitSlav(t,o,c,l);this.InitEvents(o,i,c);let u=0;for(;!i.Empty;){u=this.AssertMaxNumberOfInteraction(u);const t=i.Peek().Distance;for(const t of this.LoadAndGroupLevelEvents(i))if(!t.IsObsolete){if(t instanceof w)throw new Error("All edge@events should be converted to MultiEdgeEvents for given level");if(t instanceof S)throw new Error("All split events should be converted to MultiSplitEvents for given level");if(t instanceof m)this.MultiSplitEvent(t,o,i,c);else if(t instanceof x)this.PickEvent(t);else{if(!(t instanceof P))throw new Error("Unknown event type: "+t.GetType());this.MultiEdgeEvent(t,i,c)}}this.ProcessTwoNodeLavs(o),this.RemoveEventsUnderHeight(i,t),this.RemoveEmptyLav(o)}return this.AddFacesToOutput(l)}static InitPolygon(t){if(null===t)throw new Error("polygon can't be null");if(t[0].Equals(t[t.Count-1]))throw new Error("polygon can't start and end with the same point");return this.MakeCounterClockwise(t)}static ProcessTwoNodeLavs(t){for(const e of t)if(2===e.Size){const t=e.First(),s=t.Next;d.ConnectQueues(t.LeftFace,s.RightFace),d.ConnectQueues(t.RightFace,s.LeftFace),t.IsProcessed=!0,s.IsProcessed=!0,f.RemoveFromLav(t),f.RemoveFromLav(s)}}static RemoveEmptyLav(t){t.RemoveWhere((t=>0===t.Size))}static MultiEdgeEvent(t,e,s){const n=t.V,i=t.Chain.EdgeList,r=t.Chain.PreviousVertex;r.IsProcessed=!0;const o=t.Chain.NextVertex;o.IsProcessed=!0;const l=this.CalcBisector(n,r.PreviousEdge,o.NextEdge),c=new u(n,t.Distance,l,r.PreviousEdge,o.NextEdge);this.AddFaceLeft(c,r),this.AddFaceRight(c,o),r.AddPrevious(c),this.AddMultiBackFaces(i,c),this.ComputeEvents(c,e,s)}static AddMultiBackFaces(t,e){for(const s of t){const t=s.PreviousVertex;t.IsProcessed=!0,f.RemoveFromLav(t);const n=s.NextVertex;n.IsProcessed=!0,f.RemoveFromLav(n),this.AddFaceBack(e,t,n)}}static PickEvent(t){const e=t.V,s=t.Chain.EdgeList,n=new u(e,t.Distance,g.Empty,null,null);n.IsProcessed=!0,this.AddMultiBackFaces(s,n)}static MultiSplitEvent(t,e,s,n){const i=t.Chains,r=t.V;this.CreateOppositeEdgeChains(e,i,r),i.Sort(new D(r));let o=null,l=i.Count;for(let c=0;c<l;c++){const u=i[c],h=i[(c+1)%l],d=this.CreateMultiSplitVertex(u.NextEdge,h.PreviousEdge,r,t.Distance),E=u.NextVertex,p=h.PreviousVertex;if(this.CorrectBisectorDirection(d.Bisector,E,p,u.NextEdge,h.PreviousEdge),f.IsSameLav(E,p)){const t=f.CutLavPart(E,p),s=new a;e.Add(s),s.AddLast(d);for(const e of t)s.AddLast(e)}else f.MergeBeforeBaseVertex(E,p),p.AddNext(d);this.ComputeEvents(d,s,n),o=this.AddSplitFaces(o,u,h,d)}l=i.Count;for(let t=0;t<l;t++){const e=i[t],s=i[(t+1)%l];f.RemoveFromLav(e.CurrentVertex),f.RemoveFromLav(s.CurrentVertex),null!==e.CurrentVertex&&(e.CurrentVertex.IsProcessed=!0),null!==s.CurrentVertex&&(s.CurrentVertex.IsProcessed=!0)}}static CorrectBisectorDirection(t,e,s,n,i){const r=e.PreviousEdge,o=s.NextEdge;if(n!==r||i!==o)throw new Error;if(n.Norm.Dot(i.Norm)<-.97){const n=p.FromTo(s.Point,t.A).Normalized(),i=p.FromTo(t.A,e.Point).Normalized(),r=this.CalcVectorBisector(n,i);t.U.Dot(r)<0&&t.U.Negate()}}static AddSplitFaces(t,e,s,n){if(e instanceof L)if(null===t){const e=this.CreateOppositeEdgeVertex(n);n.RightFace=e.RightFace,t=e.LeftFace}else{if(null!==n.RightFace)throw new Error("newVertex.RightFace should be null");n.RightFace=t,t=null}else{const t=e.CurrentVertex;this.AddFaceRight(n,t)}if(s instanceof L)if(null===t){const e=this.CreateOppositeEdgeVertex(n);n.LeftFace=e.LeftFace,t=e.LeftFace}else{if(null!==n.LeftFace)throw new Error("newVertex.LeftFace should be null.");n.LeftFace=t,t=null}else{const t=s.CurrentVertex;this.AddFaceLeft(n,t)}return t}static CreateOppositeEdgeVertex(t){const e=new u(t.Point,t.Distance,t.Bisector,t.PreviousEdge,t.NextEdge),s=new v(e);return e.LeftFace=s,e.RightFace=s,(new h).AddFirst(s),e}static CreateOppositeEdgeChains(t,n,i){const r=new s,o=new e,l=new e;for(const e of n)if(e instanceof I){const s=e.OppositeEdge;if(null!==s&&!r.Contains(s)){const n=this.FindOppositeEdgeLav(t,s,i);null!==n?o.Add(new L(s,n)):(this.FindOppositeEdgeLav(t,s,i),l.Add(e)),r.Add(s)}}for(let t of l)n.Remove(t);n.AddRange(o)}static CreateMultiSplitVertex(t,e,s,n){const i=this.CalcBisector(s,e,t);return new u(s,n,i,e,t)}static CreateChains(t){const n=new e,i=new e,r=new s;for(const e of t)if(e instanceof w)n.Add(e);else if(e instanceof y);else if(e instanceof S){const t=e;r.Add(t.Parent),i.Add(t)}for(let e of t)if(e instanceof y){const t=e;r.Contains(t.Parent)||(r.Add(t.Parent),i.Add(t))}const o=new e;for(;n.Count>0;)o.Add(new F(this.CreateEdgeChain(n)));const l=new e(o.Count);for(const t of o)l.Add(t);t:for(;i.Any();){const t=i[0];i.RemoveAt(0);for(const e of o)if(this.IsInEdgeChain(t,e))continue t;l.Add(new I(t))}return l}static IsInEdgeChain(t,e){const s=t.Parent;return e.EdgeList.Any((t=>t.PreviousVertex===s||t.NextVertex===s))}static CreateEdgeChain(t){const s=new e;s.Add(t[0]),t.RemoveAt(0);t:for(;;){const e=s[0].PreviousVertex,n=s[s.Count-1].NextVertex;for(let i=0;i<t.Count;i++){const r=t[i];if(r.PreviousVertex===n){t.RemoveAt(i),s.Add(r);continue t}if(r.NextVertex===e){t.RemoveAt(i),s.Insert(0,r);continue t}}break}return s}static RemoveEventsUnderHeight(t,e){for(;!(t.Empty||t.Peek().Distance>e+this.SplitEpsilon);)t.Next()}static LoadAndGroupLevelEvents(t){const e=this.LoadLevelEvents(t);return this.GroupLevelEvents(e)}static GroupLevelEvents(t){const n=new e,i=new s;for(;t.Count>0;){i.Clear();const s=t[0];t.RemoveAt(0);const r=s.V,o=s.Distance;this.AddEventToGroup(i,s);const l=new e;l.Add(s);for(let e=0;e<t.Count;e++){const s=t[e];if(this.IsEventInGroup(i,s)){const n=t[e];t.RemoveAt(e),l.Add(n),this.AddEventToGroup(i,s),e--}else if(r.DistanceTo(s.V)<this.SplitEpsilon){const n=t[e];t.RemoveAt(e),l.Add(n),this.AddEventToGroup(i,s),e--}}n.Add(this.CreateLevelEvent(r,o,l))}return n}static IsEventInGroup(t,e){return e instanceof S?t.Contains(e.Parent):e instanceof w&&(t.Contains(e.PreviousVertex)||t.Contains(e.NextVertex))}static AddEventToGroup(t,e){e instanceof S?t.Add(e.Parent):e instanceof w&&(t.Add(e.PreviousVertex),t.Add(e.NextVertex))}static CreateLevelEvent(t,e,s){const n=this.CreateChains(s);if(1===n.Count){const s=n[0];if(s.ChainType===N.ClosedEdge)return new x(t,e,s);if(s.ChainType===N.Edge)return new P(t,e,s);if(s.ChainType===N.Split)return new m(t,e,n)}if(n.Any((t=>t.ChainType===N.ClosedEdge)))throw new Error("Found closed chain of events for single point, but found more then one chain");return new m(t,e,n)}static LoadLevelEvents(t){const s=new e;let n;do{n=t.Empty?null:t.Next()}while(null!==n&&n.IsObsolete);if(null===n||n.IsObsolete)return s;const i=n.Distance;let r;for(s.Add(n);null!==(r=t.Peek())&&Math.abs(r.Distance-i)<this.SplitEpsilon;){const e=t.Next();e.IsObsolete||s.Add(e)}return s}static AssertMaxNumberOfInteraction(t){if(++t>1e4)throw new Error("Too many interaction: bug?");return t}static MakeClockwise(t){if(null===t)return null;const s=new e(t.Count);for(const e of t)p.IsClockwisePolygon(e)||e.Reverse(),s.Add(e);return s}static MakeCounterClockwise(t){return p.MakeCounterClockwise(t)}static InitSlav(t,e,s,n){const i=new a,r=t.Count;for(let e=0;e<r;e++){const s=(e+1)%r;i.AddLast(new c(t[e],t[s]))}for(const t of i.Iterate()){const e=t.Next,n=this.CalcBisector(t.End,t,e);t.BisectorNext=n,e.BisectorPrevious=n,s.Add(t)}const o=new a;e.Add(o);for(const t of i.Iterate()){const e=t.Next,s=new u(t.End,0,t.BisectorNext,t,e);o.AddLast(s)}for(const t of o.Iterate()){const e=t.Next,s=new v(t),i=new h;i.Edge=t.NextEdge,i.AddFirst(s),n.Add(i),t.RightFace=s;const r=new v(e);s.AddPush(r),e.LeftFace=r}}static AddFacesToOutput(s){const i=new e,r=new n;for(const t of s)if(t.Size>0){const s=new e;for(const e of t.Iterate()){const t=e.Vertex.Point;s.Add(t),r.ContainsKey(t)||r.Add(t,e.Vertex.Distance)}i.Add(new V(t.Edge,s))}return new t(i,r)}static InitEvents(t,e,s){for(const n of t)for(const t of n.Iterate())this.ComputeSplitEvents(t,s,e,-1);for(const s of t)for(const t of s.Iterate()){const s=t.Next;this.ComputeEdgeEvents(t,s,e)}}static ComputeSplitEvents(t,e,s,n){const r=t.Point,o=this.CalcOppositeEdges(t,e);for(const e of o){const o=e.Point;Math.abs(n- -1)>this.SplitEpsilon&&r.DistanceSquared(o)>n+this.SplitEpsilon||(e.OppositePoint.NotEquals(i.Empty)?s.Add(new y(o,e.Distance,t)):s.Add(new S(o,e.Distance,t,e.OppositeEdge)))}}static ComputeEvents(t,e,s){const n=this.ComputeCloserEdgeEvent(t,e);this.ComputeSplitEvents(t,s,e,n)}static ComputeCloserEdgeEvent(t,e){const s=t.Next,n=t.Previous,r=t.Point,o=this.ComputeIntersectionBisectors(t,s),l=this.ComputeIntersectionBisectors(n,t);if(o.Equals(i.Empty)&&l.Equals(i.Empty))return-1;let c=Number.MAX_VALUE,u=Number.MAX_VALUE;return o.NotEquals(i.Empty)&&(c=r.DistanceSquared(o)),l.NotEquals(i.Empty)&&(u=r.DistanceSquared(l)),Math.abs(c-this.SplitEpsilon)<u&&e.Add(this.CreateEdgeEvent(o,t,s)),Math.abs(u-this.SplitEpsilon)<c&&e.Add(this.CreateEdgeEvent(l,n,t)),c<u?c:u}static CreateEdgeEvent(t,e,s){return new w(t,this.CalcDistance(t,e.NextEdge),e,s)}static ComputeEdgeEvents(t,e,s){const n=this.ComputeIntersectionBisectors(t,e);n.NotEquals(i.Empty)&&s.Add(this.CreateEdgeEvent(n,t,e))}static CalcOppositeEdges(t,s){const n=new e;for(const e of s){const s=e.LineLinear2d;if(this.EdgeBehindBisector(t.Bisector,s))continue;const i=this.CalcCandidatePointForSplit(t,e);null!==i&&n.Add(i)}return n.Sort(new B),n}static EdgeBehindBisector(t,e){return g.Collide(t,e,this.SplitEpsilon).Equals(i.Empty)}static CalcCandidatePointForSplit(t,e){const s=this.ChoseLessParallelVertexEdge(t,e);if(null===s)return null;const n=s.Norm,r=this.CalcVectorBisector(n,e.Norm),o=s.LineLinear2d.Collide(e.LineLinear2d);if(o.Equals(i.Empty))throw new Error("Ups this should not happen");const l=new g(o,r).CreateLinearForm(),c=g.Collide(t.Bisector,l,this.SplitEpsilon);if(c.Equals(i.Empty))return null;if(e.BisectorPrevious.IsOnRightSite(c,this.SplitEpsilon)&&e.BisectorNext.IsOnLeftSite(c,this.SplitEpsilon)){const t=this.CalcDistance(c,e);return e.BisectorPrevious.IsOnLeftSite(c,this.SplitEpsilon)||e.BisectorNext.IsOnRightSite(c,this.SplitEpsilon)?new R(c,t,null,e.Begin):new R(c,t,e,i.Empty)}return null}static ChoseLessParallelVertexEdge(t,e){const s=t.PreviousEdge,n=t.NextEdge;let i=s;const r=Math.abs(e.Norm.Dot(s.Norm)),o=Math.abs(e.Norm.Dot(n.Norm));return r+o>=2-this.SplitEpsilon?null:(r>o&&(i=n),i)}static ComputeIntersectionBisectors(t,e){const s=t.Bisector,n=e.Bisector,r=p.IntersectRays2D(s,n).Intersect;return t.Point.Equals(r)||e.Point.Equals(r)?i.Empty:r}static FindOppositeEdgeLav(t,e,s){const n=this.FindEdgeLavs(t,e,null);return this.ChooseOppositeEdgeLav(n,e,s)}static ChooseOppositeEdgeLav(t,s,n){if(!t.Any())return null;if(1===t.Count)return t[0];const i=s.Begin,r=s.Norm,o=n.Sub(i),l=r.Dot(o);for(const e of t){const t=e.Previous.Point.Sub(i),s=e.Point.Sub(i),n=r.Dot(t),o=r.Dot(s);if(n<l&&l<o||n>l&&l>o)return e}for(const s of t){const t=s.List.Size,i=new e(t);let r=s;for(let e=0;e<t;e++)i.Add(r.Point),r=r.Next;if(p.IsPointInsidePolygon(n,i))return s}throw new Error("Could not find lav for opposite edge, it could be correct but need some test data to check.")}static FindEdgeLavs(t,s,n){const i=new e;for(const e of t){if(e===n)continue;const t=this.GetEdgeInLav(e,s);null!==t&&i.Add(t)}return i}static GetEdgeInLav(t,e){for(const s of t.Iterate())if(e===s.PreviousEdge||e===s.Previous.Next)return s;return null}static AddFaceBack(t,e,s){const n=new v(t);e.RightFace.AddPush(n),d.ConnectQueues(n,s.LeftFace)}static AddFaceRight(t,e){const s=new v(t);e.RightFace.AddPush(s),t.RightFace=s}static AddFaceLeft(t,e){const s=new v(t);e.LeftFace.AddPush(s),t.LeftFace=s}static CalcDistance(t,e){const s=e.End.Sub(e.Begin),n=t.Sub(e.Begin),i=p.OrthogonalProjection(s,n);return n.DistanceTo(i)}static CalcBisector(t,e,s){const n=e.Norm,i=s.Norm,r=this.CalcVectorBisector(n,i);return new g(t,r)}static CalcVectorBisector(t,e){return p.BisectorNormalized(t,e)}}_.SplitEpsilon=1e-10;class b{Compare(t,e){return t.Distance>e.Distance?1:t.Distance<e.Distance?-1:0}}class D{constructor(t){this._center=t}Compare(t,e){return t===e?0:D.Angle(this._center,t.PreviousEdge.Begin)>D.Angle(this._center,e.PreviousEdge.Begin)?1:-1}static Angle(t,e){const s=e.X-t.X,n=e.Y-t.Y;return Math.atan2(n,s)}}class B{Compare(t,e){return t.Distance>e.Distance?1:t.Distance<e.Distance?-1:0}}class R{constructor(t,e,s,n){this.OppositeEdge=null,this.OppositePoint=null,this.Point=null,this.Point=t,this.Distance=e,this.OppositeEdge=s,this.OppositePoint=n}}const Y=document.getElementById("canvas"),X=Y.getContext("2d");Y.width=800,Y.height=800;const O=[[143,225],[249,220],[247,101],[364,100],[357,219],[670,219],[668,618],[426,615],[431,407],[140,413]],M=[[]];let T=0,k=!1;X.translate(.5,.5);const z=(t,e,s)=>{X.beginPath(),X.arc(t,e,s,0,2*Math.PI,!1),X.fill()},U=t=>{X.globalAlpha=.3,X.beginPath(),X.fillStyle="#d0d",X.moveTo(t.Polygon[0].X,t.Polygon[0].Y);for(const e of t.Polygon)X.lineTo(e.X,e.Y);X.closePath(),X.fill(),X.globalAlpha=1,X.beginPath(),X.strokeStyle="#111",X.lineWidth=1,X.moveTo(t.Polygon[0].X,t.Polygon[0].Y);for(const e of t.Polygon)X.lineTo(e.X,e.Y);X.closePath(),X.stroke()},q=()=>{if(X.clearRect(0,0,Y.width,Y.height),O.length>2){let t;try{t=_.BuildFromGeoJSON([[O,...M.filter((t=>t.length>2))]])}catch(t){console.error(t)}if(t)for(const e of t.Edges)U(e)}(()=>{X.fillStyle="#333";for(const t of O)z(t[0]+.5,t[1]+.5,2);for(const t of M)for(const e of t)z(e[0]+.5,e[1]+.5,2)})()};Y.addEventListener("pointerdown",(t=>{const e=t.offsetX*Y.width/Y.clientWidth,s=t.offsetY*Y.height/Y.clientHeight;if(k){const t=M[T];t.length>2&&Math.hypot(t[0][0]-e,t[0][1]-s)<5?(T++,M[T]=[]):M[T].push([e,s])}else O.push([e,s]),console.log(JSON.stringify(O,null,"\t"));q()}));const Q=document.getElementById("button-inner"),G=document.getElementById("button-outer");document.getElementById("button-clear").addEventListener("click",(()=>{O.length=0,M.length=0,M.push([]),T=0,q()})),Q.addEventListener("click",(()=>{k=!0,Q.disabled=!0,G.disabled=!1})),G.addEventListener("click",(()=>{k=!1,Q.disabled=!1,G.disabled=!0})),Q.disabled=!1,G.disabled=!0,q()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBaUIsU0FBUyxLQUNyQzFCLEdBQVcsRUFFWG9DLEVBQVlFLFVBQVcsRUFDdkJELEVBQVlDLFVBQVcsS0FHeEJELEVBQVlYLGlCQUFpQixTQUFTLEtBQ3JDMUIsR0FBVyxFQUVYb0MsRUFBWUUsVUFBVyxFQUN2QkQsRUFBWUMsVUFBVyxLQUd4QkYsRUFBWUUsVUFBVyxFQUN2QkQsRUFBWUMsVUFBVyxFQUV2QnBCLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHJhaWdodC1za2VsZXRvbi8uL3NyYy9saWIvU2tlbGV0b24udHMiLCJ3ZWJwYWNrOi8vc3RyYWlnaHQtc2tlbGV0b24vLi9zcmMvbGliL1V0aWxzLnRzIiwid2VicGFjazovL3N0cmFpZ2h0LXNrZWxldG9uLy4vc3JjL2xpYi9QcmltaXRpdmVzL1ZlY3RvcjJkLnRzIiwid2VicGFjazovL3N0cmFpZ2h0LXNrZWxldG9uLy4vc3JjL2xpYi9QcmltaXRpdmVzL1ByaW9yaXR5UXVldWUudHMiLCJ3ZWJwYWNrOi8vc3RyYWlnaHQtc2tlbGV0b24vLi9zcmMvbGliL0NpcmN1bGFyL0NpcmN1bGFyTm9kZS50cyIsIndlYnBhY2s6Ly9zdHJhaWdodC1za2VsZXRvbi8uL3NyYy9saWIvUHJpbWl0aXZlcy9MaW5lTGluZWFyMmQudHMiLCJ3ZWJwYWNrOi8vc3RyYWlnaHQtc2tlbGV0b24vLi9zcmMvbGliL0NpcmN1bGFyL0VkZ2UudHMiLCJ3ZWJwYWNrOi8vc3RyYWlnaHQtc2tlbGV0b24vLi9zcmMvbGliL0NpcmN1bGFyL1ZlcnRleC50cyIsIndlYnBhY2s6Ly9zdHJhaWdodC1za2VsZXRvbi8uL3NyYy9saWIvQ2lyY3VsYXIvQ2lyY3VsYXJMaXN0LnRzIiwid2VicGFjazovL3N0cmFpZ2h0LXNrZWxldG9uLy4vc3JjL2xpYi9QYXRoL0ZhY2VRdWV1ZS50cyIsIndlYnBhY2s6Ly9zdHJhaWdodC1za2VsZXRvbi8uL3NyYy9saWIvUGF0aC9QYXRoUXVldWUudHMiLCJ3ZWJwYWNrOi8vc3RyYWlnaHQtc2tlbGV0b24vLi9zcmMvbGliL1BhdGgvRmFjZVF1ZXVlVXRpbC50cyIsIndlYnBhY2s6Ly9zdHJhaWdodC1za2VsZXRvbi8uL3NyYy9saWIvTGF2VXRpbC50cyIsIndlYnBhY2s6Ly9zdHJhaWdodC1za2VsZXRvbi8uL3NyYy9saWIvUHJpbWl0aXZlcy9QcmltaXRpdmVVdGlscy50cyIsIndlYnBhY2s6Ly9zdHJhaWdodC1za2VsZXRvbi8uL3NyYy9saWIvUHJpbWl0aXZlcy9MaW5lUGFyYW1ldHJpYzJkLnRzIiwid2VicGFjazovL3N0cmFpZ2h0LXNrZWxldG9uLy4vc3JjL2xpYi9QYXRoL0ZhY2VOb2RlLnRzIiwid2VicGFjazovL3N0cmFpZ2h0LXNrZWxldG9uLy4vc3JjL2xpYi9QYXRoL1BhdGhRdWV1ZU5vZGUudHMiLCJ3ZWJwYWNrOi8vc3RyYWlnaHQtc2tlbGV0b24vLi9zcmMvbGliL0V2ZW50cy9Ta2VsZXRvbkV2ZW50LnRzIiwid2VicGFjazovL3N0cmFpZ2h0LXNrZWxldG9uLy4vc3JjL2xpYi9FdmVudHMvTXVsdGlFZGdlRXZlbnQudHMiLCJ3ZWJwYWNrOi8vc3RyYWlnaHQtc2tlbGV0b24vLi9zcmMvbGliL0V2ZW50cy9FZGdlRXZlbnQudHMiLCJ3ZWJwYWNrOi8vc3RyYWlnaHQtc2tlbGV0b24vLi9zcmMvbGliL0V2ZW50cy9QaWNrRXZlbnQudHMiLCJ3ZWJwYWNrOi8vc3RyYWlnaHQtc2tlbGV0b24vLi9zcmMvbGliL0V2ZW50cy9NdWx0aVNwbGl0RXZlbnQudHMiLCJ3ZWJwYWNrOi8vc3RyYWlnaHQtc2tlbGV0b24vLi9zcmMvbGliL0V2ZW50cy9DaGFpbnMvQ2hhaW5UeXBlLnRzIiwid2VicGFjazovL3N0cmFpZ2h0LXNrZWxldG9uLy4vc3JjL2xpYi9FdmVudHMvQ2hhaW5zL1NpbmdsZUVkZ2VDaGFpbi50cyIsIndlYnBhY2s6Ly9zdHJhaWdodC1za2VsZXRvbi8uL3NyYy9saWIvRXZlbnRzL1NwbGl0RXZlbnQudHMiLCJ3ZWJwYWNrOi8vc3RyYWlnaHQtc2tlbGV0b24vLi9zcmMvbGliL0V2ZW50cy9WZXJ0ZXhTcGxpdEV2ZW50LnRzIiwid2VicGFjazovL3N0cmFpZ2h0LXNrZWxldG9uLy4vc3JjL2xpYi9FdmVudHMvQ2hhaW5zL1NwbGl0Q2hhaW4udHMiLCJ3ZWJwYWNrOi8vc3RyYWlnaHQtc2tlbGV0b24vLi9zcmMvbGliL0V2ZW50cy9DaGFpbnMvRWRnZUNoYWluLnRzIiwid2VicGFjazovL3N0cmFpZ2h0LXNrZWxldG9uLy4vc3JjL2xpYi9FZGdlUmVzdWx0LnRzIiwid2VicGFjazovL3N0cmFpZ2h0LXNrZWxldG9uLy4vc3JjL2xpYi9Ta2VsZXRvbkJ1aWxkZXIudHMiLCJ3ZWJwYWNrOi8vc3RyYWlnaHQtc2tlbGV0b24vLi9zcmMvZXhhbXBsZS9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVmVjdG9yMmQgZnJvbSBcIi4vUHJpbWl0aXZlcy9WZWN0b3IyZFwiO1xyXG5pbXBvcnQgRWRnZVJlc3VsdCBmcm9tIFwiLi9FZGdlUmVzdWx0XCI7XHJcbmltcG9ydCB7RGljdGlvbmFyeSwgTGlzdH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTa2VsZXRvbiB7XHJcblx0cHVibGljIHJlYWRvbmx5IEVkZ2VzOiBMaXN0PEVkZ2VSZXN1bHQ+ID0gbnVsbDtcclxuXHRwdWJsaWMgcmVhZG9ubHkgRGlzdGFuY2VzOiBEaWN0aW9uYXJ5PFZlY3RvcjJkLCBudW1iZXI+ID0gbnVsbDtcclxuXHJcblx0Y29uc3RydWN0b3IoZWRnZXM6IExpc3Q8RWRnZVJlc3VsdD4sIGRpc3RhbmNlczogRGljdGlvbmFyeTxWZWN0b3IyZCwgbnVtYmVyPikge1xyXG5cdFx0dGhpcy5FZGdlcyA9IGVkZ2VzO1xyXG5cdFx0dGhpcy5EaXN0YW5jZXMgPSBkaXN0YW5jZXM7XHJcblx0fVxyXG59IiwiZnVuY3Rpb24gaW5zZXJ0SW5BcnJheTxUPihhcnJheTogQXJyYXk8VD4sIGluZGV4OiBudW1iZXIsIGl0ZW06IFQpOiBBcnJheTxUPiB7XHJcblx0Y29uc3QgaXRlbXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xyXG5cclxuXHRyZXR1cm4gW10uY29uY2F0KGFycmF5LnNsaWNlKDAsIGluZGV4KSwgaXRlbXMsIGFycmF5LnNsaWNlKGluZGV4KSk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNvbXBhcmFibGU8VD4ge1xyXG5cdENvbXBhcmVUbyhvdGhlcjogVCk6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQ29tcGFyZXI8VD4ge1xyXG5cdENvbXBhcmUoYTogVCwgYjogVCk6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgR2VvSlNPTk11bHRpcG9seWdvbiA9IFtudW1iZXIsIG51bWJlcl1bXVtdW107XHJcblxyXG5leHBvcnQgY2xhc3MgTGlzdDxUPiBleHRlbmRzIEFycmF5PFQ+IHtcclxuXHRjb25zdHJ1Y3RvcihjYXBhY2l0eSA9IDApIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgQWRkKGl0ZW06IFQpIHtcclxuXHRcdHRoaXMucHVzaChpdGVtKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBJbnNlcnQoaW5kZXg6IG51bWJlciwgaXRlbTogVCkge1xyXG5cdFx0Y29uc3QgbmV3QXJyID0gaW5zZXJ0SW5BcnJheSh0aGlzLCBpbmRleCwgaXRlbSk7XHJcblxyXG5cdFx0dGhpcy5sZW5ndGggPSBuZXdBcnIubGVuZ3RoO1xyXG5cclxuXHRcdGZvcihsZXQgaSA9IDA7IGkgPCBuZXdBcnIubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dGhpc1tpXSA9IG5ld0FycltpXTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBSZXZlcnNlKCkge1xyXG5cdFx0dGhpcy5yZXZlcnNlKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgQ2xlYXIoKSB7XHJcblx0XHR0aGlzLmxlbmd0aCA9IDA7XHJcblx0fVxyXG5cclxuXHRnZXQgQ291bnQoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLmxlbmd0aDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBBbnkoZmlsdGVyPzogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBib29sZWFuIHtcclxuXHRcdGlmICghZmlsdGVyKSB7XHJcblx0XHRcdGZpbHRlciA9IFQgPT4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcykge1xyXG5cdFx0XHRpZiAoZmlsdGVyKGl0ZW0pKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgUmVtb3ZlQXQoaW5kZXg6IG51bWJlcikge1xyXG5cdFx0dGhpcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIFJlbW92ZShpdGVtVG9SZW1vdmU6IFQpIHtcclxuXHRcdGNvbnN0IG5ld0FyciA9IHRoaXMuZmlsdGVyKGl0ZW0gPT4gaXRlbSAhPT0gaXRlbVRvUmVtb3ZlKTtcclxuXHJcblx0XHR0aGlzLmxlbmd0aCA9IG5ld0Fyci5sZW5ndGg7XHJcblxyXG5cdFx0Zm9yKGxldCBpID0gMDsgaSA8IG5ld0Fyci5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR0aGlzW2ldID0gbmV3QXJyW2ldO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIEFkZFJhbmdlKGxpc3Q6IExpc3Q8VD4pIHtcclxuXHRcdGZvciAoY29uc3QgaXRlbSBvZiBsaXN0KSB7XHJcblx0XHRcdHRoaXMuQWRkKGl0ZW0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIFNvcnQoY29tcGFyZXI6IElDb21wYXJlcjxUPikge1xyXG5cdFx0dGhpcy5zb3J0KGNvbXBhcmVyLkNvbXBhcmUuYmluZChjb21wYXJlcikpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEhhc2hTZXQ8VD4gaW1wbGVtZW50cyBJdGVyYWJsZTxUPiB7XHJcblx0cHJpdmF0ZSBTZXQ6IFNldDxUPjtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLlNldCA9IG5ldyBTZXQoKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBBZGQoaXRlbTogVCkge1xyXG5cdFx0dGhpcy5TZXQuYWRkKGl0ZW0pO1xyXG5cdH1cclxuXHJcblx0cHVibGljIFJlbW92ZShpdGVtOiBUKSB7XHJcblx0XHR0aGlzLlNldC5kZWxldGUoaXRlbSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgUmVtb3ZlV2hlcmUoZmlsdGVyOiAoaXRlbTogVCkgPT4gYm9vbGVhbikge1xyXG5cdFx0Zm9yIChjb25zdCBpdGVtIG9mIHRoaXMuU2V0LnZhbHVlcygpKSB7XHJcblx0XHRcdGlmIChmaWx0ZXIoaXRlbSkpIHtcclxuXHRcdFx0XHR0aGlzLlNldC5kZWxldGUoaXRlbSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBDb250YWlucyhpdGVtOiBUKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5TZXQuaGFzKGl0ZW0pO1xyXG5cdH1cclxuXHJcblx0cHVibGljIENsZWFyKCkge1xyXG5cdFx0dGhpcy5TZXQuY2xlYXIoKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyogW1N5bWJvbC5pdGVyYXRvcl0oKTogR2VuZXJhdG9yPFQ+IHtcclxuXHRcdGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLlNldC52YWx1ZXMoKSkge1xyXG5cdFx0XHR5aWVsZCBpdGVtO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERpY3Rpb25hcnk8VDEsIFQyPiBleHRlbmRzIE1hcDxUMSwgVDI+IHtcclxuXHRwdWJsaWMgQ29udGFpbnNLZXkoa2V5OiBUMSk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaGFzKGtleSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgQWRkKGtleTogVDEsIHZhbHVlOiBUMikge1xyXG5cdFx0cmV0dXJuIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xyXG5cdH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlY3RvcjJkIHtcclxuXHRwdWJsaWMgc3RhdGljIEVtcHR5OiBWZWN0b3IyZCA9IG5ldyBWZWN0b3IyZChOdW1iZXIuTUlOX1ZBTFVFLCBOdW1iZXIuTUlOX1ZBTFVFKTtcclxuXHJcblx0cHVibGljIFg6IG51bWJlciA9IDA7XHJcblx0cHVibGljIFk6IG51bWJlciA9IDA7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcblx0XHR0aGlzLlggPSB4O1xyXG5cdFx0dGhpcy5ZID0geTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBOZWdhdGUoKSB7XHJcblx0XHR0aGlzLlggPSAtdGhpcy5YO1xyXG5cdFx0dGhpcy5ZID0gLXRoaXMuWTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBEaXN0YW5jZVRvKHZhcjE6IFZlY3RvcjJkKTogbnVtYmVyIHtcclxuXHRcdGNvbnN0IHZhcjIgPSB0aGlzLlggLSB2YXIxLlg7XHJcblx0XHRjb25zdCB2YXI0ID0gdGhpcy5ZIC0gdmFyMS5ZO1xyXG5cdFx0cmV0dXJuIE1hdGguc3FydCh2YXIyICogdmFyMiArIHZhcjQgKiB2YXI0KTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBOb3JtYWxpemVkKCk6IFZlY3RvcjJkIHtcclxuXHRcdGNvbnN0IHZhcjEgPSAxIC8gTWF0aC5zcXJ0KHRoaXMuWCAqIHRoaXMuWCArIHRoaXMuWSAqIHRoaXMuWSk7XHJcblx0XHRyZXR1cm4gbmV3IFZlY3RvcjJkKHRoaXMuWCAqIHZhcjEsIHRoaXMuWSAqIHZhcjEpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIERvdCh2YXIxOiBWZWN0b3IyZCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5YICogdmFyMS5YICsgdGhpcy5ZICogdmFyMS5ZO1xyXG5cdH1cclxuXHJcblx0cHVibGljIERpc3RhbmNlU3F1YXJlZCh2YXIxOiBWZWN0b3IyZCk6IG51bWJlciB7XHJcblx0XHRjb25zdCB2YXIyID0gdGhpcy5YIC0gdmFyMS5YO1xyXG5cdFx0Y29uc3QgdmFyNCA9IHRoaXMuWSAtIHZhcjEuWTtcclxuXHRcdHJldHVybiB2YXIyICogdmFyMiArIHZhcjQgKiB2YXI0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIEFkZCh2OiBWZWN0b3IyZCk6IFZlY3RvcjJkIHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMmQodGhpcy5YICsgdi5YLCB0aGlzLlkgKyB2LlkpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIFN1Yih2OiBWZWN0b3IyZCk6IFZlY3RvcjJkIHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMmQodGhpcy5YIC0gdi5YLCB0aGlzLlkgLSB2LlkpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIE11bHRpcGx5U2NhbGFyKHNjYWxlOiBudW1iZXIpOiBWZWN0b3IyZCB7XHJcblx0XHRyZXR1cm4gbmV3IFZlY3RvcjJkKHRoaXMuWCAqIHNjYWxlLCB0aGlzLlkgKiBzY2FsZSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgRXF1YWxzKHY6IFZlY3RvcjJkKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5YID09PSB2LlggJiYgdGhpcy5ZID09PSB2Llk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgTm90RXF1YWxzKHY6IFZlY3RvcjJkKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gIXRoaXMuRXF1YWxzKHYpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIFRvU3RyaW5nKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gYCR7dGhpcy5YfSwgJHt0aGlzLll9YDtcclxuXHR9XHJcbn0iLCJpbXBvcnQge0lDb21wYXJlciwgTGlzdH0gZnJvbSBcIi4uL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmlvcml0eVF1ZXVlPFQ+IHtcclxuXHRwcml2YXRlIHJlYWRvbmx5IF9jb21wYXJlcjogSUNvbXBhcmVyPFQ+ID0gbnVsbDtcclxuXHRwcml2YXRlIHJlYWRvbmx5IF9oZWFwOiBMaXN0PFQ+ID0gbnVsbDtcclxuXHJcblx0Y29uc3RydWN0b3IoY2FwYWNpdHk6IG51bWJlciwgY29tcGFyZXI6IElDb21wYXJlcjxUPikge1xyXG5cdFx0dGhpcy5faGVhcCA9IG5ldyBMaXN0PFQ+KGNhcGFjaXR5KTtcclxuXHRcdHRoaXMuX2NvbXBhcmVyID0gY29tcGFyZXI7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgQ2xlYXIoKSB7XHJcblx0XHR0aGlzLl9oZWFwLkNsZWFyKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgQWRkKGl0ZW06IFQpIHtcclxuXHRcdGxldCBuID0gdGhpcy5faGVhcC5Db3VudDtcclxuXHRcdHRoaXMuX2hlYXAuQWRkKGl0ZW0pO1xyXG5cdFx0d2hpbGUgKG4gIT09IDApIHtcclxuXHRcdFx0Y29uc3QgcCA9IE1hdGguZmxvb3IobiAvIDIpO1xyXG5cdFx0XHRpZiAodGhpcy5fY29tcGFyZXIuQ29tcGFyZSh0aGlzLl9oZWFwW25dLCAodGhpcy5faGVhcFtwXSkpID49IDApIGJyZWFrO1xyXG5cdFx0XHRjb25zdCB0bXA6IFQgPSB0aGlzLl9oZWFwW25dO1xyXG5cdFx0XHR0aGlzLl9oZWFwW25dID0gdGhpcy5faGVhcFtwXTtcclxuXHRcdFx0dGhpcy5faGVhcFtwXSA9IHRtcDtcclxuXHRcdFx0biA9IHA7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXQgQ291bnQoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLl9oZWFwLkNvdW50O1xyXG5cdH1cclxuXHJcblx0Z2V0IEVtcHR5KCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2hlYXAuQ291bnQgPT09IDA7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgUGVlaygpOiBUIHtcclxuXHRcdHJldHVybiAhdGhpcy5faGVhcC5BbnkoKSA/IG51bGwgOiB0aGlzLl9oZWFwWzBdO1xyXG5cdH1cclxuXHJcblx0cHVibGljIE5leHQoKTogVCB7XHJcblx0XHRjb25zdCB2YWw6IFQgPSB0aGlzLl9oZWFwWzBdO1xyXG5cdFx0Y29uc3Qgbk1heCA9IHRoaXMuX2hlYXAuQ291bnQgLSAxO1xyXG5cdFx0dGhpcy5faGVhcFswXSA9IHRoaXMuX2hlYXBbbk1heF07XHJcblx0XHR0aGlzLl9oZWFwLlJlbW92ZUF0KG5NYXgpO1xyXG5cclxuXHRcdGxldCBwID0gMDtcclxuXHRcdHdoaWxlICh0cnVlKSB7XHJcblx0XHRcdGxldCBjID0gcCAqIDI7XHJcblx0XHRcdGlmIChjID49IG5NYXgpIGJyZWFrO1xyXG5cclxuXHRcdFx0aWYgKGMgKyAxIDwgbk1heCAmJiB0aGlzLl9jb21wYXJlci5Db21wYXJlKHRoaXMuX2hlYXBbYyArIDFdLCB0aGlzLl9oZWFwW2NdKSA8IDApIGMrKztcclxuXHJcblx0XHRcdGlmICh0aGlzLl9jb21wYXJlci5Db21wYXJlKHRoaXMuX2hlYXBbcF0sICh0aGlzLl9oZWFwW2NdKSkgPD0gMCkgYnJlYWs7XHJcblxyXG5cdFx0XHRjb25zdCB0bXA6IFQgPSB0aGlzLl9oZWFwW3BdO1xyXG5cdFx0XHR0aGlzLl9oZWFwW3BdID0gdGhpcy5faGVhcFtjXTtcclxuXHRcdFx0dGhpcy5faGVhcFtjXSA9IHRtcDtcclxuXHRcdFx0cCA9IGM7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdmFsO1xyXG5cdH1cclxufSIsImltcG9ydCB7SUNpcmN1bGFyTGlzdH0gZnJvbSBcIi4vQ2lyY3VsYXJMaXN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaXJjdWxhck5vZGUge1xyXG5cdHB1YmxpYyBMaXN0OiBJQ2lyY3VsYXJMaXN0ID0gbnVsbDtcclxuXHRwdWJsaWMgTmV4dDogQ2lyY3VsYXJOb2RlID0gbnVsbDtcclxuXHRwdWJsaWMgUHJldmlvdXM6IENpcmN1bGFyTm9kZSA9IG51bGw7XHJcblxyXG5cdHB1YmxpYyBBZGROZXh0KG5vZGU6IENpcmN1bGFyTm9kZSkge1xyXG5cdFx0dGhpcy5MaXN0LkFkZE5leHQodGhpcywgbm9kZSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgQWRkUHJldmlvdXMobm9kZTogQ2lyY3VsYXJOb2RlKSB7XHJcblx0XHR0aGlzLkxpc3QuQWRkUHJldmlvdXModGhpcywgbm9kZSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgUmVtb3ZlKCkge1xyXG5cdFx0dGhpcy5MaXN0LlJlbW92ZSh0aGlzKTtcclxuXHR9XHJcbn0iLCJpbXBvcnQgVmVjdG9yMmQgZnJvbSBcIi4vVmVjdG9yMmRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbmVMaW5lYXIyZCB7XHJcblx0cHVibGljIEE6IG51bWJlcjtcclxuXHRwdWJsaWMgQjogbnVtYmVyO1xyXG5cdHB1YmxpYyBDOiBudW1iZXI7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHBQMTogVmVjdG9yMmQgPSBWZWN0b3IyZC5FbXB0eSwgcFAyOiBWZWN0b3IyZCA9IFZlY3RvcjJkLkVtcHR5KSB7XHJcblx0XHR0aGlzLkEgPSBwUDEuWSAtIHBQMi5ZO1xyXG5cdFx0dGhpcy5CID0gcFAyLlggLSBwUDEuWDtcclxuXHRcdHRoaXMuQyA9IHBQMS5YICogcFAyLlkgLSBwUDIuWCAqIHBQMS5ZO1xyXG5cdH1cclxuXHJcblx0cHVibGljIFNldEZyb21Db2VmZmljaWVudHMoYTogbnVtYmVyLCBiOiBudW1iZXIsIGM6IG51bWJlcik6IExpbmVMaW5lYXIyZCB7XHJcblx0XHR0aGlzLkEgPSBhO1xyXG5cdFx0dGhpcy5CID0gYjtcclxuXHRcdHRoaXMuQyA9IGM7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgQ29sbGlkZShwTGluZTogTGluZUxpbmVhcjJkKTogVmVjdG9yMmQge1xyXG5cdFx0cmV0dXJuIExpbmVMaW5lYXIyZC5Db2xsaWRlKHRoaXMsIHBMaW5lKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgQ29sbGlkZShwTGluZTE6IExpbmVMaW5lYXIyZCwgcExpbmUyOiBMaW5lTGluZWFyMmQpOiBWZWN0b3IyZCB7XHJcblx0XHRyZXR1cm4gTGluZUxpbmVhcjJkLkNvbGxpZGVDb2VmZihwTGluZTEuQSwgcExpbmUxLkIsIHBMaW5lMS5DLCBwTGluZTIuQSwgcExpbmUyLkIsIHBMaW5lMi5DKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgQ29sbGlkZUNvZWZmKEExOiBudW1iZXIsIEIxOiBudW1iZXIsIEMxOiBudW1iZXIsIEEyOiBudW1iZXIsIEIyOiBudW1iZXIsIEMyOiBudW1iZXIpOiBWZWN0b3IyZCB7XHJcblx0XHRjb25zdCBXQUIgPSBBMSAqIEIyIC0gQTIgKiBCMTtcclxuXHRcdGNvbnN0IFdCQyA9IEIxICogQzIgLSBCMiAqIEMxO1xyXG5cdFx0Y29uc3QgV0NBID0gQzEgKiBBMiAtIEMyICogQTE7XHJcblxyXG5cdFx0cmV0dXJuIFdBQiA9PT0gMCA/IFZlY3RvcjJkLkVtcHR5IDogbmV3IFZlY3RvcjJkKFdCQyAvIFdBQiwgV0NBIC8gV0FCKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBDb250YWlucyhwb2ludDogVmVjdG9yMmQpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiBNYXRoLmFicygocG9pbnQuWCAqIHRoaXMuQSArIHBvaW50LlkgKiB0aGlzLkIgKyB0aGlzLkMpKSA8IE51bWJlci5FUFNJTE9OO1xyXG5cdH1cclxufSIsImltcG9ydCBDaXJjdWxhck5vZGUgZnJvbSBcIi4vQ2lyY3VsYXJOb2RlXCI7XHJcbmltcG9ydCBWZWN0b3IyZCBmcm9tIFwiLi4vUHJpbWl0aXZlcy9WZWN0b3IyZFwiO1xyXG5pbXBvcnQgTGluZUxpbmVhcjJkIGZyb20gXCIuLi9QcmltaXRpdmVzL0xpbmVMaW5lYXIyZFwiO1xyXG5pbXBvcnQgTGluZVBhcmFtZXRyaWMyZCBmcm9tIFwiLi4vUHJpbWl0aXZlcy9MaW5lUGFyYW1ldHJpYzJkXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFZGdlIGV4dGVuZHMgQ2lyY3VsYXJOb2RlIHtcclxuXHRwdWJsaWMgcmVhZG9ubHkgQmVnaW46IFZlY3RvcjJkO1xyXG5cdHB1YmxpYyByZWFkb25seSBFbmQ6IFZlY3RvcjJkO1xyXG5cdHB1YmxpYyByZWFkb25seSBOb3JtOiBWZWN0b3IyZDtcclxuXHJcblx0cHVibGljIHJlYWRvbmx5IExpbmVMaW5lYXIyZDogTGluZUxpbmVhcjJkO1xyXG5cdHB1YmxpYyBCaXNlY3Rvck5leHQ6IExpbmVQYXJhbWV0cmljMmQgPSBudWxsO1xyXG5cdHB1YmxpYyBCaXNlY3RvclByZXZpb3VzOiBMaW5lUGFyYW1ldHJpYzJkID0gbnVsbDtcclxuXHJcblx0Y29uc3RydWN0b3IoYmVnaW46IFZlY3RvcjJkLCBlbmQ6IFZlY3RvcjJkKSB7XHJcblx0XHRzdXBlcigpO1xyXG5cclxuXHRcdHRoaXMuQmVnaW4gPSBiZWdpbjtcclxuXHRcdHRoaXMuRW5kID0gZW5kO1xyXG5cclxuXHRcdHRoaXMuTGluZUxpbmVhcjJkID0gbmV3IExpbmVMaW5lYXIyZChiZWdpbiwgZW5kKTtcclxuXHRcdHRoaXMuTm9ybSA9IGVuZC5TdWIoYmVnaW4pLk5vcm1hbGl6ZWQoKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBUb1N0cmluZygpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIGBFZGdlIFtwMT0ke3RoaXMuQmVnaW59LCBwMj0ke3RoaXMuRW5kfV1gO1xyXG5cdH1cclxufSIsImltcG9ydCBDaXJjdWxhck5vZGUgZnJvbSBcIi4vQ2lyY3VsYXJOb2RlXCI7XHJcbmltcG9ydCBWZWN0b3IyZCBmcm9tIFwiLi4vUHJpbWl0aXZlcy9WZWN0b3IyZFwiO1xyXG5pbXBvcnQgTGluZVBhcmFtZXRyaWMyZCBmcm9tIFwiLi4vUHJpbWl0aXZlcy9MaW5lUGFyYW1ldHJpYzJkXCI7XHJcbmltcG9ydCBFZGdlIGZyb20gXCIuL0VkZ2VcIjtcclxuaW1wb3J0IHtGYWNlTm9kZX0gZnJvbSBcIi4uL1BhdGgvRmFjZU5vZGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlcnRleCBleHRlbmRzIENpcmN1bGFyTm9kZSB7XHJcblx0cmVhZG9ubHkgUm91bmREaWdpdENvdW50ID0gNTtcclxuXHJcblx0cHVibGljIFBvaW50OiBWZWN0b3IyZCA9IG51bGw7XHJcblx0cHVibGljIHJlYWRvbmx5IERpc3RhbmNlOiBudW1iZXI7XHJcblx0cHVibGljIHJlYWRvbmx5IEJpc2VjdG9yOiBMaW5lUGFyYW1ldHJpYzJkID0gbnVsbDtcclxuXHJcblx0cHVibGljIHJlYWRvbmx5IE5leHRFZGdlOiBFZGdlID0gbnVsbDtcclxuXHRwdWJsaWMgcmVhZG9ubHkgUHJldmlvdXNFZGdlOiBFZGdlID0gbnVsbDtcclxuXHJcblx0cHVibGljIExlZnRGYWNlOiBGYWNlTm9kZSA9IG51bGw7XHJcblx0cHVibGljIFJpZ2h0RmFjZTogRmFjZU5vZGUgPSBudWxsO1xyXG5cclxuXHRwdWJsaWMgSXNQcm9jZXNzZWQ6IGJvb2xlYW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKHBvaW50OiBWZWN0b3IyZCwgZGlzdGFuY2U6IG51bWJlciwgYmlzZWN0b3I6IExpbmVQYXJhbWV0cmljMmQsIHByZXZpb3VzRWRnZTogRWRnZSwgbmV4dEVkZ2U6IEVkZ2UpIHtcclxuXHRcdHN1cGVyKCk7XHJcblxyXG5cdFx0dGhpcy5Qb2ludCA9IHBvaW50O1xyXG5cdFx0dGhpcy5EaXN0YW5jZSA9ICtkaXN0YW5jZS50b0ZpeGVkKHRoaXMuUm91bmREaWdpdENvdW50KTtcclxuXHRcdHRoaXMuQmlzZWN0b3IgPSBiaXNlY3RvcjtcclxuXHRcdHRoaXMuUHJldmlvdXNFZGdlID0gcHJldmlvdXNFZGdlO1xyXG5cdFx0dGhpcy5OZXh0RWRnZSA9IG5leHRFZGdlO1xyXG5cclxuXHRcdHRoaXMuSXNQcm9jZXNzZWQgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBUb1N0cmluZygpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIFwiVmVydGV4IFt2PVwiICsgdGhpcy5Qb2ludCArIFwiLCBJc1Byb2Nlc3NlZD1cIiArIHRoaXMuSXNQcm9jZXNzZWQgK1xyXG5cdFx0XHRcIiwgQmlzZWN0b3I9XCIgKyB0aGlzLkJpc2VjdG9yICsgXCIsIFByZXZpb3VzRWRnZT1cIiArIHRoaXMuUHJldmlvdXNFZGdlICtcclxuXHRcdFx0XCIsIE5leHRFZGdlPVwiICsgdGhpcy5OZXh0RWRnZTtcclxuXHR9XHJcbn0iLCJpbXBvcnQgQ2lyY3VsYXJOb2RlIGZyb20gXCIuL0NpcmN1bGFyTm9kZVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQ2lyY3VsYXJMaXN0IHtcclxuXHRyZWFkb25seSBTaXplOiBudW1iZXI7XHJcblxyXG5cdEFkZE5leHQobm9kZTogQ2lyY3VsYXJOb2RlLCBuZXdOb2RlOiBDaXJjdWxhck5vZGUpOiB2b2lkO1xyXG5cclxuXHRBZGRQcmV2aW91cyhub2RlOiBDaXJjdWxhck5vZGUsIG5ld05vZGU6IENpcmN1bGFyTm9kZSk6IHZvaWQ7XHJcblxyXG5cdEFkZExhc3Qobm9kZTogQ2lyY3VsYXJOb2RlKTogdm9pZDtcclxuXHJcblx0UmVtb3ZlKG5vZGU6IENpcmN1bGFyTm9kZSk6IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENpcmN1bGFyTGlzdDxUIGV4dGVuZHMgQ2lyY3VsYXJOb2RlPiBpbXBsZW1lbnRzIElDaXJjdWxhckxpc3Qge1xyXG5cdHByaXZhdGUgX2ZpcnN0OiBUID0gbnVsbDtcclxuXHRwcml2YXRlIF9zaXplOiBudW1iZXIgPSAwO1xyXG5cclxuXHRwdWJsaWMgQWRkTmV4dChub2RlOiBDaXJjdWxhck5vZGUsIG5ld05vZGU6IENpcmN1bGFyTm9kZSkge1xyXG5cdFx0aWYgKG5ld05vZGUuTGlzdCAhPT0gbnVsbClcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiTm9kZSBpcyBhbHJlYWR5IGFzc2lnbmVkIHRvIGRpZmZlcmVudCBsaXN0IVwiKTtcclxuXHJcblx0XHRuZXdOb2RlLkxpc3QgPSB0aGlzO1xyXG5cclxuXHRcdG5ld05vZGUuUHJldmlvdXMgPSBub2RlO1xyXG5cdFx0bmV3Tm9kZS5OZXh0ID0gbm9kZS5OZXh0O1xyXG5cclxuXHRcdG5vZGUuTmV4dC5QcmV2aW91cyA9IG5ld05vZGU7XHJcblx0XHRub2RlLk5leHQgPSBuZXdOb2RlO1xyXG5cclxuXHRcdHRoaXMuX3NpemUrKztcclxuXHR9XHJcblxyXG5cdEFkZFByZXZpb3VzKG5vZGU6IENpcmN1bGFyTm9kZSwgbmV3Tm9kZTogQ2lyY3VsYXJOb2RlKSB7XHJcblx0XHRpZiAobmV3Tm9kZS5MaXN0ICE9PSBudWxsKVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb2RlIGlzIGFscmVhZHkgYXNzaWduZWQgdG8gZGlmZmVyZW50IGxpc3QhXCIpO1xyXG5cclxuXHRcdG5ld05vZGUuTGlzdCA9IHRoaXM7XHJcblxyXG5cdFx0bmV3Tm9kZS5QcmV2aW91cyA9IG5vZGUuUHJldmlvdXM7XHJcblx0XHRuZXdOb2RlLk5leHQgPSBub2RlO1xyXG5cclxuXHRcdG5vZGUuUHJldmlvdXMuTmV4dCA9IG5ld05vZGU7XHJcblx0XHRub2RlLlByZXZpb3VzID0gbmV3Tm9kZTtcclxuXHJcblx0XHR0aGlzLl9zaXplKys7XHJcblx0fVxyXG5cclxuXHRBZGRMYXN0KG5vZGU6IENpcmN1bGFyTm9kZSkge1xyXG5cdFx0aWYgKG5vZGUuTGlzdCAhPT0gbnVsbClcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiTm9kZSBpcyBhbHJlYWR5IGFzc2lnbmVkIHRvIGRpZmZlcmVudCBsaXN0IVwiKTtcclxuXHJcblx0XHRpZiAodGhpcy5fZmlyc3QgPT09IG51bGwpIHtcclxuXHRcdFx0dGhpcy5fZmlyc3QgPSBub2RlIGFzIFQ7XHJcblxyXG5cdFx0XHRub2RlLkxpc3QgPSB0aGlzO1xyXG5cdFx0XHRub2RlLk5leHQgPSBub2RlO1xyXG5cdFx0XHRub2RlLlByZXZpb3VzID0gbm9kZTtcclxuXHJcblx0XHRcdHRoaXMuX3NpemUrKztcclxuXHRcdH0gZWxzZVxyXG5cdFx0XHR0aGlzLkFkZFByZXZpb3VzKHRoaXMuX2ZpcnN0LCBub2RlKTtcclxuXHR9XHJcblxyXG5cdFJlbW92ZShub2RlOiBDaXJjdWxhck5vZGUpIHtcclxuXHRcdGlmIChub2RlLkxpc3QgIT09IHRoaXMpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIk5vZGUgaXMgbm90IGFzc2lnbmVkIHRvIHRoaXMgbGlzdCFcIik7XHJcblxyXG5cdFx0aWYgKHRoaXMuX3NpemUgPD0gMClcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiTGlzdCBpcyBlbXB0eSBjYW4ndCByZW1vdmUhXCIpO1xyXG5cclxuXHRcdG5vZGUuTGlzdCA9IG51bGw7XHJcblxyXG5cdFx0aWYgKHRoaXMuX3NpemUgPT09IDEpXHJcblx0XHRcdHRoaXMuX2ZpcnN0ID0gbnVsbDtcclxuXHJcblx0XHRlbHNlIHtcclxuXHRcdFx0aWYgKHRoaXMuX2ZpcnN0ID09PSBub2RlKVxyXG5cdFx0XHRcdHRoaXMuX2ZpcnN0ID0gPFQ+dGhpcy5fZmlyc3QuTmV4dDtcclxuXHJcblx0XHRcdG5vZGUuUHJldmlvdXMuTmV4dCA9IG5vZGUuTmV4dDtcclxuXHRcdFx0bm9kZS5OZXh0LlByZXZpb3VzID0gbm9kZS5QcmV2aW91cztcclxuXHRcdH1cclxuXHJcblx0XHRub2RlLlByZXZpb3VzID0gbnVsbDtcclxuXHRcdG5vZGUuTmV4dCA9IG51bGw7XHJcblxyXG5cdFx0dGhpcy5fc2l6ZS0tO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBTaXplKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5fc2l6ZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBGaXJzdCgpOiBUIHtcclxuXHRcdHJldHVybiB0aGlzLl9maXJzdDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyogSXRlcmF0ZSgpOiBHZW5lcmF0b3I8VD4ge1xyXG5cdFx0bGV0IGN1cnJlbnQgPSB0aGlzLl9maXJzdDtcclxuXHRcdGxldCBpID0gMDtcclxuXHJcblx0XHR3aGlsZSAoY3VycmVudCAhPT0gbnVsbCkge1xyXG5cdFx0XHR5aWVsZCBjdXJyZW50O1xyXG5cclxuXHRcdFx0aWYgKCsraSA9PT0gdGhpcy5TaXplKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjdXJyZW50ID0gPFQ+Y3VycmVudC5OZXh0O1xyXG5cdFx0fVxyXG5cdH1cclxufSIsImltcG9ydCBQYXRoUXVldWUgZnJvbSBcIi4vUGF0aFF1ZXVlXCI7XHJcbmltcG9ydCB7RmFjZU5vZGV9IGZyb20gXCIuL0ZhY2VOb2RlXCI7XHJcbmltcG9ydCBQYXRoUXVldWVOb2RlIGZyb20gXCIuL1BhdGhRdWV1ZU5vZGVcIjtcclxuaW1wb3J0IEVkZ2UgZnJvbSBcIi4uL0NpcmN1bGFyL0VkZ2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZhY2VRdWV1ZSBleHRlbmRzIFBhdGhRdWV1ZTxGYWNlTm9kZT4ge1xyXG5cdHB1YmxpYyBFZGdlOiBFZGdlID0gbnVsbDtcclxuXHRwdWJsaWMgQ2xvc2VkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG5cdHB1YmxpYyBnZXQgSXNVbmNvbm5lY3RlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLkVkZ2UgPT09IG51bGw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgb3ZlcnJpZGUgQWRkUHVzaChub2RlOiBQYXRoUXVldWVOb2RlPEZhY2VOb2RlPiwgbmV3Tm9kZTogUGF0aFF1ZXVlTm9kZTxGYWNlTm9kZT4pIHtcclxuXHRcdGlmICh0aGlzLkNsb3NlZClcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgYWRkIG5vZGUgdG8gY2xvc2VkIEZhY2VRdWV1ZVwiKTtcclxuXHJcblx0XHRzdXBlci5BZGRQdXNoKG5vZGUsIG5ld05vZGUpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIENsb3NlKCkge1xyXG5cdFx0dGhpcy5DbG9zZWQgPSB0cnVlO1xyXG5cdH1cclxufSIsImltcG9ydCBQYXRoUXVldWVOb2RlIGZyb20gXCIuL1BhdGhRdWV1ZU5vZGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhdGhRdWV1ZTxUIGV4dGVuZHMgUGF0aFF1ZXVlTm9kZTxUPj4ge1xyXG5cdHB1YmxpYyBTaXplOiBudW1iZXIgPSAwO1xyXG5cdHB1YmxpYyBGaXJzdDogUGF0aFF1ZXVlTm9kZTxUPiA9IG51bGw7XHJcblxyXG5cdHB1YmxpYyBBZGRQdXNoKG5vZGU6IFBhdGhRdWV1ZU5vZGU8VD4sIG5ld05vZGU6IFBhdGhRdWV1ZU5vZGU8VD4pIHtcclxuXHRcdGlmIChuZXdOb2RlLkxpc3QgIT09IG51bGwpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIk5vZGUgaXMgYWxyZWFkeSBhc3NpZ25lZCB0byBkaWZmZXJlbnQgbGlzdCFcIik7XHJcblxyXG5cdFx0aWYgKG5vZGUuTmV4dCAhPT0gbnVsbCAmJiBub2RlLlByZXZpb3VzICE9PSBudWxsKVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBwdXNoIG5ldyBub2RlLiBOb2RlIGlzIGluc2lkZSBhIFF1ZXJlLiBcIiArXHJcblx0XHRcdFx0XCJOZXcgbm9kZSBjYW4gYnkgYWRkZWQgb25seSBhdCB0aGUgZW5kIG9mIHF1ZXVlLlwiKTtcclxuXHJcblx0XHRuZXdOb2RlLkxpc3QgPSB0aGlzO1xyXG5cdFx0dGhpcy5TaXplKys7XHJcblxyXG5cdFx0aWYgKG5vZGUuTmV4dCA9PT0gbnVsbCkge1xyXG5cdFx0XHRuZXdOb2RlLlByZXZpb3VzID0gbm9kZTtcclxuXHRcdFx0bmV3Tm9kZS5OZXh0ID0gbnVsbDtcclxuXHJcblx0XHRcdG5vZGUuTmV4dCA9IG5ld05vZGU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRuZXdOb2RlLlByZXZpb3VzID0gbnVsbDtcclxuXHRcdFx0bmV3Tm9kZS5OZXh0ID0gbm9kZTtcclxuXHJcblx0XHRcdG5vZGUuUHJldmlvdXMgPSBuZXdOb2RlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIEFkZEZpcnN0KG5vZGU6IFQpIHtcclxuXHRcdGlmIChub2RlLkxpc3QgIT09IG51bGwpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIk5vZGUgaXMgYWxyZWFkeSBhc3NpZ25lZCB0byBkaWZmZXJlbnQgbGlzdCFcIik7XHJcblxyXG5cdFx0aWYgKHRoaXMuRmlyc3QgPT09IG51bGwpIHtcclxuXHRcdFx0dGhpcy5GaXJzdCA9IG5vZGU7XHJcblxyXG5cdFx0XHRub2RlLkxpc3QgPSB0aGlzO1xyXG5cdFx0XHRub2RlLk5leHQgPSBudWxsO1xyXG5cdFx0XHRub2RlLlByZXZpb3VzID0gbnVsbDtcclxuXHJcblx0XHRcdHRoaXMuU2l6ZSsrO1xyXG5cdFx0fSBlbHNlXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkZpcnN0IGVsZW1lbnQgYWxyZWFkeSBleGlzdCFcIik7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgUG9wKG5vZGU6IFBhdGhRdWV1ZU5vZGU8VD4pOiBQYXRoUXVldWVOb2RlPFQ+IHtcclxuXHRcdGlmIChub2RlLkxpc3QgIT09IHRoaXMpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIk5vZGUgaXMgbm90IGFzc2lnbmVkIHRvIHRoaXMgbGlzdCFcIik7XHJcblxyXG5cdFx0aWYgKHRoaXMuU2l6ZSA8PSAwKVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJMaXN0IGlzIGVtcHR5IGNhbid0IHJlbW92ZSFcIik7XHJcblxyXG5cdFx0aWYgKCFub2RlLklzRW5kKVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDYW4gcG9wIG9ubHkgZnJvbSBlbmQgb2YgcXVldWUhXCIpO1xyXG5cclxuXHRcdG5vZGUuTGlzdCA9IG51bGw7XHJcblxyXG5cdFx0bGV0IHByZXZpb3VzOiBQYXRoUXVldWVOb2RlPFQ+ID0gbnVsbDtcclxuXHJcblx0XHRpZiAodGhpcy5TaXplID09PSAxKVxyXG5cdFx0XHR0aGlzLkZpcnN0ID0gbnVsbDtcclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRpZiAodGhpcy5GaXJzdCA9PT0gbm9kZSkge1xyXG5cdFx0XHRcdGlmIChub2RlLk5leHQgIT09IG51bGwpXHJcblx0XHRcdFx0XHR0aGlzLkZpcnN0ID0gbm9kZS5OZXh0O1xyXG5cdFx0XHRcdGVsc2UgaWYgKG5vZGUuUHJldmlvdXMgIT09IG51bGwpXHJcblx0XHRcdFx0XHR0aGlzLkZpcnN0ID0gbm9kZS5QcmV2aW91cztcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVcHMgP1wiKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAobm9kZS5OZXh0ICE9PSBudWxsKSB7XHJcblx0XHRcdFx0bm9kZS5OZXh0LlByZXZpb3VzID0gbnVsbDtcclxuXHRcdFx0XHRwcmV2aW91cyA9IG5vZGUuTmV4dDtcclxuXHRcdFx0fSBlbHNlIGlmIChub2RlLlByZXZpb3VzICE9PSBudWxsKSB7XHJcblx0XHRcdFx0bm9kZS5QcmV2aW91cy5OZXh0ID0gbnVsbDtcclxuXHRcdFx0XHRwcmV2aW91cyA9IG5vZGUuUHJldmlvdXM7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRub2RlLlByZXZpb3VzID0gbnVsbDtcclxuXHRcdG5vZGUuTmV4dCA9IG51bGw7XHJcblxyXG5cdFx0dGhpcy5TaXplLS07XHJcblxyXG5cdFx0cmV0dXJuIHByZXZpb3VzO1xyXG5cdH1cclxuXHJcblx0cHVibGljKiBJdGVyYXRlKCk6IEdlbmVyYXRvcjxUPiB7XHJcblx0XHRsZXQgY3VycmVudDogVCA9IDxUPih0aGlzLkZpcnN0ICE9PSBudWxsID8gdGhpcy5GaXJzdC5GaW5kRW5kKCkgOiBudWxsKTtcclxuXHRcdGxldCBpID0gMDtcclxuXHJcblx0XHR3aGlsZSAoY3VycmVudCAhPT0gbnVsbClcclxuXHRcdHtcclxuXHRcdFx0eWllbGQgY3VycmVudDtcclxuXHJcblx0XHRcdGlmICgrK2kgPT09IHRoaXMuU2l6ZSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0XHRjdXJyZW50ID0gPFQ+Y3VycmVudC5OZXh0O1xyXG5cdFx0fVxyXG5cdH1cclxufSIsImltcG9ydCB7RmFjZU5vZGV9IGZyb20gXCIuL0ZhY2VOb2RlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGYWNlUXVldWVVdGlsIHtcclxuXHRwdWJsaWMgc3RhdGljIENvbm5lY3RRdWV1ZXMoZmlyc3RGYWNlOiBGYWNlTm9kZSwgc2Vjb25kRmFjZTogRmFjZU5vZGUpIHtcclxuXHRcdGlmIChmaXJzdEZhY2UuTGlzdCA9PT0gbnVsbClcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZmlyc3RGYWNlLmxpc3QgY2Fubm90IGJlIG51bGwuXCIpO1xyXG5cdFx0aWYgKHNlY29uZEZhY2UuTGlzdCA9PT0gbnVsbClcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic2Vjb25kRmFjZS5saXN0IGNhbm5vdCBiZSBudWxsLlwiKTtcclxuXHJcblx0XHRpZiAoZmlyc3RGYWNlLkxpc3QgPT09IHNlY29uZEZhY2UuTGlzdCkge1xyXG5cdFx0XHRpZiAoIWZpcnN0RmFjZS5Jc0VuZCB8fCAhc2Vjb25kRmFjZS5Jc0VuZClcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgdG8gY29ubmVjdCB0aGUgc2FtZSBsaXN0IG5vdCBvbiBlbmQgbm9kZXNcIik7XHJcblxyXG5cdFx0XHRpZiAoZmlyc3RGYWNlLklzUXVldWVVbmNvbm5lY3RlZCB8fCBzZWNvbmRGYWNlLklzUXVldWVVbmNvbm5lY3RlZClcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjYW4ndCBjbG9zZSBub2RlIHF1ZXVlIG5vdCBjb25lY3RlZCB3aXRoIGVkZ2VzXCIpO1xyXG5cclxuXHRcdFx0Zmlyc3RGYWNlLlF1ZXVlQ2xvc2UoKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghZmlyc3RGYWNlLklzUXVldWVVbmNvbm5lY3RlZCAmJiAhc2Vjb25kRmFjZS5Jc1F1ZXVlVW5jb25uZWN0ZWQpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcclxuXHRcdFx0XHRcImNhbid0IGNvbm5lY3QgdHdvIGRpZmZyZW50IHF1ZXVlcyBpZiBlYWNoIG9mIHRoZW0gaXMgY29ubmVjdGVkIHRvIGVkZ2VcIik7XHJcblxyXG5cdFx0aWYgKCFmaXJzdEZhY2UuSXNRdWV1ZVVuY29ubmVjdGVkKSB7XHJcblx0XHRcdGNvbnN0IHFMZWZ0ID0gc2Vjb25kRmFjZS5GYWNlUXVldWU7XHJcblx0XHRcdHRoaXMuTW92ZU5vZGVzKGZpcnN0RmFjZSwgc2Vjb25kRmFjZSk7XHJcblx0XHRcdHFMZWZ0LkNsb3NlKCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb25zdCBxUmlnaHQgPSBmaXJzdEZhY2UuRmFjZVF1ZXVlO1xyXG5cdFx0XHR0aGlzLk1vdmVOb2RlcyhzZWNvbmRGYWNlLCBmaXJzdEZhY2UpO1xyXG5cdFx0XHRxUmlnaHQuQ2xvc2UoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIE1vdmVOb2RlcyhmaXJzdEZhY2U6IEZhY2VOb2RlLCBzZWNvbmRGYWNlOiBGYWNlTm9kZSkge1xyXG5cdFx0Zmlyc3RGYWNlLkFkZFF1ZXVlKHNlY29uZEZhY2UpO1xyXG5cdH1cclxufSIsImltcG9ydCBWZXJ0ZXggZnJvbSBcIi4vQ2lyY3VsYXIvVmVydGV4XCI7XHJcbmltcG9ydCB7TGlzdH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuaW1wb3J0IENpcmN1bGFyTGlzdCBmcm9tIFwiLi9DaXJjdWxhci9DaXJjdWxhckxpc3RcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExhdlV0aWwge1xyXG5cdHB1YmxpYyBzdGF0aWMgSXNTYW1lTGF2KHYxOiBWZXJ0ZXgsIHYyOiBWZXJ0ZXgpOiBib29sZWFuIHtcclxuXHRcdGlmICh2MS5MaXN0ID09PSBudWxsIHx8IHYyLkxpc3QgPT09IG51bGwpXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdHJldHVybiB2MS5MaXN0ID09PSB2Mi5MaXN0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBSZW1vdmVGcm9tTGF2KHZlcnRleDogVmVydGV4KSB7XHJcblx0XHRpZiAodmVydGV4ID09PSBudWxsIHx8IHZlcnRleC5MaXN0ID09PSBudWxsKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR2ZXJ0ZXguUmVtb3ZlKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIEN1dExhdlBhcnQoc3RhcnRWZXJ0ZXg6IFZlcnRleCwgZW5kVmVydGV4OiBWZXJ0ZXgpOiBMaXN0PFZlcnRleD4ge1xyXG5cdFx0Y29uc3QgcmV0ID0gbmV3IExpc3Q8VmVydGV4PigpO1xyXG5cdFx0Y29uc3Qgc2l6ZSA9IHN0YXJ0VmVydGV4Lkxpc3QuU2l6ZTtcclxuXHRcdGxldCBuZXh0ID0gc3RhcnRWZXJ0ZXg7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgY3VycmVudCA9IG5leHQ7XHJcblx0XHRcdG5leHQgPSBjdXJyZW50Lk5leHQgYXMgVmVydGV4O1xyXG5cdFx0XHRjdXJyZW50LlJlbW92ZSgpO1xyXG5cdFx0XHRyZXQuQWRkKGN1cnJlbnQpO1xyXG5cclxuXHRcdFx0aWYgKGN1cnJlbnQgPT09IGVuZFZlcnRleClcclxuXHRcdFx0XHRyZXR1cm4gcmV0O1xyXG5cdFx0fVxyXG5cclxuXHRcdHRocm93IG5ldyBFcnJvcihcIkVuZCB2ZXJ0ZXggY2FuJ3QgYmUgZm91bmQgaW4gc3RhcnQgdmVydGV4IGxhdlwiKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgTWVyZ2VCZWZvcmVCYXNlVmVydGV4KGJhc2U6IFZlcnRleCwgbWVyZ2VkOiBWZXJ0ZXgpIHtcclxuXHRcdGNvbnN0IHNpemUgPSBtZXJnZWQuTGlzdC5TaXplO1xyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IG5leHRNZXJnZWQgPSBtZXJnZWQuTmV4dCBhcyBWZXJ0ZXg7XHJcblx0XHRcdG5leHRNZXJnZWQuUmVtb3ZlKCk7XHJcblxyXG5cdFx0XHRiYXNlLkFkZFByZXZpb3VzKG5leHRNZXJnZWQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBNb3ZlQWxsVmVydGV4VG9MYXZFbmQodmVydGV4OiBWZXJ0ZXgsIG5ld0xhdzogQ2lyY3VsYXJMaXN0PFZlcnRleD4pIHtcclxuXHRcdGNvbnN0IHNpemUgPSB2ZXJ0ZXguTGlzdC5TaXplO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgdmVyID0gdmVydGV4O1xyXG5cdFx0XHR2ZXJ0ZXggPSB2ZXJ0ZXguTmV4dCBhcyBWZXJ0ZXg7XHJcblx0XHRcdHZlci5SZW1vdmUoKTtcclxuXHRcdFx0bmV3TGF3LkFkZExhc3QodmVyKTtcclxuXHRcdH1cclxuXHR9XHJcbn0iLCJpbXBvcnQgVmVjdG9yMmQgZnJvbSBcIi4vVmVjdG9yMmRcIjtcclxuaW1wb3J0IExpbmVQYXJhbWV0cmljMmQgZnJvbSBcIi4vTGluZVBhcmFtZXRyaWMyZFwiO1xyXG5pbXBvcnQge0xpc3R9IGZyb20gXCIuLi9VdGlsc1wiO1xyXG5cclxuY2xhc3MgSW50ZXJzZWN0UG9pbnRzIHtcclxuXHRwdWJsaWMgcmVhZG9ubHkgSW50ZXJzZWN0OiBWZWN0b3IyZCA9IG51bGw7XHJcblx0cHVibGljIHJlYWRvbmx5IEludGVyc2VjdEVuZDogVmVjdG9yMmQgPSBudWxsO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihpbnRlcnNlY3Q/OiBWZWN0b3IyZCwgaW50ZXJzZWN0RW5kPzogVmVjdG9yMmQpIHtcclxuXHRcdGlmICghaW50ZXJzZWN0KSB7XHJcblx0XHRcdGludGVyc2VjdCA9IFZlY3RvcjJkLkVtcHR5O1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaW50ZXJzZWN0RW5kKSB7XHJcblx0XHRcdGludGVyc2VjdEVuZCA9IFZlY3RvcjJkLkVtcHR5O1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuSW50ZXJzZWN0ID0gaW50ZXJzZWN0O1xyXG5cdFx0dGhpcy5JbnRlcnNlY3RFbmQgPSBpbnRlcnNlY3RFbmQ7XHJcblx0fVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJpbWl0aXZlVXRpbHMge1xyXG5cdHB1YmxpYyBzdGF0aWMgRnJvbVRvKGJlZ2luOiBWZWN0b3IyZCwgZW5kOiBWZWN0b3IyZCk6IFZlY3RvcjJkIHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMmQoZW5kLlggLSBiZWdpbi5YLCBlbmQuWSAtIGJlZ2luLlkpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBPcnRob2dvbmFsTGVmdCh2OiBWZWN0b3IyZCk6IFZlY3RvcjJkIHtcclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMmQoLXYuWSwgdi5YKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgT3J0aG9nb25hbFJpZ2h0KHY6IFZlY3RvcjJkKTogVmVjdG9yMmQge1xyXG5cdFx0cmV0dXJuIG5ldyBWZWN0b3IyZCh2LlksIC12LlgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBPcnRob2dvbmFsUHJvamVjdGlvbih1bml0VmVjdG9yOiBWZWN0b3IyZCwgdmVjdG9yVG9Qcm9qZWN0OiBWZWN0b3IyZCk6IFZlY3RvcjJkIHtcclxuXHRcdGNvbnN0IG4gPSBuZXcgVmVjdG9yMmQodW5pdFZlY3Rvci5YLCB1bml0VmVjdG9yLlkpLk5vcm1hbGl6ZWQoKTtcclxuXHJcblx0XHRjb25zdCBweCA9IHZlY3RvclRvUHJvamVjdC5YO1xyXG5cdFx0Y29uc3QgcHkgPSB2ZWN0b3JUb1Byb2plY3QuWTtcclxuXHJcblx0XHRjb25zdCBheCA9IG4uWDtcclxuXHRcdGNvbnN0IGF5ID0gbi5ZO1xyXG5cclxuXHRcdHJldHVybiBuZXcgVmVjdG9yMmQocHggKiBheCAqIGF4ICsgcHkgKiBheCAqIGF5LCBweCAqIGF4ICogYXkgKyBweSAqIGF5ICogYXkpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBCaXNlY3Rvck5vcm1hbGl6ZWQobm9ybTE6IFZlY3RvcjJkLCBub3JtMjogVmVjdG9yMmQpOiBWZWN0b3IyZCB7XHJcblx0XHRjb25zdCBlMXYgPSBQcmltaXRpdmVVdGlscy5PcnRob2dvbmFsTGVmdChub3JtMSk7XHJcblx0XHRjb25zdCBlMnYgPSBQcmltaXRpdmVVdGlscy5PcnRob2dvbmFsTGVmdChub3JtMik7XHJcblxyXG5cdFx0aWYgKG5vcm0xLkRvdChub3JtMikgPiAwKVxyXG5cdFx0XHRyZXR1cm4gZTF2LkFkZChlMnYpO1xyXG5cclxuXHRcdGxldCByZXQgPSBuZXcgVmVjdG9yMmQobm9ybTEuWCwgbm9ybTEuWSk7XHJcblx0XHRyZXQuTmVnYXRlKCk7XHJcblx0XHRyZXQgPSByZXQuQWRkKG5vcm0yKTtcclxuXHJcblx0XHRpZiAoZTF2LkRvdChub3JtMikgPCAwKVxyXG5cdFx0XHRyZXQuTmVnYXRlKCk7XHJcblxyXG5cdFx0cmV0dXJuIHJldDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFNtYWxsTnVtID0gMC4wMDAwMDAwMTtcclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgRW1wdHk6IEludGVyc2VjdFBvaW50cyA9IG5ldyBJbnRlcnNlY3RQb2ludHMoKTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBJc1BvaW50T25SYXkocG9pbnQ6IFZlY3RvcjJkLCByYXk6IExpbmVQYXJhbWV0cmljMmQsIGVwc2lsb246IG51bWJlcik6IGJvb2xlYW4ge1xyXG5cdFx0Y29uc3QgcmF5RGlyZWN0aW9uID0gbmV3IFZlY3RvcjJkKHJheS5VLlgsIHJheS5VLlkpLk5vcm1hbGl6ZWQoKTtcclxuXHJcblx0XHRjb25zdCBwb2ludFZlY3RvciA9IHBvaW50LlN1YihyYXkuQSk7XHJcblxyXG5cdFx0bGV0IGRvdCA9IHJheURpcmVjdGlvbi5Eb3QocG9pbnRWZWN0b3IpO1xyXG5cclxuXHRcdGlmIChkb3QgPCBlcHNpbG9uKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0Y29uc3QgeCA9IHJheURpcmVjdGlvbi5YO1xyXG5cdFx0cmF5RGlyZWN0aW9uLlggPSByYXlEaXJlY3Rpb24uWTtcclxuXHRcdHJheURpcmVjdGlvbi5ZID0gLXg7XHJcblxyXG5cdFx0ZG90ID0gcmF5RGlyZWN0aW9uLkRvdChwb2ludFZlY3Rvcik7XHJcblxyXG5cdFx0cmV0dXJuIC1lcHNpbG9uIDwgZG90ICYmIGRvdCA8IGVwc2lsb247XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIEludGVyc2VjdFJheXMyRChyMTogTGluZVBhcmFtZXRyaWMyZCwgcjI6IExpbmVQYXJhbWV0cmljMmQpOiBJbnRlcnNlY3RQb2ludHMge1xyXG5cdFx0Y29uc3QgczFwMCA9IHIxLkE7XHJcblx0XHRjb25zdCBzMXAxID0gcjEuQS5BZGQocjEuVSk7XHJcblxyXG5cdFx0Y29uc3QgczJwMCA9IHIyLkE7XHJcblxyXG5cdFx0Y29uc3QgdSA9IHIxLlU7XHJcblx0XHRjb25zdCB2ID0gcjIuVTtcclxuXHJcblx0XHRjb25zdCB3ID0gczFwMC5TdWIoczJwMCk7XHJcblx0XHRjb25zdCBkID0gUHJpbWl0aXZlVXRpbHMuUGVycCh1LCB2KTtcclxuXHJcblx0XHRpZiAoTWF0aC5hYnMoZCkgPCBQcmltaXRpdmVVdGlscy5TbWFsbE51bSkge1xyXG5cdFx0XHRpZiAoUHJpbWl0aXZlVXRpbHMuUGVycCh1LCB3KSAhPT0gMCB8fCBQcmltaXRpdmVVdGlscy5QZXJwKHYsIHcpICE9PSAwKVxyXG5cdFx0XHRcdHJldHVybiBQcmltaXRpdmVVdGlscy5FbXB0eTtcclxuXHJcblx0XHRcdGNvbnN0IGR1ID0gUHJpbWl0aXZlVXRpbHMuRG90KHUsIHUpO1xyXG5cdFx0XHRjb25zdCBkdiA9IFByaW1pdGl2ZVV0aWxzLkRvdCh2LCB2KTtcclxuXHJcblx0XHRcdGlmIChkdSA9PT0gMCAmJiBkdiA9PT0gMCkge1xyXG5cdFx0XHRcdGlmIChzMXAwLk5vdEVxdWFscyhzMnAwKSlcclxuXHRcdFx0XHRcdHJldHVybiBQcmltaXRpdmVVdGlscy5FbXB0eTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIG5ldyBJbnRlcnNlY3RQb2ludHMoczFwMCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGR1ID09PSAwKSB7XHJcblx0XHRcdFx0aWYgKCFQcmltaXRpdmVVdGlscy5JbkNvbGxpbmVhclJheShzMXAwLCBzMnAwLCB2KSlcclxuXHRcdFx0XHRcdHJldHVybiBQcmltaXRpdmVVdGlscy5FbXB0eTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIG5ldyBJbnRlcnNlY3RQb2ludHMoczFwMCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGR2ID09PSAwKSB7XHJcblx0XHRcdFx0aWYgKCFQcmltaXRpdmVVdGlscy5JbkNvbGxpbmVhclJheShzMnAwLCBzMXAwLCB1KSlcclxuXHRcdFx0XHRcdHJldHVybiBQcmltaXRpdmVVdGlscy5FbXB0eTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIG5ldyBJbnRlcnNlY3RQb2ludHMoczJwMCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGxldCB0MCwgdDE7XHJcblx0XHRcdHZhciB3MiA9IHMxcDEuU3ViKHMycDApO1xyXG5cdFx0XHRpZiAodi5YICE9PSAwKSB7XHJcblx0XHRcdFx0dDAgPSB3LlggLyB2Llg7XHJcblx0XHRcdFx0dDEgPSB3Mi5YIC8gdi5YO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHQwID0gdy5ZIC8gdi5ZO1xyXG5cdFx0XHRcdHQxID0gdzIuWSAvIHYuWTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodDAgPiB0MSkge1xyXG5cdFx0XHRcdGNvbnN0IHQgPSB0MDtcclxuXHRcdFx0XHR0MCA9IHQxO1xyXG5cdFx0XHRcdHQxID0gdDtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodDEgPCAwKVxyXG5cdFx0XHRcdHJldHVybiBQcmltaXRpdmVVdGlscy5FbXB0eTtcclxuXHJcblx0XHRcdHQwID0gdDAgPCAwID8gMCA6IHQwO1xyXG5cclxuXHRcdFx0aWYgKHQwID09PSB0MSkge1xyXG5cdFx0XHRcdGxldCBJMCA9IG5ldyBWZWN0b3IyZCh2LlgsIHYuWSk7XHJcblx0XHRcdFx0STAgPSBJMC5NdWx0aXBseVNjYWxhcih0MCk7XHJcblx0XHRcdFx0STAgPSBJMC5BZGQoczJwMCk7XHJcblxyXG5cdFx0XHRcdHJldHVybiBuZXcgSW50ZXJzZWN0UG9pbnRzKEkwKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IElfMCA9IG5ldyBWZWN0b3IyZCh2LlgsIHYuWSk7XHJcblx0XHRcdElfMCA9IElfMC5NdWx0aXBseVNjYWxhcih0MCk7XHJcblx0XHRcdElfMCA9IElfMC5BZGQoczJwMCk7XHJcblxyXG5cdFx0XHRsZXQgSTEgPSBuZXcgVmVjdG9yMmQodi5YLCB2LlkpO1xyXG5cdFx0XHRJMSA9IEkxLk11bHRpcGx5U2NhbGFyKHQxKTtcclxuXHRcdFx0STEgPSBJMS5BZGQoczJwMCk7XHJcblxyXG5cdFx0XHRyZXR1cm4gbmV3IEludGVyc2VjdFBvaW50cyhJXzAsIEkxKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzSSA9IFByaW1pdGl2ZVV0aWxzLlBlcnAodiwgdykgLyBkO1xyXG5cdFx0aWYgKHNJIDwgMCAvKiB8fCBzSSA+IDEgKi8pXHJcblx0XHRcdHJldHVybiBQcmltaXRpdmVVdGlscy5FbXB0eTtcclxuXHJcblx0XHRjb25zdCB0SSA9IFByaW1pdGl2ZVV0aWxzLlBlcnAodSwgdykgLyBkO1xyXG5cdFx0aWYgKHRJIDwgMCAvKiB8fCB0SSA+IDEgKi8pXHJcblx0XHRcdHJldHVybiBQcmltaXRpdmVVdGlscy5FbXB0eTtcclxuXHJcblx0XHRsZXQgSU8gPSBuZXcgVmVjdG9yMmQodS5YLCB1LlkpO1xyXG5cdFx0SU8gPSBJTy5NdWx0aXBseVNjYWxhcihzSSk7XHJcblx0XHRJTyA9IElPLkFkZChzMXAwKTtcclxuXHJcblx0XHRyZXR1cm4gbmV3IEludGVyc2VjdFBvaW50cyhJTyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBJbkNvbGxpbmVhclJheShwOiBWZWN0b3IyZCwgcmF5U3RhcnQ6IFZlY3RvcjJkLCByYXlEaXJlY3Rpb246IFZlY3RvcjJkKTogYm9vbGVhbiB7XHJcblx0XHRjb25zdCBjb2xsaWRlVmVjdG9yID0gcC5TdWIocmF5U3RhcnQpO1xyXG5cdFx0Y29uc3QgZG90ID0gcmF5RGlyZWN0aW9uLkRvdChjb2xsaWRlVmVjdG9yKTtcclxuXHJcblx0XHRyZXR1cm4gIShkb3QgPCAwKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIERvdCh1OiBWZWN0b3IyZCwgdjogVmVjdG9yMmQpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHUuRG90KHYpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgUGVycCh1OiBWZWN0b3IyZCwgdjogVmVjdG9yMmQpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHUuWCAqIHYuWSAtIHUuWSAqIHYuWDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgSXNDbG9ja3dpc2VQb2x5Z29uKHBvbHlnb246IExpc3Q8VmVjdG9yMmQ+KTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gUHJpbWl0aXZlVXRpbHMuQXJlYShwb2x5Z29uKSA8IDA7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBBcmVhKHBvbHlnb246IExpc3Q8VmVjdG9yMmQ+KTogbnVtYmVyIHtcclxuXHRcdGNvbnN0IG4gPSBwb2x5Z29uLkNvdW50O1xyXG5cdFx0bGV0IEEgPSAwO1xyXG5cdFx0Zm9yIChsZXQgcCA9IG4gLSAxLCBxID0gMDsgcSA8IG47IHAgPSBxKyspXHJcblx0XHRcdEEgKz0gcG9seWdvbltwXS5YICogcG9seWdvbltxXS5ZIC0gcG9seWdvbltxXS5YICogcG9seWdvbltwXS5ZO1xyXG5cclxuXHRcdHJldHVybiBBICogMC41O1xyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBNYWtlQ291bnRlckNsb2Nrd2lzZShwb2x5Z29uOiBMaXN0PFZlY3RvcjJkPik6IExpc3Q8VmVjdG9yMmQ+IHtcclxuXHRcdGlmIChQcmltaXRpdmVVdGlscy5Jc0Nsb2Nrd2lzZVBvbHlnb24ocG9seWdvbikpXHJcblx0XHRcdHBvbHlnb24uUmV2ZXJzZSgpO1xyXG5cclxuXHRcdHJldHVybiBwb2x5Z29uO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBJc1BvaW50SW5zaWRlUG9seWdvbihwb2ludDogVmVjdG9yMmQsIHBvaW50czogTGlzdDxWZWN0b3IyZD4pOiBib29sZWFuIHtcclxuXHRcdGNvbnN0IG51bXBvaW50cyA9IHBvaW50cy5Db3VudDtcclxuXHJcblx0XHRpZiAobnVtcG9pbnRzIDwgMylcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdGxldCBpdCA9IDA7XHJcblx0XHRjb25zdCBmaXJzdCA9IHBvaW50c1tpdF07XHJcblx0XHRsZXQgb2RkTm9kZXMgPSBmYWxzZTtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG51bXBvaW50czsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IG5vZGUxID0gcG9pbnRzW2l0XTtcclxuXHRcdFx0aXQrKztcclxuXHRcdFx0Y29uc3Qgbm9kZTIgPSBpID09PSBudW1wb2ludHMgLSAxID8gZmlyc3QgOiBwb2ludHNbaXRdO1xyXG5cclxuXHRcdFx0Y29uc3QgeCA9IHBvaW50Llg7XHJcblx0XHRcdGNvbnN0IHkgPSBwb2ludC5ZO1xyXG5cclxuXHRcdFx0aWYgKG5vZGUxLlkgPCB5ICYmIG5vZGUyLlkgPj0geSB8fCBub2RlMi5ZIDwgeSAmJiBub2RlMS5ZID49IHkpIHtcclxuXHRcdFx0XHRpZiAobm9kZTEuWCArICh5IC0gbm9kZTEuWSkgLyAobm9kZTIuWSAtIG5vZGUxLlkpICogKG5vZGUyLlggLSBub2RlMS5YKSA8IHgpXHJcblx0XHRcdFx0XHRvZGROb2RlcyA9ICFvZGROb2RlcztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBvZGROb2RlcztcclxuXHR9XHJcbn0iLCJpbXBvcnQgVmVjdG9yMmQgZnJvbSBcIi4vVmVjdG9yMmRcIjtcclxuaW1wb3J0IExpbmVMaW5lYXIyZCBmcm9tIFwiLi9MaW5lTGluZWFyMmRcIjtcclxuaW1wb3J0IFByaW1pdGl2ZVV0aWxzIGZyb20gXCIuL1ByaW1pdGl2ZVV0aWxzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaW5lUGFyYW1ldHJpYzJkIHtcclxuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVtcHR5OiBMaW5lUGFyYW1ldHJpYzJkID0gbmV3IExpbmVQYXJhbWV0cmljMmQoVmVjdG9yMmQuRW1wdHksIFZlY3RvcjJkLkVtcHR5KTtcclxuXHJcblx0cHVibGljIEE6IFZlY3RvcjJkID0gbnVsbDtcclxuXHRwdWJsaWMgVTogVmVjdG9yMmQgPSBudWxsO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihwQTogVmVjdG9yMmQsIHBVOiBWZWN0b3IyZCkge1xyXG5cdFx0dGhpcy5BID0gcEE7XHJcblx0XHR0aGlzLlUgPSBwVTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBDcmVhdGVMaW5lYXJGb3JtKCk6IExpbmVMaW5lYXIyZCB7XHJcblx0XHRjb25zdCB4ID0gdGhpcy5BLlg7XHJcblx0XHRjb25zdCB5ID0gdGhpcy5BLlk7XHJcblxyXG5cdFx0Y29uc3QgQiA9IC10aGlzLlUuWDtcclxuXHRcdGNvbnN0IEEgPSB0aGlzLlUuWTtcclxuXHJcblx0XHRjb25zdCBDID0gLShBICogeCArIEIgKiB5KTtcclxuXHJcblx0XHRyZXR1cm4gbmV3IExpbmVMaW5lYXIyZCgpLlNldEZyb21Db2VmZmljaWVudHMoQSwgQiwgQyk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIENvbGxpZGUocmF5OiBMaW5lUGFyYW1ldHJpYzJkLCBsaW5lOiBMaW5lTGluZWFyMmQsIGVwc2lsb246IG51bWJlcik6IFZlY3RvcjJkIHtcclxuXHRcdGNvbnN0IGNvbGxpZGUgPSBMaW5lTGluZWFyMmQuQ29sbGlkZShyYXkuQ3JlYXRlTGluZWFyRm9ybSgpLCBsaW5lKTtcclxuXHRcdGlmIChjb2xsaWRlLkVxdWFscyhWZWN0b3IyZC5FbXB0eSkpIHtcclxuXHRcdFx0cmV0dXJuIFZlY3RvcjJkLkVtcHR5O1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGNvbGxpZGVWZWN0b3IgPSBjb2xsaWRlLlN1YihyYXkuQSk7XHJcblx0XHRyZXR1cm4gcmF5LlUuRG90KGNvbGxpZGVWZWN0b3IpIDwgZXBzaWxvbiA/IFZlY3RvcjJkLkVtcHR5IDogY29sbGlkZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBJc09uTGVmdFNpdGUocG9pbnQ6IFZlY3RvcjJkLCBlcHNpbG9uOiBudW1iZXIpOiBib29sZWFuIHtcclxuXHRcdGNvbnN0IGRpcmVjdGlvbiA9IHBvaW50LlN1Yih0aGlzLkEpO1xyXG5cdFx0cmV0dXJuIFByaW1pdGl2ZVV0aWxzLk9ydGhvZ29uYWxSaWdodCh0aGlzLlUpLkRvdChkaXJlY3Rpb24pIDwgZXBzaWxvbjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBJc09uUmlnaHRTaXRlKHBvaW50OiBWZWN0b3IyZCwgZXBzaWxvbjogbnVtYmVyKTogYm9vbGVhbiB7XHJcblx0XHRjb25zdCBkaXJlY3Rpb24gPSBwb2ludC5TdWIodGhpcy5BKTtcclxuXHRcdHJldHVybiBQcmltaXRpdmVVdGlscy5PcnRob2dvbmFsUmlnaHQodGhpcy5VKS5Eb3QoZGlyZWN0aW9uKSA+IC1lcHNpbG9uO1xyXG5cdH1cclxufSIsImltcG9ydCBQYXRoUXVldWVOb2RlIGZyb20gXCIuL1BhdGhRdWV1ZU5vZGVcIjtcclxuaW1wb3J0IFZlcnRleCBmcm9tIFwiLi4vQ2lyY3VsYXIvVmVydGV4XCI7XHJcbmltcG9ydCBGYWNlUXVldWUgZnJvbSBcIi4vRmFjZVF1ZXVlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRmFjZU5vZGUgZXh0ZW5kcyBQYXRoUXVldWVOb2RlPEZhY2VOb2RlPiB7XHJcblx0cHVibGljIHJlYWRvbmx5IFZlcnRleDogVmVydGV4ID0gbnVsbDtcclxuXHJcblx0Y29uc3RydWN0b3IodmVydGV4OiBWZXJ0ZXgpIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHR0aGlzLlZlcnRleCA9IHZlcnRleDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXQgRmFjZVF1ZXVlKCk6IEZhY2VRdWV1ZSB7XHJcblx0XHRyZXR1cm4gPEZhY2VRdWV1ZT50aGlzLkxpc3Q7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IElzUXVldWVVbmNvbm5lY3RlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLkZhY2VRdWV1ZS5Jc1VuY29ubmVjdGVkO1xyXG5cdH1cclxuXHJcblx0cHVibGljIFF1ZXVlQ2xvc2UoKSB7XHJcblx0XHR0aGlzLkZhY2VRdWV1ZS5DbG9zZSgpO1xyXG5cdH1cclxufSIsImltcG9ydCBQYXRoUXVldWUgZnJvbSBcIi4vUGF0aFF1ZXVlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXRoUXVldWVOb2RlPFQgZXh0ZW5kcyBQYXRoUXVldWVOb2RlPFQ+PiB7XHJcblx0cHVibGljIExpc3Q6IFBhdGhRdWV1ZTxUPiA9IG51bGw7XHJcblx0cHVibGljIE5leHQ6IFBhdGhRdWV1ZU5vZGU8VD4gPSBudWxsO1xyXG5cdHB1YmxpYyBQcmV2aW91czogUGF0aFF1ZXVlTm9kZTxUPiA9IG51bGw7XHJcblxyXG5cdHB1YmxpYyBnZXQgSXNFbmQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5OZXh0ID09PSBudWxsIHx8IHRoaXMuUHJldmlvdXMgPT09IG51bGw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgQWRkUHVzaChub2RlOiBQYXRoUXVldWVOb2RlPFQ+KSB7XHJcblx0XHR0aGlzLkxpc3QuQWRkUHVzaCh0aGlzLCBub2RlKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBBZGRRdWV1ZShxdWV1ZTogUGF0aFF1ZXVlTm9kZTxUPik6IFBhdGhRdWV1ZU5vZGU8VD4ge1xyXG5cdFx0aWYgKHRoaXMuTGlzdCA9PT0gcXVldWUuTGlzdClcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblxyXG5cdFx0bGV0IGN1cnJlbnRRdWV1ZTogUGF0aFF1ZXVlTm9kZTxUPiA9IHRoaXM7XHJcblxyXG5cdFx0bGV0IGN1cnJlbnQgPSBxdWV1ZTtcclxuXHJcblx0XHR3aGlsZSAoY3VycmVudCAhPT0gbnVsbCkge1xyXG5cdFx0XHRjb25zdCBuZXh0ID0gY3VycmVudC5Qb3AoKTtcclxuXHJcblx0XHRcdGN1cnJlbnRRdWV1ZS5BZGRQdXNoKGN1cnJlbnQpO1xyXG5cdFx0XHRjdXJyZW50UXVldWUgPSBjdXJyZW50O1xyXG5cclxuXHRcdFx0Y3VycmVudCA9IG5leHQ7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGN1cnJlbnRRdWV1ZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBGaW5kRW5kKCk6IFBhdGhRdWV1ZU5vZGU8VD4ge1xyXG5cdFx0aWYgKHRoaXMuSXNFbmQpXHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cclxuXHRcdGxldCBjdXJyZW50OiBQYXRoUXVldWVOb2RlPFQ+ID0gdGhpcztcclxuXHJcblx0XHR3aGlsZSAoY3VycmVudC5QcmV2aW91cyAhPT0gbnVsbClcclxuXHRcdFx0Y3VycmVudCA9IGN1cnJlbnQuUHJldmlvdXM7XHJcblxyXG5cdFx0cmV0dXJuIGN1cnJlbnQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgUG9wKCk6IFBhdGhRdWV1ZU5vZGU8VD4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuTGlzdC5Qb3AodGhpcyk7XHJcblx0fVxyXG59IiwiaW1wb3J0IFZlY3RvcjJkIGZyb20gXCIuLi9QcmltaXRpdmVzL1ZlY3RvcjJkXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBTa2VsZXRvbkV2ZW50IHtcclxuXHRwdWJsaWMgVjogVmVjdG9yMmQgPSBudWxsO1xyXG5cclxuXHRwdWJsaWMgRGlzdGFuY2U6IG51bWJlcjtcclxuXHJcblx0cHVibGljIGFic3RyYWN0IGdldCBJc09ic29sZXRlKCk6IGJvb2xlYW47XHJcblxyXG5cdHByb3RlY3RlZCBjb25zdHJ1Y3Rvcihwb2ludDogVmVjdG9yMmQsIGRpc3RhbmNlOiBudW1iZXIpIHtcclxuXHRcdHRoaXMuViA9IHBvaW50O1xyXG5cdFx0dGhpcy5EaXN0YW5jZSA9IGRpc3RhbmNlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIFRvU3RyaW5nKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gXCJJbnRlcnNlY3RFbnRyeSBbVj1cIiArIHRoaXMuViArIFwiLCBEaXN0YW5jZT1cIiArIHRoaXMuRGlzdGFuY2UgKyBcIl1cIjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBHZXRUeXBlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xyXG5cdH1cclxufSIsImltcG9ydCBTa2VsZXRvbkV2ZW50IGZyb20gXCIuL1NrZWxldG9uRXZlbnRcIjtcclxuaW1wb3J0IFZlY3RvcjJkIGZyb20gXCIuLi9QcmltaXRpdmVzL1ZlY3RvcjJkXCI7XHJcbmltcG9ydCBFZGdlQ2hhaW4gZnJvbSBcIi4vQ2hhaW5zL0VkZ2VDaGFpblwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXVsdGlFZGdlRXZlbnQgZXh0ZW5kcyBTa2VsZXRvbkV2ZW50IHtcclxuXHRwdWJsaWMgcmVhZG9ubHkgQ2hhaW46IEVkZ2VDaGFpbjtcclxuXHJcblx0cHVibGljIG92ZXJyaWRlIGdldCBJc09ic29sZXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IocG9pbnQ6IFZlY3RvcjJkLCBkaXN0YW5jZTogbnVtYmVyLCBjaGFpbjogRWRnZUNoYWluKSB7XHJcblx0XHRzdXBlcihwb2ludCwgZGlzdGFuY2UpO1xyXG5cclxuXHRcdHRoaXMuQ2hhaW4gPSBjaGFpbjtcclxuXHR9XHJcbn0iLCJpbXBvcnQgU2tlbGV0b25FdmVudCBmcm9tIFwiLi9Ta2VsZXRvbkV2ZW50XCI7XHJcbmltcG9ydCBWZXJ0ZXggZnJvbSBcIi4uL0NpcmN1bGFyL1ZlcnRleFwiO1xyXG5pbXBvcnQgVmVjdG9yMmQgZnJvbSBcIi4uL1ByaW1pdGl2ZXMvVmVjdG9yMmRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkZ2VFdmVudCBleHRlbmRzIFNrZWxldG9uRXZlbnQge1xyXG5cdHB1YmxpYyByZWFkb25seSBOZXh0VmVydGV4OiBWZXJ0ZXg7XHJcblx0cHVibGljIHJlYWRvbmx5IFByZXZpb3VzVmVydGV4OiBWZXJ0ZXg7XHJcblxyXG5cdHB1YmxpYyBvdmVycmlkZSBnZXQgSXNPYnNvbGV0ZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLlByZXZpb3VzVmVydGV4LklzUHJvY2Vzc2VkIHx8IHRoaXMuTmV4dFZlcnRleC5Jc1Byb2Nlc3NlZDtcclxuXHR9XHJcblxyXG5cdGNvbnN0cnVjdG9yKHBvaW50OiBWZWN0b3IyZCwgZGlzdGFuY2U6IG51bWJlciwgcHJldmlvdXNWZXJ0ZXg6IFZlcnRleCwgbmV4dFZlcnRleDogVmVydGV4KSB7XHJcblx0XHRzdXBlcihwb2ludCwgZGlzdGFuY2UpO1xyXG5cclxuXHRcdHRoaXMuUHJldmlvdXNWZXJ0ZXggPSBwcmV2aW91c1ZlcnRleDtcclxuXHRcdHRoaXMuTmV4dFZlcnRleCA9IG5leHRWZXJ0ZXg7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgb3ZlcnJpZGUgVG9TdHJpbmcoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBcIkVkZ2VFdmVudCBbVj1cIiArIHRoaXMuViArIFwiLCBQcmV2aW91c1ZlcnRleD1cIlxyXG5cdFx0XHQrICh0aGlzLlByZXZpb3VzVmVydGV4ICE9PSBudWxsID8gdGhpcy5QcmV2aW91c1ZlcnRleC5Qb2ludC5Ub1N0cmluZygpIDogXCJudWxsXCIpICtcclxuXHRcdFx0XCIsIE5leHRWZXJ0ZXg9XCJcclxuXHRcdFx0KyAodGhpcy5OZXh0VmVydGV4ICE9PSBudWxsID8gdGhpcy5OZXh0VmVydGV4LlBvaW50LlRvU3RyaW5nKCkgOiBcIm51bGxcIikgKyBcIiwgRGlzdGFuY2U9XCIgK1xyXG5cdFx0XHR0aGlzLkRpc3RhbmNlICsgXCJdXCI7XHJcblx0fVxyXG59IiwiaW1wb3J0IFNrZWxldG9uRXZlbnQgZnJvbSBcIi4vU2tlbGV0b25FdmVudFwiO1xyXG5pbXBvcnQgVmVjdG9yMmQgZnJvbSBcIi4uL1ByaW1pdGl2ZXMvVmVjdG9yMmRcIjtcclxuaW1wb3J0IEVkZ2VDaGFpbiBmcm9tIFwiLi9DaGFpbnMvRWRnZUNoYWluXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaWNrRXZlbnQgZXh0ZW5kcyBTa2VsZXRvbkV2ZW50IHtcclxuXHRwdWJsaWMgcmVhZG9ubHkgQ2hhaW46IEVkZ2VDaGFpbjtcclxuXHJcblx0cHVibGljIG92ZXJyaWRlIGdldCBJc09ic29sZXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IocG9pbnQ6IFZlY3RvcjJkLCBkaXN0YW5jZTogbnVtYmVyLCBjaGFpbjogRWRnZUNoYWluKSB7XHJcblx0XHRzdXBlcihwb2ludCwgZGlzdGFuY2UpO1xyXG5cclxuXHRcdHRoaXMuQ2hhaW4gPSBjaGFpbjtcclxuXHR9XHJcbn0iLCJpbXBvcnQgU2tlbGV0b25FdmVudCBmcm9tIFwiLi9Ta2VsZXRvbkV2ZW50XCI7XHJcbmltcG9ydCB7TGlzdH0gZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCBJQ2hhaW4gZnJvbSBcIi4vQ2hhaW5zL0lDaGFpblwiO1xyXG5pbXBvcnQgVmVjdG9yMmQgZnJvbSBcIi4uL1ByaW1pdGl2ZXMvVmVjdG9yMmRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE11bHRpU3BsaXRFdmVudCBleHRlbmRzIFNrZWxldG9uRXZlbnQge1xyXG5cdHB1YmxpYyByZWFkb25seSBDaGFpbnM6IExpc3Q8SUNoYWluPjtcclxuXHJcblx0cHVibGljIG92ZXJyaWRlIGdldCBJc09ic29sZXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Y29uc3RydWN0b3IocG9pbnQ6IFZlY3RvcjJkLCBkaXN0YW5jZTogbnVtYmVyLCBjaGFpbnM6IExpc3Q8SUNoYWluPikge1xyXG5cdFx0c3VwZXIocG9pbnQsIGRpc3RhbmNlKTtcclxuXHJcblx0XHR0aGlzLkNoYWlucyA9IGNoYWlucztcclxuXHR9XHJcbn0iLCJlbnVtIENoYWluVHlwZSB7XHJcblx0RWRnZSxcclxuXHRDbG9zZWRFZGdlLFxyXG5cdFNwbGl0XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENoYWluVHlwZTsiLCJpbXBvcnQgSUNoYWluIGZyb20gXCIuL0lDaGFpblwiO1xyXG5pbXBvcnQgRWRnZSBmcm9tIFwiLi4vLi4vQ2lyY3VsYXIvRWRnZVwiO1xyXG5pbXBvcnQgVmVydGV4IGZyb20gXCIuLi8uLi9DaXJjdWxhci9WZXJ0ZXhcIjtcclxuaW1wb3J0IENoYWluVHlwZSBmcm9tIFwiLi9DaGFpblR5cGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpbmdsZUVkZ2VDaGFpbiBpbXBsZW1lbnRzIElDaGFpbiB7XHJcblx0cHJpdmF0ZSByZWFkb25seSBfbmV4dFZlcnRleDogVmVydGV4O1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgX29wcG9zaXRlRWRnZTogRWRnZTtcclxuXHRwcml2YXRlIHJlYWRvbmx5IF9wcmV2aW91c1ZlcnRleDogVmVydGV4O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihvcHBvc2l0ZUVkZ2U6IEVkZ2UsIG5leHRWZXJ0ZXg6IFZlcnRleCkge1xyXG5cdFx0dGhpcy5fb3Bwb3NpdGVFZGdlID0gb3Bwb3NpdGVFZGdlO1xyXG5cdFx0dGhpcy5fbmV4dFZlcnRleCA9IG5leHRWZXJ0ZXg7XHJcblx0XHR0aGlzLl9wcmV2aW91c1ZlcnRleCA9IG5leHRWZXJ0ZXguUHJldmlvdXMgYXMgVmVydGV4O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBQcmV2aW91c0VkZ2UoKTogRWRnZSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fb3Bwb3NpdGVFZGdlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBOZXh0RWRnZSgpOiBFZGdlIHtcclxuXHRcdHJldHVybiB0aGlzLl9vcHBvc2l0ZUVkZ2U7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IFByZXZpb3VzVmVydGV4KCk6IFZlcnRleCB7XHJcblx0XHRyZXR1cm4gdGhpcy5fcHJldmlvdXNWZXJ0ZXg7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IE5leHRWZXJ0ZXgoKTogVmVydGV4IHtcclxuXHRcdHJldHVybiB0aGlzLl9uZXh0VmVydGV4O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBDdXJyZW50VmVydGV4KCk6IFZlcnRleCB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXQgQ2hhaW5UeXBlKCk6IENoYWluVHlwZSB7XHJcblx0XHRyZXR1cm4gQ2hhaW5UeXBlLlNwbGl0O1xyXG5cdH1cclxufSIsImltcG9ydCBTa2VsZXRvbkV2ZW50IGZyb20gXCIuL1NrZWxldG9uRXZlbnRcIjtcclxuaW1wb3J0IEVkZ2UgZnJvbSBcIi4uL0NpcmN1bGFyL0VkZ2VcIjtcclxuaW1wb3J0IFZlcnRleCBmcm9tIFwiLi4vQ2lyY3VsYXIvVmVydGV4XCI7XHJcbmltcG9ydCBWZWN0b3IyZCBmcm9tIFwiLi4vUHJpbWl0aXZlcy9WZWN0b3IyZFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3BsaXRFdmVudCBleHRlbmRzIFNrZWxldG9uRXZlbnQge1xyXG5cdHB1YmxpYyByZWFkb25seSBPcHBvc2l0ZUVkZ2U6IEVkZ2UgPSBudWxsO1xyXG5cdHB1YmxpYyByZWFkb25seSBQYXJlbnQ6IFZlcnRleCA9IG51bGw7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHBvaW50OiBWZWN0b3IyZCwgZGlzdGFuY2U6IG51bWJlciwgcGFyZW50OiBWZXJ0ZXgsIG9wcG9zaXRlRWRnZTogRWRnZSkge1xyXG5cdFx0c3VwZXIocG9pbnQsIGRpc3RhbmNlKTtcclxuXHJcblx0XHR0aGlzLlBhcmVudCA9IHBhcmVudDtcclxuXHRcdHRoaXMuT3Bwb3NpdGVFZGdlID0gb3Bwb3NpdGVFZGdlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIG92ZXJyaWRlIGdldCBJc09ic29sZXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuUGFyZW50LklzUHJvY2Vzc2VkO1xyXG5cdH1cclxuXHJcblxyXG5cdHB1YmxpYyBvdmVycmlkZSBUb1N0cmluZygpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIFwiU3BsaXRFdmVudCBbVj1cIiArIHRoaXMuViArIFwiLCBQYXJlbnQ9XCIgKyAodGhpcy5QYXJlbnQgIT09IG51bGwgPyB0aGlzLlBhcmVudC5Qb2ludC5Ub1N0cmluZygpIDogXCJudWxsXCIpICtcclxuXHRcdFx0XCIsIERpc3RhbmNlPVwiICsgdGhpcy5EaXN0YW5jZSArIFwiXVwiO1xyXG5cdH1cclxufSIsImltcG9ydCBTcGxpdEV2ZW50IGZyb20gXCIuL1NwbGl0RXZlbnRcIjtcclxuaW1wb3J0IFZlY3RvcjJkIGZyb20gXCIuLi9QcmltaXRpdmVzL1ZlY3RvcjJkXCI7XHJcbmltcG9ydCBWZXJ0ZXggZnJvbSBcIi4uL0NpcmN1bGFyL1ZlcnRleFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVydGV4U3BsaXRFdmVudCBleHRlbmRzIFNwbGl0RXZlbnQge1xyXG5cdGNvbnN0cnVjdG9yKHBvaW50OiBWZWN0b3IyZCwgZGlzdGFuY2U6IG51bWJlciwgcGFyZW50OiBWZXJ0ZXgpIHtcclxuXHRcdHN1cGVyKHBvaW50LCBkaXN0YW5jZSwgcGFyZW50LCBudWxsKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBvdmVycmlkZSBUb1N0cmluZygpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIFwiVmVydGV4U3BsaXRFdmVudCBbVj1cIiArIHRoaXMuViArIFwiLCBQYXJlbnQ9XCIgK1xyXG5cdFx0XHQodGhpcy5QYXJlbnQgIT09IG51bGwgPyB0aGlzLlBhcmVudC5Qb2ludC5Ub1N0cmluZygpIDogXCJudWxsXCIpXHJcblx0XHRcdCsgXCIsIERpc3RhbmNlPVwiICsgdGhpcy5EaXN0YW5jZSArIFwiXVwiO1xyXG5cdH1cclxufSIsImltcG9ydCBJQ2hhaW4gZnJvbSBcIi4vSUNoYWluXCI7XHJcbmltcG9ydCBFZGdlIGZyb20gXCIuLi8uLi9DaXJjdWxhci9FZGdlXCI7XHJcbmltcG9ydCBWZXJ0ZXggZnJvbSBcIi4uLy4uL0NpcmN1bGFyL1ZlcnRleFwiO1xyXG5pbXBvcnQgQ2hhaW5UeXBlIGZyb20gXCIuL0NoYWluVHlwZVwiO1xyXG5pbXBvcnQgVmVydGV4U3BsaXRFdmVudCBmcm9tIFwiLi4vVmVydGV4U3BsaXRFdmVudFwiO1xyXG5pbXBvcnQgU3BsaXRFdmVudCBmcm9tIFwiLi4vU3BsaXRFdmVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3BsaXRDaGFpbiBpbXBsZW1lbnRzIElDaGFpbiB7XHJcblx0cHJpdmF0ZSByZWFkb25seSBfc3BsaXRFdmVudDogU3BsaXRFdmVudDtcclxuXHJcblx0Y29uc3RydWN0b3IoZXZlbnQ6IFNwbGl0RXZlbnQpIHtcclxuXHRcdHRoaXMuX3NwbGl0RXZlbnQgPSBldmVudDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXQgT3Bwb3NpdGVFZGdlKCk6IEVkZ2Uge1xyXG5cdFx0aWYgKCEodGhpcy5fc3BsaXRFdmVudCBpbnN0YW5jZW9mIFZlcnRleFNwbGl0RXZlbnQpKVxyXG5cdFx0XHRyZXR1cm4gdGhpcy5fc3BsaXRFdmVudC5PcHBvc2l0ZUVkZ2U7XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IFByZXZpb3VzRWRnZSgpOiBFZGdlIHtcclxuXHRcdHJldHVybiB0aGlzLl9zcGxpdEV2ZW50LlBhcmVudC5QcmV2aW91c0VkZ2U7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IE5leHRFZGdlKCk6IEVkZ2Uge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3NwbGl0RXZlbnQuUGFyZW50Lk5leHRFZGdlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBQcmV2aW91c1ZlcnRleCgpOiBWZXJ0ZXgge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3NwbGl0RXZlbnQuUGFyZW50LlByZXZpb3VzIGFzIFZlcnRleDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXQgTmV4dFZlcnRleCgpOiBWZXJ0ZXgge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3NwbGl0RXZlbnQuUGFyZW50Lk5leHQgYXMgVmVydGV4O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBDdXJyZW50VmVydGV4KCk6IFZlcnRleCB7XHJcblx0XHRyZXR1cm4gdGhpcy5fc3BsaXRFdmVudC5QYXJlbnQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IENoYWluVHlwZSgpOiBDaGFpblR5cGUge1xyXG5cdFx0cmV0dXJuIENoYWluVHlwZS5TcGxpdDtcclxuXHR9XHJcbn0iLCJpbXBvcnQgSUNoYWluIGZyb20gXCIuL0lDaGFpblwiO1xyXG5pbXBvcnQgRWRnZUV2ZW50IGZyb20gXCIuLi9FZGdlRXZlbnRcIjtcclxuaW1wb3J0IHtMaXN0fSBmcm9tIFwiLi4vLi4vVXRpbHNcIjtcclxuaW1wb3J0IEVkZ2UgZnJvbSBcIi4uLy4uL0NpcmN1bGFyL0VkZ2VcIjtcclxuaW1wb3J0IFZlcnRleCBmcm9tIFwiLi4vLi4vQ2lyY3VsYXIvVmVydGV4XCI7XHJcbmltcG9ydCBDaGFpblR5cGUgZnJvbSBcIi4vQ2hhaW5UeXBlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFZGdlQ2hhaW4gaW1wbGVtZW50cyBJQ2hhaW4ge1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgX2Nsb3NlZDogYm9vbGVhbjtcclxuXHRwdWJsaWMgRWRnZUxpc3Q6IExpc3Q8RWRnZUV2ZW50PjtcclxuXHJcblx0Y29uc3RydWN0b3IoZWRnZUxpc3Q6IExpc3Q8RWRnZUV2ZW50Pikge1xyXG5cdFx0dGhpcy5FZGdlTGlzdCA9IGVkZ2VMaXN0O1xyXG5cdFx0dGhpcy5fY2xvc2VkID0gdGhpcy5QcmV2aW91c1ZlcnRleCA9PT0gdGhpcy5OZXh0VmVydGV4O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBQcmV2aW91c0VkZ2UoKTogRWRnZSB7XHJcblx0XHRyZXR1cm4gdGhpcy5FZGdlTGlzdFswXS5QcmV2aW91c1ZlcnRleC5QcmV2aW91c0VkZ2U7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IE5leHRFZGdlKCk6IEVkZ2Uge1xyXG5cdFx0cmV0dXJuIHRoaXMuRWRnZUxpc3RbdGhpcy5FZGdlTGlzdC5Db3VudCAtIDFdLk5leHRWZXJ0ZXguTmV4dEVkZ2U7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IFByZXZpb3VzVmVydGV4KCk6IFZlcnRleCB7XHJcblx0XHRyZXR1cm4gdGhpcy5FZGdlTGlzdFswXS5QcmV2aW91c1ZlcnRleDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXQgTmV4dFZlcnRleCgpOiBWZXJ0ZXgge1xyXG5cdFx0cmV0dXJuIHRoaXMuRWRnZUxpc3RbdGhpcy5FZGdlTGlzdC5Db3VudCAtIDFdLk5leHRWZXJ0ZXg7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IEN1cnJlbnRWZXJ0ZXgoKTogVmVydGV4IHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBDaGFpblR5cGUoKTogQ2hhaW5UeXBlIHtcclxuXHRcdHJldHVybiB0aGlzLl9jbG9zZWQgPyBDaGFpblR5cGUuQ2xvc2VkRWRnZSA6IENoYWluVHlwZS5FZGdlO1xyXG5cdH1cclxufSIsImltcG9ydCBFZGdlIGZyb20gXCIuL0NpcmN1bGFyL0VkZ2VcIjtcclxuaW1wb3J0IFZlY3RvcjJkIGZyb20gXCIuL1ByaW1pdGl2ZXMvVmVjdG9yMmRcIjtcclxuaW1wb3J0IHtMaXN0fSBmcm9tIFwiLi9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRnZVJlc3VsdCB7XHJcblx0cHVibGljIHJlYWRvbmx5IEVkZ2U6IEVkZ2U7XHJcblx0cHVibGljIHJlYWRvbmx5IFBvbHlnb246IExpc3Q8VmVjdG9yMmQ+O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihlZGdlOiBFZGdlLCBwb2x5Z29uOiBMaXN0PFZlY3RvcjJkPikge1xyXG5cdFx0dGhpcy5FZGdlID0gZWRnZTtcclxuXHRcdHRoaXMuUG9seWdvbiA9IHBvbHlnb247XHJcblx0fVxyXG59IiwiaW1wb3J0IHtTa2VsZXRvbn0gZnJvbSBcIi4vU2tlbGV0b25cIjtcclxuaW1wb3J0IHtIYXNoU2V0LCBMaXN0LCBJQ29tcGFyZXIsIERpY3Rpb25hcnksIEdlb0pTT05NdWx0aXBvbHlnb259IGZyb20gXCIuL1V0aWxzXCI7XHJcbmltcG9ydCBWZWN0b3IyZCBmcm9tIFwiLi9QcmltaXRpdmVzL1ZlY3RvcjJkXCI7XHJcbmltcG9ydCBQcmlvcml0eVF1ZXVlIGZyb20gXCIuL1ByaW1pdGl2ZXMvUHJpb3JpdHlRdWV1ZVwiO1xyXG5pbXBvcnQgRWRnZSBmcm9tIFwiLi9DaXJjdWxhci9FZGdlXCI7XHJcbmltcG9ydCBWZXJ0ZXggZnJvbSBcIi4vQ2lyY3VsYXIvVmVydGV4XCI7XHJcbmltcG9ydCBDaXJjdWxhckxpc3QgZnJvbSBcIi4vQ2lyY3VsYXIvQ2lyY3VsYXJMaXN0XCI7XHJcbmltcG9ydCBGYWNlUXVldWUgZnJvbSBcIi4vUGF0aC9GYWNlUXVldWVcIjtcclxuaW1wb3J0IFNrZWxldG9uRXZlbnQgZnJvbSBcIi4vRXZlbnRzL1NrZWxldG9uRXZlbnRcIjtcclxuaW1wb3J0IEZhY2VRdWV1ZVV0aWwgZnJvbSBcIi4vUGF0aC9GYWNlUXVldWVVdGlsXCI7XHJcbmltcG9ydCBMYXZVdGlsIGZyb20gXCIuL0xhdlV0aWxcIjtcclxuaW1wb3J0IElDaGFpbiBmcm9tIFwiLi9FdmVudHMvQ2hhaW5zL0lDaGFpblwiO1xyXG5pbXBvcnQgUHJpbWl0aXZlVXRpbHMgZnJvbSBcIi4vUHJpbWl0aXZlcy9QcmltaXRpdmVVdGlsc1wiO1xyXG5pbXBvcnQgTGluZVBhcmFtZXRyaWMyZCBmcm9tIFwiLi9QcmltaXRpdmVzL0xpbmVQYXJhbWV0cmljMmRcIjtcclxuaW1wb3J0IHtGYWNlTm9kZX0gZnJvbSBcIi4vUGF0aC9GYWNlTm9kZVwiO1xyXG5pbXBvcnQgTXVsdGlFZGdlRXZlbnQgZnJvbSBcIi4vRXZlbnRzL011bHRpRWRnZUV2ZW50XCI7XHJcbmltcG9ydCBFZGdlRXZlbnQgZnJvbSBcIi4vRXZlbnRzL0VkZ2VFdmVudFwiO1xyXG5pbXBvcnQgUGlja0V2ZW50IGZyb20gXCIuL0V2ZW50cy9QaWNrRXZlbnRcIjtcclxuaW1wb3J0IE11bHRpU3BsaXRFdmVudCBmcm9tIFwiLi9FdmVudHMvTXVsdGlTcGxpdEV2ZW50XCI7XHJcbmltcG9ydCBTaW5nbGVFZGdlQ2hhaW4gZnJvbSBcIi4vRXZlbnRzL0NoYWlucy9TaW5nbGVFZGdlQ2hhaW5cIjtcclxuaW1wb3J0IFNwbGl0Q2hhaW4gZnJvbSBcIi4vRXZlbnRzL0NoYWlucy9TcGxpdENoYWluXCI7XHJcbmltcG9ydCBTcGxpdEV2ZW50IGZyb20gXCIuL0V2ZW50cy9TcGxpdEV2ZW50XCI7XHJcbmltcG9ydCBWZXJ0ZXhTcGxpdEV2ZW50IGZyb20gXCIuL0V2ZW50cy9WZXJ0ZXhTcGxpdEV2ZW50XCI7XHJcbmltcG9ydCBFZGdlQ2hhaW4gZnJvbSBcIi4vRXZlbnRzL0NoYWlucy9FZGdlQ2hhaW5cIjtcclxuaW1wb3J0IExpbmVMaW5lYXIyZCBmcm9tIFwiLi9QcmltaXRpdmVzL0xpbmVMaW5lYXIyZFwiO1xyXG5pbXBvcnQgRWRnZVJlc3VsdCBmcm9tIFwiLi9FZGdlUmVzdWx0XCI7XHJcbmltcG9ydCBDaGFpblR5cGUgZnJvbSBcIi4vRXZlbnRzL0NoYWlucy9DaGFpblR5cGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNrZWxldG9uQnVpbGRlciB7XHJcblx0cHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgU3BsaXRFcHNpbG9uID0gMWUtMTA7XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgQnVpbGRGcm9tR2VvSlNPTihtdWx0aXBvbHlnb246IEdlb0pTT05NdWx0aXBvbHlnb24pOiBTa2VsZXRvbiB7XHJcblx0XHRjb25zdCBhbGxFZGdlczogTGlzdDxFZGdlUmVzdWx0PiA9IG5ldyBMaXN0KCk7XHJcblx0XHRjb25zdCBhbGxEaXN0YW5jZXM6IERpY3Rpb25hcnk8VmVjdG9yMmQsIG51bWJlcj4gPSBuZXcgRGljdGlvbmFyeSgpO1xyXG5cclxuXHRcdGZvciAoY29uc3QgcG9seWdvbiBvZiBtdWx0aXBvbHlnb24pIHtcclxuXHRcdFx0aWYgKHBvbHlnb24ubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdGNvbnN0IG91dGVyID0gdGhpcy5MaXN0RnJvbUNvb3JkaW5hdGVzQXJyYXkocG9seWdvblswXSk7XHJcblx0XHRcdFx0Y29uc3QgaG9sZXM6IExpc3Q8TGlzdDxWZWN0b3IyZD4+ID0gbmV3IExpc3QoKTtcclxuXHJcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDE7IGkgPCBwb2x5Z29uLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRob2xlcy5BZGQodGhpcy5MaXN0RnJvbUNvb3JkaW5hdGVzQXJyYXkocG9seWdvbltpXSkpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y29uc3Qgc2tlbGV0b24gPSB0aGlzLkJ1aWxkKG91dGVyLCBob2xlcyk7XHJcblxyXG5cdFx0XHRcdGZvciAoY29uc3QgZWRnZSBvZiBza2VsZXRvbi5FZGdlcykge1xyXG5cdFx0XHRcdFx0YWxsRWRnZXMuQWRkKGVkZ2UpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Zm9yIChjb25zdCBba2V5LCBkaXN0YW5jZV0gb2Ygc2tlbGV0b24uRGlzdGFuY2VzLmVudHJpZXMoKSkge1xyXG5cdFx0XHRcdFx0YWxsRGlzdGFuY2VzLkFkZChrZXksIGRpc3RhbmNlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbmV3IFNrZWxldG9uKGFsbEVkZ2VzLCBhbGxEaXN0YW5jZXMpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgTGlzdEZyb21Db29yZGluYXRlc0FycmF5KGFycjogW251bWJlciwgbnVtYmVyXVtdKTogTGlzdDxWZWN0b3IyZD4ge1xyXG5cdFx0Y29uc3QgbGlzdDogTGlzdDxWZWN0b3IyZD4gPSBuZXcgTGlzdCgpO1xyXG5cclxuXHRcdGZvciAoY29uc3QgW3gsIHldIG9mIGFycikge1xyXG5cdFx0XHRsaXN0LkFkZChuZXcgVmVjdG9yMmQoeCwgeSkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBsaXN0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBCdWlsZChwb2x5Z29uOiBMaXN0PFZlY3RvcjJkPiwgaG9sZXM6IExpc3Q8TGlzdDxWZWN0b3IyZD4+ID0gbnVsbCk6IFNrZWxldG9uIHtcclxuXHRcdHBvbHlnb24gPSB0aGlzLkluaXRQb2x5Z29uKHBvbHlnb24pO1xyXG5cdFx0aG9sZXMgPSB0aGlzLk1ha2VDbG9ja3dpc2UoaG9sZXMpO1xyXG5cclxuXHRcdGNvbnN0IHF1ZXVlID0gbmV3IFByaW9yaXR5UXVldWU8U2tlbGV0b25FdmVudD4oMywgbmV3IFNrZWxldG9uRXZlbnREaXN0YW5zZUNvbXBhcmVyKCkpO1xyXG5cdFx0Y29uc3Qgc0xhdiA9IG5ldyBIYXNoU2V0PENpcmN1bGFyTGlzdDxWZXJ0ZXg+PigpO1xyXG5cdFx0Y29uc3QgZmFjZXMgPSBuZXcgTGlzdDxGYWNlUXVldWU+KCk7XHJcblx0XHRjb25zdCBlZGdlcyA9IG5ldyBMaXN0PEVkZ2U+KCk7XHJcblxyXG5cdFx0dGhpcy5Jbml0U2xhdihwb2x5Z29uLCBzTGF2LCBlZGdlcywgZmFjZXMpO1xyXG5cclxuXHRcdGlmIChob2xlcyAhPT0gbnVsbCkge1xyXG5cdFx0XHRmb3IgKGNvbnN0IGlubmVyIG9mIGhvbGVzKSB7XHJcblx0XHRcdFx0dGhpcy5Jbml0U2xhdihpbm5lciwgc0xhdiwgZWRnZXMsIGZhY2VzKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuSW5pdEV2ZW50cyhzTGF2LCBxdWV1ZSwgZWRnZXMpO1xyXG5cclxuXHRcdGxldCBjb3VudCA9IDA7XHJcblx0XHR3aGlsZSAoIXF1ZXVlLkVtcHR5KSB7XHJcblx0XHRcdGNvdW50ID0gdGhpcy5Bc3NlcnRNYXhOdW1iZXJPZkludGVyYWN0aW9uKGNvdW50KTtcclxuXHRcdFx0Y29uc3QgbGV2ZWxIZWlnaHQgPSBxdWV1ZS5QZWVrKCkuRGlzdGFuY2U7XHJcblxyXG5cdFx0XHRmb3IgKGNvbnN0IGV2ZW50IG9mIHRoaXMuTG9hZEFuZEdyb3VwTGV2ZWxFdmVudHMocXVldWUpKSB7XHJcblx0XHRcdFx0aWYgKGV2ZW50LklzT2Jzb2xldGUpXHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHJcblx0XHRcdFx0aWYgKGV2ZW50IGluc3RhbmNlb2YgRWRnZUV2ZW50KVxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQWxsIGVkZ2VAZXZlbnRzIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gTXVsdGlFZGdlRXZlbnRzIGZvciBnaXZlbiBsZXZlbFwiKTtcclxuXHRcdFx0XHRpZiAoZXZlbnQgaW5zdGFuY2VvZiBTcGxpdEV2ZW50KVxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQWxsIHNwbGl0IGV2ZW50cyBzaG91bGQgYmUgY29udmVydGVkIHRvIE11bHRpU3BsaXRFdmVudHMgZm9yIGdpdmVuIGxldmVsXCIpO1xyXG5cdFx0XHRcdGlmIChldmVudCBpbnN0YW5jZW9mIE11bHRpU3BsaXRFdmVudClcclxuXHRcdFx0XHRcdHRoaXMuTXVsdGlTcGxpdEV2ZW50KDxNdWx0aVNwbGl0RXZlbnQ+ZXZlbnQsIHNMYXYsIHF1ZXVlLCBlZGdlcyk7XHJcblx0XHRcdFx0ZWxzZSBpZiAoZXZlbnQgaW5zdGFuY2VvZiBQaWNrRXZlbnQpXHJcblx0XHRcdFx0XHR0aGlzLlBpY2tFdmVudCg8UGlja0V2ZW50PmV2ZW50KTtcclxuXHRcdFx0XHRlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIE11bHRpRWRnZUV2ZW50KVxyXG5cdFx0XHRcdFx0dGhpcy5NdWx0aUVkZ2VFdmVudCg8TXVsdGlFZGdlRXZlbnQ+ZXZlbnQsIHF1ZXVlLCBlZGdlcyk7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBldmVudCB0eXBlOiBcIiArIGV2ZW50LkdldFR5cGUoKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuUHJvY2Vzc1R3b05vZGVMYXZzKHNMYXYpO1xyXG5cdFx0XHR0aGlzLlJlbW92ZUV2ZW50c1VuZGVySGVpZ2h0KHF1ZXVlLCBsZXZlbEhlaWdodCk7XHJcblx0XHRcdHRoaXMuUmVtb3ZlRW1wdHlMYXYoc0xhdik7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuQWRkRmFjZXNUb091dHB1dChmYWNlcyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBJbml0UG9seWdvbihwb2x5Z29uOiBMaXN0PFZlY3RvcjJkPik6IExpc3Q8VmVjdG9yMmQ+IHtcclxuXHRcdGlmIChwb2x5Z29uID09PSBudWxsKVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJwb2x5Z29uIGNhbid0IGJlIG51bGxcIik7XHJcblxyXG5cdFx0aWYgKHBvbHlnb25bMF0uRXF1YWxzKHBvbHlnb25bcG9seWdvbi5Db3VudCAtIDFdKSlcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwicG9seWdvbiBjYW4ndCBzdGFydCBhbmQgZW5kIHdpdGggdGhlIHNhbWUgcG9pbnRcIik7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuTWFrZUNvdW50ZXJDbG9ja3dpc2UocG9seWdvbik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBQcm9jZXNzVHdvTm9kZUxhdnMoc0xhdjogSGFzaFNldDxDaXJjdWxhckxpc3Q8VmVydGV4Pj4pIHtcclxuXHRcdGZvciAoY29uc3QgbGF2IG9mIHNMYXYpIHtcclxuXHRcdFx0aWYgKGxhdi5TaXplID09PSAyKSB7XHJcblx0XHRcdFx0Y29uc3QgZmlyc3QgPSBsYXYuRmlyc3QoKTtcclxuXHRcdFx0XHRjb25zdCBsYXN0ID0gZmlyc3QuTmV4dCBhcyBWZXJ0ZXg7XHJcblxyXG5cdFx0XHRcdEZhY2VRdWV1ZVV0aWwuQ29ubmVjdFF1ZXVlcyhmaXJzdC5MZWZ0RmFjZSwgbGFzdC5SaWdodEZhY2UpO1xyXG5cdFx0XHRcdEZhY2VRdWV1ZVV0aWwuQ29ubmVjdFF1ZXVlcyhmaXJzdC5SaWdodEZhY2UsIGxhc3QuTGVmdEZhY2UpO1xyXG5cclxuXHRcdFx0XHRmaXJzdC5Jc1Byb2Nlc3NlZCA9IHRydWU7XHJcblx0XHRcdFx0bGFzdC5Jc1Byb2Nlc3NlZCA9IHRydWU7XHJcblxyXG5cdFx0XHRcdExhdlV0aWwuUmVtb3ZlRnJvbUxhdihmaXJzdCk7XHJcblx0XHRcdFx0TGF2VXRpbC5SZW1vdmVGcm9tTGF2KGxhc3QpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBSZW1vdmVFbXB0eUxhdihzTGF2OiBIYXNoU2V0PENpcmN1bGFyTGlzdDxWZXJ0ZXg+Pikge1xyXG5cdFx0c0xhdi5SZW1vdmVXaGVyZShjaXJjdWxhckxpc3QgPT4gY2lyY3VsYXJMaXN0LlNpemUgPT09IDApO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgTXVsdGlFZGdlRXZlbnQoZXZlbnQ6IE11bHRpRWRnZUV2ZW50LCBxdWV1ZTogUHJpb3JpdHlRdWV1ZTxTa2VsZXRvbkV2ZW50PiwgZWRnZXM6IExpc3Q8RWRnZT4pIHtcclxuXHRcdGNvbnN0IGNlbnRlciA9IGV2ZW50LlY7XHJcblx0XHRjb25zdCBlZGdlTGlzdCA9IGV2ZW50LkNoYWluLkVkZ2VMaXN0O1xyXG5cclxuXHRcdGNvbnN0IHByZXZpb3VzVmVydGV4ID0gZXZlbnQuQ2hhaW4uUHJldmlvdXNWZXJ0ZXg7XHJcblx0XHRwcmV2aW91c1ZlcnRleC5Jc1Byb2Nlc3NlZCA9IHRydWU7XHJcblxyXG5cdFx0Y29uc3QgbmV4dFZlcnRleCA9IGV2ZW50LkNoYWluLk5leHRWZXJ0ZXg7XHJcblx0XHRuZXh0VmVydGV4LklzUHJvY2Vzc2VkID0gdHJ1ZTtcclxuXHJcblx0XHRjb25zdCBiaXNlY3RvciA9IHRoaXMuQ2FsY0Jpc2VjdG9yKGNlbnRlciwgcHJldmlvdXNWZXJ0ZXguUHJldmlvdXNFZGdlLCBuZXh0VmVydGV4Lk5leHRFZGdlKTtcclxuXHRcdGNvbnN0IGVkZ2VWZXJ0ZXggPSBuZXcgVmVydGV4KGNlbnRlciwgZXZlbnQuRGlzdGFuY2UsIGJpc2VjdG9yLCBwcmV2aW91c1ZlcnRleC5QcmV2aW91c0VkZ2UsXHJcblx0XHRcdG5leHRWZXJ0ZXguTmV4dEVkZ2UpO1xyXG5cclxuXHRcdHRoaXMuQWRkRmFjZUxlZnQoZWRnZVZlcnRleCwgcHJldmlvdXNWZXJ0ZXgpO1xyXG5cclxuXHRcdHRoaXMuQWRkRmFjZVJpZ2h0KGVkZ2VWZXJ0ZXgsIG5leHRWZXJ0ZXgpO1xyXG5cclxuXHRcdHByZXZpb3VzVmVydGV4LkFkZFByZXZpb3VzKGVkZ2VWZXJ0ZXgpO1xyXG5cclxuXHRcdHRoaXMuQWRkTXVsdGlCYWNrRmFjZXMoZWRnZUxpc3QsIGVkZ2VWZXJ0ZXgpO1xyXG5cclxuXHRcdHRoaXMuQ29tcHV0ZUV2ZW50cyhlZGdlVmVydGV4LCBxdWV1ZSwgZWRnZXMpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgQWRkTXVsdGlCYWNrRmFjZXMoZWRnZUxpc3Q6IExpc3Q8RWRnZUV2ZW50PiwgZWRnZVZlcnRleDogVmVydGV4KSB7XHJcblx0XHRmb3IgKGNvbnN0IGVkZ2VFdmVudCBvZiBlZGdlTGlzdCkge1xyXG5cdFx0XHRjb25zdCBsZWZ0VmVydGV4ID0gZWRnZUV2ZW50LlByZXZpb3VzVmVydGV4O1xyXG5cdFx0XHRsZWZ0VmVydGV4LklzUHJvY2Vzc2VkID0gdHJ1ZTtcclxuXHRcdFx0TGF2VXRpbC5SZW1vdmVGcm9tTGF2KGxlZnRWZXJ0ZXgpO1xyXG5cclxuXHRcdFx0Y29uc3QgcmlnaHRWZXJ0ZXggPSBlZGdlRXZlbnQuTmV4dFZlcnRleDtcclxuXHRcdFx0cmlnaHRWZXJ0ZXguSXNQcm9jZXNzZWQgPSB0cnVlO1xyXG5cdFx0XHRMYXZVdGlsLlJlbW92ZUZyb21MYXYocmlnaHRWZXJ0ZXgpO1xyXG5cclxuXHRcdFx0dGhpcy5BZGRGYWNlQmFjayhlZGdlVmVydGV4LCBsZWZ0VmVydGV4LCByaWdodFZlcnRleCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBQaWNrRXZlbnQoZXZlbnQ6IFBpY2tFdmVudCkge1xyXG5cdFx0Y29uc3QgY2VudGVyID0gZXZlbnQuVjtcclxuXHRcdGNvbnN0IGVkZ2VMaXN0ID0gZXZlbnQuQ2hhaW4uRWRnZUxpc3Q7XHJcblxyXG5cdFx0Y29uc3QgdmVydGV4ID0gbmV3IFZlcnRleChjZW50ZXIsIGV2ZW50LkRpc3RhbmNlLCBMaW5lUGFyYW1ldHJpYzJkLkVtcHR5LCBudWxsLCBudWxsKTtcclxuXHRcdHZlcnRleC5Jc1Byb2Nlc3NlZCA9IHRydWU7XHJcblxyXG5cdFx0dGhpcy5BZGRNdWx0aUJhY2tGYWNlcyhlZGdlTGlzdCwgdmVydGV4KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIE11bHRpU3BsaXRFdmVudChldmVudDogTXVsdGlTcGxpdEV2ZW50LCBzTGF2OiBIYXNoU2V0PENpcmN1bGFyTGlzdDxWZXJ0ZXg+PiwgcXVldWU6IFByaW9yaXR5UXVldWU8U2tlbGV0b25FdmVudD4sIGVkZ2VzOiBMaXN0PEVkZ2U+KSB7XHJcblx0XHRjb25zdCBjaGFpbnMgPSBldmVudC5DaGFpbnM7XHJcblx0XHRjb25zdCBjZW50ZXIgPSBldmVudC5WO1xyXG5cclxuXHRcdHRoaXMuQ3JlYXRlT3Bwb3NpdGVFZGdlQ2hhaW5zKHNMYXYsIGNoYWlucywgY2VudGVyKTtcclxuXHJcblx0XHRjaGFpbnMuU29ydChuZXcgQ2hhaW5Db21wYXJlcihjZW50ZXIpKTtcclxuXHJcblx0XHRsZXQgbGFzdEZhY2VOb2RlOiBGYWNlTm9kZSA9IG51bGw7XHJcblxyXG5cdFx0bGV0IGVkZ2VMaXN0U2l6ZSA9IGNoYWlucy5Db3VudDtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWRnZUxpc3RTaXplOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgY2hhaW5CZWdpbiA9IGNoYWluc1tpXTtcclxuXHRcdFx0Y29uc3QgY2hhaW5FbmQgPSBjaGFpbnNbKGkgKyAxKSAlIGVkZ2VMaXN0U2l6ZV07XHJcblxyXG5cdFx0XHRjb25zdCBuZXdWZXJ0ZXggPSB0aGlzLkNyZWF0ZU11bHRpU3BsaXRWZXJ0ZXgoY2hhaW5CZWdpbi5OZXh0RWRnZSwgY2hhaW5FbmQuUHJldmlvdXNFZGdlLCBjZW50ZXIsIGV2ZW50LkRpc3RhbmNlKTtcclxuXHJcblx0XHRcdGNvbnN0IGJlZ2luTmV4dFZlcnRleCA9IGNoYWluQmVnaW4uTmV4dFZlcnRleDtcclxuXHRcdFx0Y29uc3QgZW5kUHJldmlvdXNWZXJ0ZXggPSBjaGFpbkVuZC5QcmV2aW91c1ZlcnRleDtcclxuXHJcblx0XHRcdHRoaXMuQ29ycmVjdEJpc2VjdG9yRGlyZWN0aW9uKG5ld1ZlcnRleC5CaXNlY3RvciwgYmVnaW5OZXh0VmVydGV4LCBlbmRQcmV2aW91c1ZlcnRleCwgY2hhaW5CZWdpbi5OZXh0RWRnZSwgY2hhaW5FbmQuUHJldmlvdXNFZGdlKTtcclxuXHJcblx0XHRcdGlmIChMYXZVdGlsLklzU2FtZUxhdihiZWdpbk5leHRWZXJ0ZXgsIGVuZFByZXZpb3VzVmVydGV4KSkge1xyXG5cdFx0XHRcdGNvbnN0IGxhdlBhcnQgPSBMYXZVdGlsLkN1dExhdlBhcnQoYmVnaW5OZXh0VmVydGV4LCBlbmRQcmV2aW91c1ZlcnRleCk7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGxhdiA9IG5ldyBDaXJjdWxhckxpc3Q8VmVydGV4PigpO1xyXG5cdFx0XHRcdHNMYXYuQWRkKGxhdik7XHJcblx0XHRcdFx0bGF2LkFkZExhc3QobmV3VmVydGV4KTtcclxuXHRcdFx0XHRmb3IgKGNvbnN0IHZlcnRleCBvZiBsYXZQYXJ0KVxyXG5cdFx0XHRcdFx0bGF2LkFkZExhc3QodmVydGV4KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRMYXZVdGlsLk1lcmdlQmVmb3JlQmFzZVZlcnRleChiZWdpbk5leHRWZXJ0ZXgsIGVuZFByZXZpb3VzVmVydGV4KTtcclxuXHRcdFx0XHRlbmRQcmV2aW91c1ZlcnRleC5BZGROZXh0KG5ld1ZlcnRleCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuQ29tcHV0ZUV2ZW50cyhuZXdWZXJ0ZXgsIHF1ZXVlLCBlZGdlcyk7XHJcblx0XHRcdGxhc3RGYWNlTm9kZSA9IHRoaXMuQWRkU3BsaXRGYWNlcyhsYXN0RmFjZU5vZGUsIGNoYWluQmVnaW4sIGNoYWluRW5kLCBuZXdWZXJ0ZXgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGVkZ2VMaXN0U2l6ZSA9IGNoYWlucy5Db3VudDtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWRnZUxpc3RTaXplOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgY2hhaW5CZWdpbiA9IGNoYWluc1tpXTtcclxuXHRcdFx0Y29uc3QgY2hhaW5FbmQgPSBjaGFpbnNbKGkgKyAxKSAlIGVkZ2VMaXN0U2l6ZV07XHJcblxyXG5cdFx0XHRMYXZVdGlsLlJlbW92ZUZyb21MYXYoY2hhaW5CZWdpbi5DdXJyZW50VmVydGV4KTtcclxuXHRcdFx0TGF2VXRpbC5SZW1vdmVGcm9tTGF2KGNoYWluRW5kLkN1cnJlbnRWZXJ0ZXgpO1xyXG5cclxuXHRcdFx0aWYgKGNoYWluQmVnaW4uQ3VycmVudFZlcnRleCAhPT0gbnVsbClcclxuXHRcdFx0XHRjaGFpbkJlZ2luLkN1cnJlbnRWZXJ0ZXguSXNQcm9jZXNzZWQgPSB0cnVlO1xyXG5cdFx0XHRpZiAoY2hhaW5FbmQuQ3VycmVudFZlcnRleCAhPT0gbnVsbClcclxuXHRcdFx0XHRjaGFpbkVuZC5DdXJyZW50VmVydGV4LklzUHJvY2Vzc2VkID0gdHJ1ZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIENvcnJlY3RCaXNlY3RvckRpcmVjdGlvbihiaXNlY3RvcjogTGluZVBhcmFtZXRyaWMyZCwgYmVnaW5OZXh0VmVydGV4OiBWZXJ0ZXgsIGVuZFByZXZpb3VzVmVydGV4OiBWZXJ0ZXgsIGJlZ2luRWRnZTogRWRnZSwgZW5kRWRnZTogRWRnZSkge1xyXG5cdFx0Y29uc3QgYmVnaW5FZGdlMiA9IGJlZ2luTmV4dFZlcnRleC5QcmV2aW91c0VkZ2U7XHJcblx0XHRjb25zdCBlbmRFZGdlMiA9IGVuZFByZXZpb3VzVmVydGV4Lk5leHRFZGdlO1xyXG5cclxuXHRcdGlmIChiZWdpbkVkZ2UgIT09IGJlZ2luRWRnZTIgfHwgZW5kRWRnZSAhPT0gZW5kRWRnZTIpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcigpO1xyXG5cclxuXHRcdGlmIChiZWdpbkVkZ2UuTm9ybS5Eb3QoZW5kRWRnZS5Ob3JtKSA8IC0wLjk3KSB7XHJcblx0XHRcdGNvbnN0IG4xID0gUHJpbWl0aXZlVXRpbHMuRnJvbVRvKGVuZFByZXZpb3VzVmVydGV4LlBvaW50LCBiaXNlY3Rvci5BKS5Ob3JtYWxpemVkKCk7XHJcblx0XHRcdGNvbnN0IG4yID0gUHJpbWl0aXZlVXRpbHMuRnJvbVRvKGJpc2VjdG9yLkEsIGJlZ2luTmV4dFZlcnRleC5Qb2ludCkuTm9ybWFsaXplZCgpO1xyXG5cdFx0XHRjb25zdCBiaXNlY3RvclByZWRpY3Rpb24gPSB0aGlzLkNhbGNWZWN0b3JCaXNlY3RvcihuMSwgbjIpO1xyXG5cclxuXHRcdFx0aWYgKGJpc2VjdG9yLlUuRG90KGJpc2VjdG9yUHJlZGljdGlvbikgPCAwKVxyXG5cdFx0XHRcdGJpc2VjdG9yLlUuTmVnYXRlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBBZGRTcGxpdEZhY2VzKGxhc3RGYWNlTm9kZTogRmFjZU5vZGUsIGNoYWluQmVnaW46IElDaGFpbiwgY2hhaW5FbmQ6IElDaGFpbiwgbmV3VmVydGV4OiBWZXJ0ZXgpOiBGYWNlTm9kZSB7XHJcblx0XHRpZiAoY2hhaW5CZWdpbiBpbnN0YW5jZW9mIFNpbmdsZUVkZ2VDaGFpbikge1xyXG5cdFx0XHRpZiAobGFzdEZhY2VOb2RlID09PSBudWxsKSB7XHJcblx0XHRcdFx0Y29uc3QgYmVnaW5WZXJ0ZXggPSB0aGlzLkNyZWF0ZU9wcG9zaXRlRWRnZVZlcnRleChuZXdWZXJ0ZXgpO1xyXG5cclxuXHRcdFx0XHRuZXdWZXJ0ZXguUmlnaHRGYWNlID0gYmVnaW5WZXJ0ZXguUmlnaHRGYWNlO1xyXG5cdFx0XHRcdGxhc3RGYWNlTm9kZSA9IGJlZ2luVmVydGV4LkxlZnRGYWNlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmIChuZXdWZXJ0ZXguUmlnaHRGYWNlICE9PSBudWxsKVxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibmV3VmVydGV4LlJpZ2h0RmFjZSBzaG91bGQgYmUgbnVsbFwiKTtcclxuXHJcblx0XHRcdFx0bmV3VmVydGV4LlJpZ2h0RmFjZSA9IGxhc3RGYWNlTm9kZTtcclxuXHRcdFx0XHRsYXN0RmFjZU5vZGUgPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb25zdCBiZWdpblZlcnRleCA9IGNoYWluQmVnaW4uQ3VycmVudFZlcnRleDtcclxuXHRcdFx0dGhpcy5BZGRGYWNlUmlnaHQobmV3VmVydGV4LCBiZWdpblZlcnRleCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNoYWluRW5kIGluc3RhbmNlb2YgU2luZ2xlRWRnZUNoYWluKSB7XHJcblx0XHRcdGlmIChsYXN0RmFjZU5vZGUgPT09IG51bGwpIHtcclxuXHRcdFx0XHRjb25zdCBlbmRWZXJ0ZXggPSB0aGlzLkNyZWF0ZU9wcG9zaXRlRWRnZVZlcnRleChuZXdWZXJ0ZXgpO1xyXG5cclxuXHRcdFx0XHRuZXdWZXJ0ZXguTGVmdEZhY2UgPSBlbmRWZXJ0ZXguTGVmdEZhY2U7XHJcblx0XHRcdFx0bGFzdEZhY2VOb2RlID0gZW5kVmVydGV4LkxlZnRGYWNlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmIChuZXdWZXJ0ZXguTGVmdEZhY2UgIT09IG51bGwpXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJuZXdWZXJ0ZXguTGVmdEZhY2Ugc2hvdWxkIGJlIG51bGwuXCIpO1xyXG5cdFx0XHRcdG5ld1ZlcnRleC5MZWZ0RmFjZSA9IGxhc3RGYWNlTm9kZTtcclxuXHJcblx0XHRcdFx0bGFzdEZhY2VOb2RlID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29uc3QgZW5kVmVydGV4ID0gY2hhaW5FbmQuQ3VycmVudFZlcnRleDtcclxuXHRcdFx0dGhpcy5BZGRGYWNlTGVmdChuZXdWZXJ0ZXgsIGVuZFZlcnRleCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbGFzdEZhY2VOb2RlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgQ3JlYXRlT3Bwb3NpdGVFZGdlVmVydGV4KG5ld1ZlcnRleDogVmVydGV4KTogVmVydGV4IHtcclxuXHRcdGNvbnN0IHZlcnRleCA9IG5ldyBWZXJ0ZXgobmV3VmVydGV4LlBvaW50LCBuZXdWZXJ0ZXguRGlzdGFuY2UsIG5ld1ZlcnRleC5CaXNlY3RvciwgbmV3VmVydGV4LlByZXZpb3VzRWRnZSwgbmV3VmVydGV4Lk5leHRFZGdlKTtcclxuXHJcblx0XHRjb25zdCBmbiA9IG5ldyBGYWNlTm9kZSh2ZXJ0ZXgpO1xyXG5cdFx0dmVydGV4LkxlZnRGYWNlID0gZm47XHJcblx0XHR2ZXJ0ZXguUmlnaHRGYWNlID0gZm47XHJcblxyXG5cdFx0Y29uc3QgcmlnaHRGYWNlID0gbmV3IEZhY2VRdWV1ZSgpO1xyXG5cdFx0cmlnaHRGYWNlLkFkZEZpcnN0KGZuKTtcclxuXHJcblx0XHRyZXR1cm4gdmVydGV4O1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgQ3JlYXRlT3Bwb3NpdGVFZGdlQ2hhaW5zKHNMYXY6IEhhc2hTZXQ8Q2lyY3VsYXJMaXN0PFZlcnRleD4+LCBjaGFpbnM6IExpc3Q8SUNoYWluPiwgY2VudGVyOiBWZWN0b3IyZCkge1xyXG5cdFx0Y29uc3Qgb3Bwb3NpdGVFZGdlcyA9IG5ldyBIYXNoU2V0PEVkZ2U+KCk7XHJcblxyXG5cdFx0Y29uc3Qgb3Bwb3NpdGVFZGdlQ2hhaW5zID0gbmV3IExpc3Q8SUNoYWluPigpO1xyXG5cdFx0Y29uc3QgY2hhaW5zRm9yUmVtb3ZhbCA9IG5ldyBMaXN0PElDaGFpbj4oKTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGNoYWluIG9mIGNoYWlucykge1xyXG5cdFx0XHRpZiAoY2hhaW4gaW5zdGFuY2VvZiBTcGxpdENoYWluKSB7XHJcblx0XHRcdFx0Y29uc3Qgc3BsaXRDaGFpbiA9IDxTcGxpdENoYWluPmNoYWluO1xyXG5cdFx0XHRcdGNvbnN0IG9wcG9zaXRlRWRnZSA9IHNwbGl0Q2hhaW4uT3Bwb3NpdGVFZGdlO1xyXG5cclxuXHRcdFx0XHRpZiAob3Bwb3NpdGVFZGdlICE9PSBudWxsICYmICFvcHBvc2l0ZUVkZ2VzLkNvbnRhaW5zKG9wcG9zaXRlRWRnZSkpIHtcclxuXHRcdFx0XHRcdGNvbnN0IG5leHRWZXJ0ZXggPSB0aGlzLkZpbmRPcHBvc2l0ZUVkZ2VMYXYoc0xhdiwgb3Bwb3NpdGVFZGdlLCBjZW50ZXIpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChuZXh0VmVydGV4ICE9PSBudWxsKVxyXG5cdFx0XHRcdFx0XHRvcHBvc2l0ZUVkZ2VDaGFpbnMuQWRkKG5ldyBTaW5nbGVFZGdlQ2hhaW4ob3Bwb3NpdGVFZGdlLCBuZXh0VmVydGV4KSk7XHJcblx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5GaW5kT3Bwb3NpdGVFZGdlTGF2KHNMYXYsIG9wcG9zaXRlRWRnZSwgY2VudGVyKTtcclxuXHRcdFx0XHRcdFx0Y2hhaW5zRm9yUmVtb3ZhbC5BZGQoY2hhaW4pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0b3Bwb3NpdGVFZGdlcy5BZGQob3Bwb3NpdGVFZGdlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKGxldCBjaGFpbiBvZiBjaGFpbnNGb3JSZW1vdmFsKVxyXG5cdFx0XHRjaGFpbnMuUmVtb3ZlKGNoYWluKTtcclxuXHJcblx0XHRjaGFpbnMuQWRkUmFuZ2Uob3Bwb3NpdGVFZGdlQ2hhaW5zKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIENyZWF0ZU11bHRpU3BsaXRWZXJ0ZXgobmV4dEVkZ2U6IEVkZ2UsIHByZXZpb3VzRWRnZTogRWRnZSwgY2VudGVyOiBWZWN0b3IyZCwgZGlzdGFuY2U6IG51bWJlcik6IFZlcnRleCB7XHJcblx0XHRjb25zdCBiaXNlY3RvciA9IHRoaXMuQ2FsY0Jpc2VjdG9yKGNlbnRlciwgcHJldmlvdXNFZGdlLCBuZXh0RWRnZSk7XHJcblx0XHRyZXR1cm4gbmV3IFZlcnRleChjZW50ZXIsIGRpc3RhbmNlLCBiaXNlY3RvciwgcHJldmlvdXNFZGdlLCBuZXh0RWRnZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBDcmVhdGVDaGFpbnMoY2x1c3RlcjogTGlzdDxTa2VsZXRvbkV2ZW50Pik6IExpc3Q8SUNoYWluPiB7XHJcblx0XHRjb25zdCBlZGdlQ2x1c3RlciA9IG5ldyBMaXN0PEVkZ2VFdmVudD4oKTtcclxuXHRcdGNvbnN0IHNwbGl0Q2x1c3RlciA9IG5ldyBMaXN0PFNwbGl0RXZlbnQ+KCk7XHJcblx0XHRjb25zdCB2ZXJ0ZXhFdmVudHNQYXJlbnRzID0gbmV3IEhhc2hTZXQ8VmVydGV4PigpO1xyXG5cclxuXHRcdGZvciAoY29uc3Qgc2tlbGV0b25FdmVudCBvZiBjbHVzdGVyKSB7XHJcblx0XHRcdGlmIChza2VsZXRvbkV2ZW50IGluc3RhbmNlb2YgRWRnZUV2ZW50KVxyXG5cdFx0XHRcdGVkZ2VDbHVzdGVyLkFkZCg8RWRnZUV2ZW50PnNrZWxldG9uRXZlbnQpO1xyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRpZiAoc2tlbGV0b25FdmVudCBpbnN0YW5jZW9mIFZlcnRleFNwbGl0RXZlbnQpIHtcclxuXHJcblx0XHRcdFx0fSBlbHNlIGlmIChza2VsZXRvbkV2ZW50IGluc3RhbmNlb2YgU3BsaXRFdmVudCkge1xyXG5cdFx0XHRcdFx0Y29uc3Qgc3BsaXRFdmVudCA9IDxTcGxpdEV2ZW50PnNrZWxldG9uRXZlbnQ7XHJcblx0XHRcdFx0XHR2ZXJ0ZXhFdmVudHNQYXJlbnRzLkFkZChzcGxpdEV2ZW50LlBhcmVudCk7XHJcblx0XHRcdFx0XHRzcGxpdENsdXN0ZXIuQWRkKHNwbGl0RXZlbnQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAobGV0IHNrZWxldG9uRXZlbnQgb2YgY2x1c3Rlcikge1xyXG5cdFx0XHRpZiAoc2tlbGV0b25FdmVudCBpbnN0YW5jZW9mIFZlcnRleFNwbGl0RXZlbnQpIHtcclxuXHRcdFx0XHRjb25zdCB2ZXJ0ZXhFdmVudCA9IDxWZXJ0ZXhTcGxpdEV2ZW50PnNrZWxldG9uRXZlbnQ7XHJcblx0XHRcdFx0aWYgKCF2ZXJ0ZXhFdmVudHNQYXJlbnRzLkNvbnRhaW5zKHZlcnRleEV2ZW50LlBhcmVudCkpIHtcclxuXHRcdFx0XHRcdHZlcnRleEV2ZW50c1BhcmVudHMuQWRkKHZlcnRleEV2ZW50LlBhcmVudCk7XHJcblx0XHRcdFx0XHRzcGxpdENsdXN0ZXIuQWRkKHZlcnRleEV2ZW50KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBlZGdlQ2hhaW5zID0gbmV3IExpc3Q8RWRnZUNoYWluPigpO1xyXG5cclxuXHRcdHdoaWxlIChlZGdlQ2x1c3Rlci5Db3VudCA+IDApXHJcblx0XHRcdGVkZ2VDaGFpbnMuQWRkKG5ldyBFZGdlQ2hhaW4odGhpcy5DcmVhdGVFZGdlQ2hhaW4oZWRnZUNsdXN0ZXIpKSk7XHJcblxyXG5cdFx0Y29uc3QgY2hhaW5zID0gbmV3IExpc3Q8SUNoYWluPihlZGdlQ2hhaW5zLkNvdW50KTtcclxuXHRcdGZvciAoY29uc3QgZWRnZUNoYWluIG9mIGVkZ2VDaGFpbnMpXHJcblx0XHRcdGNoYWlucy5BZGQoZWRnZUNoYWluKTtcclxuXHJcblx0XHRzcGxpdEV2ZW50TG9vcDpcclxuXHRcdFx0d2hpbGUgKHNwbGl0Q2x1c3Rlci5BbnkoKSkge1xyXG5cdFx0XHRcdGNvbnN0IHNwbGl0ID0gc3BsaXRDbHVzdGVyWzBdO1xyXG5cdFx0XHRcdHNwbGl0Q2x1c3Rlci5SZW1vdmVBdCgwKTtcclxuXHJcblx0XHRcdFx0Zm9yIChjb25zdCBjaGFpbiBvZiBlZGdlQ2hhaW5zKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5Jc0luRWRnZUNoYWluKHNwbGl0LCBjaGFpbikpXHJcblx0XHRcdFx0XHRcdGNvbnRpbnVlIHNwbGl0RXZlbnRMb29wOyAvL2dvdG8gc3BsaXRFdmVudExvb3A7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjaGFpbnMuQWRkKG5ldyBTcGxpdENoYWluKHNwbGl0KSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRyZXR1cm4gY2hhaW5zO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgSXNJbkVkZ2VDaGFpbihzcGxpdDogU3BsaXRFdmVudCwgY2hhaW46IEVkZ2VDaGFpbik6IGJvb2xlYW4ge1xyXG5cdFx0Y29uc3Qgc3BsaXRQYXJlbnQgPSBzcGxpdC5QYXJlbnQ7XHJcblx0XHRjb25zdCBlZGdlTGlzdCA9IGNoYWluLkVkZ2VMaXN0O1xyXG5cclxuXHRcdHJldHVybiBlZGdlTGlzdC5BbnkoZWRnZUV2ZW50ID0+IGVkZ2VFdmVudC5QcmV2aW91c1ZlcnRleCA9PT0gc3BsaXRQYXJlbnQgfHwgZWRnZUV2ZW50Lk5leHRWZXJ0ZXggPT09IHNwbGl0UGFyZW50KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIENyZWF0ZUVkZ2VDaGFpbihlZGdlQ2x1c3RlcjogTGlzdDxFZGdlRXZlbnQ+KTogTGlzdDxFZGdlRXZlbnQ+IHtcclxuXHRcdGNvbnN0IGVkZ2VMaXN0ID0gbmV3IExpc3Q8RWRnZUV2ZW50PigpO1xyXG5cclxuXHRcdGVkZ2VMaXN0LkFkZChlZGdlQ2x1c3RlclswXSk7XHJcblx0XHRlZGdlQ2x1c3Rlci5SZW1vdmVBdCgwKTtcclxuXHJcblx0XHRsb29wOlxyXG5cdFx0XHRmb3IgKDsgOykge1xyXG5cdFx0XHRcdGNvbnN0IGJlZ2luVmVydGV4ID0gZWRnZUxpc3RbMF0uUHJldmlvdXNWZXJ0ZXg7XHJcblx0XHRcdFx0Y29uc3QgZW5kVmVydGV4ID0gZWRnZUxpc3RbZWRnZUxpc3QuQ291bnQgLSAxXS5OZXh0VmVydGV4O1xyXG5cclxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVkZ2VDbHVzdGVyLkNvdW50OyBpKyspIHtcclxuXHRcdFx0XHRcdGNvbnN0IGVkZ2UgPSBlZGdlQ2x1c3RlcltpXTtcclxuXHRcdFx0XHRcdGlmIChlZGdlLlByZXZpb3VzVmVydGV4ID09PSBlbmRWZXJ0ZXgpIHtcclxuXHRcdFx0XHRcdFx0ZWRnZUNsdXN0ZXIuUmVtb3ZlQXQoaSk7XHJcblx0XHRcdFx0XHRcdGVkZ2VMaXN0LkFkZChlZGdlKTtcclxuXHRcdFx0XHRcdFx0Ly9nb3RvIGxvb3A7XHJcblx0XHRcdFx0XHRcdGNvbnRpbnVlIGxvb3A7XHJcblxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKGVkZ2UuTmV4dFZlcnRleCA9PT0gYmVnaW5WZXJ0ZXgpIHtcclxuXHRcdFx0XHRcdFx0ZWRnZUNsdXN0ZXIuUmVtb3ZlQXQoaSk7XHJcblx0XHRcdFx0XHRcdGVkZ2VMaXN0Lkluc2VydCgwLCBlZGdlKTtcclxuXHRcdFx0XHRcdFx0Ly9nb3RvIGxvb3A7XHJcblx0XHRcdFx0XHRcdGNvbnRpbnVlIGxvb3A7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGVkZ2VMaXN0O1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgUmVtb3ZlRXZlbnRzVW5kZXJIZWlnaHQocXVldWU6IFByaW9yaXR5UXVldWU8U2tlbGV0b25FdmVudD4sIGxldmVsSGVpZ2h0OiBudW1iZXIpIHtcclxuXHRcdHdoaWxlICghcXVldWUuRW1wdHkpIHtcclxuXHRcdFx0aWYgKHF1ZXVlLlBlZWsoKS5EaXN0YW5jZSA+IGxldmVsSGVpZ2h0ICsgdGhpcy5TcGxpdEVwc2lsb24pXHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdHF1ZXVlLk5leHQoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIExvYWRBbmRHcm91cExldmVsRXZlbnRzKHF1ZXVlOiBQcmlvcml0eVF1ZXVlPFNrZWxldG9uRXZlbnQ+KTogTGlzdDxTa2VsZXRvbkV2ZW50PiB7XHJcblx0XHRjb25zdCBsZXZlbEV2ZW50cyA9IHRoaXMuTG9hZExldmVsRXZlbnRzKHF1ZXVlKTtcclxuXHRcdHJldHVybiB0aGlzLkdyb3VwTGV2ZWxFdmVudHMobGV2ZWxFdmVudHMpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgR3JvdXBMZXZlbEV2ZW50cyhsZXZlbEV2ZW50czogTGlzdDxTa2VsZXRvbkV2ZW50Pik6IExpc3Q8U2tlbGV0b25FdmVudD4ge1xyXG5cdFx0Y29uc3QgcmV0ID0gbmV3IExpc3Q8U2tlbGV0b25FdmVudD4oKTtcclxuXHJcblx0XHRjb25zdCBwYXJlbnRHcm91cCA9IG5ldyBIYXNoU2V0PFZlcnRleD4oKTtcclxuXHJcblx0XHR3aGlsZSAobGV2ZWxFdmVudHMuQ291bnQgPiAwKSB7XHJcblx0XHRcdHBhcmVudEdyb3VwLkNsZWFyKCk7XHJcblxyXG5cdFx0XHRjb25zdCBldmVudCA9IGxldmVsRXZlbnRzWzBdO1xyXG5cdFx0XHRsZXZlbEV2ZW50cy5SZW1vdmVBdCgwKTtcclxuXHRcdFx0Y29uc3QgZXZlbnRDZW50ZXIgPSBldmVudC5WO1xyXG5cdFx0XHRjb25zdCBkaXN0YW5jZSA9IGV2ZW50LkRpc3RhbmNlO1xyXG5cclxuXHRcdFx0dGhpcy5BZGRFdmVudFRvR3JvdXAocGFyZW50R3JvdXAsIGV2ZW50KTtcclxuXHJcblx0XHRcdGNvbnN0IGNsdXN0ZXIgPSBuZXcgTGlzdDxTa2VsZXRvbkV2ZW50PigpO1xyXG5cdFx0XHRjbHVzdGVyLkFkZChldmVudCk7XHJcblxyXG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGxldmVsRXZlbnRzLkNvdW50OyBqKyspIHtcclxuXHRcdFx0XHRjb25zdCB0ZXN0ID0gbGV2ZWxFdmVudHNbal07XHJcblxyXG5cdFx0XHRcdGlmICh0aGlzLklzRXZlbnRJbkdyb3VwKHBhcmVudEdyb3VwLCB0ZXN0KSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgaXRlbSA9IGxldmVsRXZlbnRzW2pdO1xyXG5cdFx0XHRcdFx0bGV2ZWxFdmVudHMuUmVtb3ZlQXQoaik7XHJcblx0XHRcdFx0XHRjbHVzdGVyLkFkZChpdGVtKTtcclxuXHRcdFx0XHRcdHRoaXMuQWRkRXZlbnRUb0dyb3VwKHBhcmVudEdyb3VwLCB0ZXN0KTtcclxuXHRcdFx0XHRcdGotLTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGV2ZW50Q2VudGVyLkRpc3RhbmNlVG8odGVzdC5WKSA8IHRoaXMuU3BsaXRFcHNpbG9uKSB7XHJcblx0XHRcdFx0XHRjb25zdCBpdGVtID0gbGV2ZWxFdmVudHNbal07XHJcblx0XHRcdFx0XHRsZXZlbEV2ZW50cy5SZW1vdmVBdChqKTtcclxuXHRcdFx0XHRcdGNsdXN0ZXIuQWRkKGl0ZW0pO1xyXG5cdFx0XHRcdFx0dGhpcy5BZGRFdmVudFRvR3JvdXAocGFyZW50R3JvdXAsIHRlc3QpO1xyXG5cdFx0XHRcdFx0ai0tO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0LkFkZCh0aGlzLkNyZWF0ZUxldmVsRXZlbnQoZXZlbnRDZW50ZXIsIGRpc3RhbmNlLCBjbHVzdGVyKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmV0O1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgSXNFdmVudEluR3JvdXAocGFyZW50R3JvdXA6IEhhc2hTZXQ8VmVydGV4PiwgZXZlbnQ6IFNrZWxldG9uRXZlbnQpOiBib29sZWFuIHtcclxuXHRcdGlmIChldmVudCBpbnN0YW5jZW9mIFNwbGl0RXZlbnQpXHJcblx0XHRcdHJldHVybiBwYXJlbnRHcm91cC5Db250YWlucygoPFNwbGl0RXZlbnQ+ZXZlbnQpLlBhcmVudCk7XHJcblx0XHRpZiAoZXZlbnQgaW5zdGFuY2VvZiBFZGdlRXZlbnQpXHJcblx0XHRcdHJldHVybiBwYXJlbnRHcm91cC5Db250YWlucygoPEVkZ2VFdmVudD5ldmVudCkuUHJldmlvdXNWZXJ0ZXgpXHJcblx0XHRcdFx0fHwgcGFyZW50R3JvdXAuQ29udGFpbnMoKDxFZGdlRXZlbnQ+ZXZlbnQpLk5leHRWZXJ0ZXgpO1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgQWRkRXZlbnRUb0dyb3VwKHBhcmVudEdyb3VwOiBIYXNoU2V0PFZlcnRleD4sIGV2ZW50OiBTa2VsZXRvbkV2ZW50KSB7XHJcblx0XHRpZiAoZXZlbnQgaW5zdGFuY2VvZiBTcGxpdEV2ZW50KVxyXG5cdFx0XHRwYXJlbnRHcm91cC5BZGQoKDxTcGxpdEV2ZW50PmV2ZW50KS5QYXJlbnQpO1xyXG5cdFx0ZWxzZSBpZiAoZXZlbnQgaW5zdGFuY2VvZiBFZGdlRXZlbnQpIHtcclxuXHRcdFx0cGFyZW50R3JvdXAuQWRkKCg8RWRnZUV2ZW50PmV2ZW50KS5QcmV2aW91c1ZlcnRleCk7XHJcblx0XHRcdHBhcmVudEdyb3VwLkFkZCgoPEVkZ2VFdmVudD5ldmVudCkuTmV4dFZlcnRleCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBDcmVhdGVMZXZlbEV2ZW50KGV2ZW50Q2VudGVyOiBWZWN0b3IyZCwgZGlzdGFuY2U6IG51bWJlciwgZXZlbnRDbHVzdGVyOiBMaXN0PFNrZWxldG9uRXZlbnQ+KTogU2tlbGV0b25FdmVudCB7XHJcblx0XHRjb25zdCBjaGFpbnMgPSB0aGlzLkNyZWF0ZUNoYWlucyhldmVudENsdXN0ZXIpO1xyXG5cclxuXHRcdGlmIChjaGFpbnMuQ291bnQgPT09IDEpIHtcclxuXHRcdFx0Y29uc3QgY2hhaW4gPSBjaGFpbnNbMF07XHJcblx0XHRcdGlmIChjaGFpbi5DaGFpblR5cGUgPT09IENoYWluVHlwZS5DbG9zZWRFZGdlKVxyXG5cdFx0XHRcdHJldHVybiBuZXcgUGlja0V2ZW50KGV2ZW50Q2VudGVyLCBkaXN0YW5jZSwgPEVkZ2VDaGFpbj5jaGFpbik7XHJcblx0XHRcdGlmIChjaGFpbi5DaGFpblR5cGUgPT09IENoYWluVHlwZS5FZGdlKVxyXG5cdFx0XHRcdHJldHVybiBuZXcgTXVsdGlFZGdlRXZlbnQoZXZlbnRDZW50ZXIsIGRpc3RhbmNlLCA8RWRnZUNoYWluPmNoYWluKTtcclxuXHRcdFx0aWYgKGNoYWluLkNoYWluVHlwZSA9PT0gQ2hhaW5UeXBlLlNwbGl0KVxyXG5cdFx0XHRcdHJldHVybiBuZXcgTXVsdGlTcGxpdEV2ZW50KGV2ZW50Q2VudGVyLCBkaXN0YW5jZSwgY2hhaW5zKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoY2hhaW5zLkFueShjaGFpbiA9PiBjaGFpbi5DaGFpblR5cGUgPT09IENoYWluVHlwZS5DbG9zZWRFZGdlKSlcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRm91bmQgY2xvc2VkIGNoYWluIG9mIGV2ZW50cyBmb3Igc2luZ2xlIHBvaW50LCBidXQgZm91bmQgbW9yZSB0aGVuIG9uZSBjaGFpblwiKTtcclxuXHRcdHJldHVybiBuZXcgTXVsdGlTcGxpdEV2ZW50KGV2ZW50Q2VudGVyLCBkaXN0YW5jZSwgY2hhaW5zKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIExvYWRMZXZlbEV2ZW50cyhxdWV1ZTogUHJpb3JpdHlRdWV1ZTxTa2VsZXRvbkV2ZW50Pik6IExpc3Q8U2tlbGV0b25FdmVudD4ge1xyXG5cdFx0Y29uc3QgbGV2ZWwgPSBuZXcgTGlzdDxTa2VsZXRvbkV2ZW50PigpO1xyXG5cdFx0bGV0IGxldmVsU3RhcnQ6IFNrZWxldG9uRXZlbnQ7XHJcblxyXG5cdFx0ZG8ge1xyXG5cdFx0XHRsZXZlbFN0YXJ0ID0gcXVldWUuRW1wdHkgPyBudWxsIDogcXVldWUuTmV4dCgpO1xyXG5cdFx0fVxyXG5cdFx0d2hpbGUgKGxldmVsU3RhcnQgIT09IG51bGwgJiYgbGV2ZWxTdGFydC5Jc09ic29sZXRlKTtcclxuXHJcblxyXG5cdFx0aWYgKGxldmVsU3RhcnQgPT09IG51bGwgfHwgbGV2ZWxTdGFydC5Jc09ic29sZXRlKVxyXG5cdFx0XHRyZXR1cm4gbGV2ZWw7XHJcblxyXG5cdFx0Y29uc3QgbGV2ZWxTdGFydEhlaWdodCA9IGxldmVsU3RhcnQuRGlzdGFuY2U7XHJcblxyXG5cdFx0bGV2ZWwuQWRkKGxldmVsU3RhcnQpO1xyXG5cclxuXHRcdGxldCBldmVudDogU2tlbGV0b25FdmVudDtcclxuXHRcdHdoaWxlICgoZXZlbnQgPSBxdWV1ZS5QZWVrKCkpICE9PSBudWxsICYmXHJcblx0XHRNYXRoLmFicyhldmVudC5EaXN0YW5jZSAtIGxldmVsU3RhcnRIZWlnaHQpIDwgdGhpcy5TcGxpdEVwc2lsb24pIHtcclxuXHRcdFx0Y29uc3QgbmV4dExldmVsRXZlbnQgPSBxdWV1ZS5OZXh0KCk7XHJcblx0XHRcdGlmICghbmV4dExldmVsRXZlbnQuSXNPYnNvbGV0ZSlcclxuXHRcdFx0XHRsZXZlbC5BZGQobmV4dExldmVsRXZlbnQpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGxldmVsO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgQXNzZXJ0TWF4TnVtYmVyT2ZJbnRlcmFjdGlvbihjb3VudDogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRcdGNvdW50Kys7XHJcblx0XHRpZiAoY291bnQgPiAxMDAwMClcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVG9vIG1hbnkgaW50ZXJhY3Rpb246IGJ1Zz9cIik7XHJcblx0XHRyZXR1cm4gY291bnQ7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBNYWtlQ2xvY2t3aXNlKGhvbGVzOiBMaXN0PExpc3Q8VmVjdG9yMmQ+Pik6IExpc3Q8TGlzdDxWZWN0b3IyZD4+IHtcclxuXHRcdGlmIChob2xlcyA9PT0gbnVsbClcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblxyXG5cdFx0Y29uc3QgcmV0ID0gbmV3IExpc3Q8TGlzdDxWZWN0b3IyZD4+KGhvbGVzLkNvdW50KTtcclxuXHRcdGZvciAoY29uc3QgaG9sZSBvZiBob2xlcykge1xyXG5cdFx0XHRpZiAoUHJpbWl0aXZlVXRpbHMuSXNDbG9ja3dpc2VQb2x5Z29uKGhvbGUpKVxyXG5cdFx0XHRcdHJldC5BZGQoaG9sZSk7XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGhvbGUuUmV2ZXJzZSgpO1xyXG5cdFx0XHRcdHJldC5BZGQoaG9sZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXQ7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBNYWtlQ291bnRlckNsb2Nrd2lzZShwb2x5Z29uOiBMaXN0PFZlY3RvcjJkPik6IExpc3Q8VmVjdG9yMmQ+IHtcclxuXHRcdHJldHVybiBQcmltaXRpdmVVdGlscy5NYWtlQ291bnRlckNsb2Nrd2lzZShwb2x5Z29uKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIEluaXRTbGF2KHBvbHlnb246IExpc3Q8VmVjdG9yMmQ+LCBzTGF2OiBIYXNoU2V0PENpcmN1bGFyTGlzdDxWZXJ0ZXg+PiwgZWRnZXM6IExpc3Q8RWRnZT4sIGZhY2VzOiBMaXN0PEZhY2VRdWV1ZT4pIHtcclxuXHRcdGNvbnN0IGVkZ2VzTGlzdCA9IG5ldyBDaXJjdWxhckxpc3Q8RWRnZT4oKTtcclxuXHJcblx0XHRjb25zdCBzaXplID0gcG9seWdvbi5Db3VudDtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IGogPSAoaSArIDEpICUgc2l6ZTtcclxuXHRcdFx0ZWRnZXNMaXN0LkFkZExhc3QobmV3IEVkZ2UocG9seWdvbltpXSwgcG9seWdvbltqXSkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoY29uc3QgZWRnZSBvZiBlZGdlc0xpc3QuSXRlcmF0ZSgpKSB7XHJcblx0XHRcdGNvbnN0IG5leHRFZGdlID0gZWRnZS5OZXh0IGFzIEVkZ2U7XHJcblx0XHRcdGNvbnN0IGJpc2VjdG9yID0gdGhpcy5DYWxjQmlzZWN0b3IoZWRnZS5FbmQsIGVkZ2UsIG5leHRFZGdlKTtcclxuXHJcblx0XHRcdGVkZ2UuQmlzZWN0b3JOZXh0ID0gYmlzZWN0b3I7XHJcblx0XHRcdG5leHRFZGdlLkJpc2VjdG9yUHJldmlvdXMgPSBiaXNlY3RvcjtcclxuXHRcdFx0ZWRnZXMuQWRkKGVkZ2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGxhdiA9IG5ldyBDaXJjdWxhckxpc3Q8VmVydGV4PigpO1xyXG5cdFx0c0xhdi5BZGQobGF2KTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGVkZ2Ugb2YgZWRnZXNMaXN0Lkl0ZXJhdGUoKSkge1xyXG5cdFx0XHRjb25zdCBuZXh0RWRnZSA9IGVkZ2UuTmV4dCBhcyBFZGdlO1xyXG5cdFx0XHRjb25zdCB2ZXJ0ZXggPSBuZXcgVmVydGV4KGVkZ2UuRW5kLCAwLCBlZGdlLkJpc2VjdG9yTmV4dCwgZWRnZSwgbmV4dEVkZ2UpO1xyXG5cdFx0XHRsYXYuQWRkTGFzdCh2ZXJ0ZXgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoY29uc3QgdmVydGV4IG9mIGxhdi5JdGVyYXRlKCkpIHtcclxuXHRcdFx0Y29uc3QgbmV4dCA9IHZlcnRleC5OZXh0IGFzIFZlcnRleDtcclxuXHRcdFx0Y29uc3QgcmlnaHRGYWNlID0gbmV3IEZhY2VOb2RlKHZlcnRleCk7XHJcblxyXG5cdFx0XHRjb25zdCBmYWNlUXVldWUgPSBuZXcgRmFjZVF1ZXVlKCk7XHJcblx0XHRcdGZhY2VRdWV1ZS5FZGdlID0gKHZlcnRleC5OZXh0RWRnZSk7XHJcblxyXG5cdFx0XHRmYWNlUXVldWUuQWRkRmlyc3QocmlnaHRGYWNlKTtcclxuXHRcdFx0ZmFjZXMuQWRkKGZhY2VRdWV1ZSk7XHJcblx0XHRcdHZlcnRleC5SaWdodEZhY2UgPSByaWdodEZhY2U7XHJcblxyXG5cdFx0XHRjb25zdCBsZWZ0RmFjZSA9IG5ldyBGYWNlTm9kZShuZXh0KTtcclxuXHRcdFx0cmlnaHRGYWNlLkFkZFB1c2gobGVmdEZhY2UpO1xyXG5cdFx0XHRuZXh0LkxlZnRGYWNlID0gbGVmdEZhY2U7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBBZGRGYWNlc1RvT3V0cHV0KGZhY2VzOiBMaXN0PEZhY2VRdWV1ZT4pOiBTa2VsZXRvbiB7XHJcblx0XHRjb25zdCBlZGdlT3V0cHV0cyA9IG5ldyBMaXN0PEVkZ2VSZXN1bHQ+KCk7XHJcblx0XHRjb25zdCBkaXN0YW5jZXMgPSBuZXcgRGljdGlvbmFyeTxWZWN0b3IyZCwgbnVtYmVyPigpO1xyXG5cclxuXHRcdGZvciAoY29uc3QgZmFjZSBvZiBmYWNlcykge1xyXG5cdFx0XHRpZiAoZmFjZS5TaXplID4gMCkge1xyXG5cdFx0XHRcdGNvbnN0IGZhY2VMaXN0ID0gbmV3IExpc3Q8VmVjdG9yMmQ+KCk7XHJcblxyXG5cdFx0XHRcdGZvciAoY29uc3QgZm4gb2YgZmFjZS5JdGVyYXRlKCkpIHtcclxuXHRcdFx0XHRcdGNvbnN0IHBvaW50ID0gZm4uVmVydGV4LlBvaW50O1xyXG5cclxuXHRcdFx0XHRcdGZhY2VMaXN0LkFkZChwb2ludCk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCFkaXN0YW5jZXMuQ29udGFpbnNLZXkocG9pbnQpKVxyXG5cdFx0XHRcdFx0XHRkaXN0YW5jZXMuQWRkKHBvaW50LCBmbi5WZXJ0ZXguRGlzdGFuY2UpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZWRnZU91dHB1dHMuQWRkKG5ldyBFZGdlUmVzdWx0KGZhY2UuRWRnZSwgZmFjZUxpc3QpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5ldyBTa2VsZXRvbihlZGdlT3V0cHV0cywgZGlzdGFuY2VzKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIEluaXRFdmVudHMoc0xhdjogSGFzaFNldDxDaXJjdWxhckxpc3Q8VmVydGV4Pj4sIHF1ZXVlOiBQcmlvcml0eVF1ZXVlPFNrZWxldG9uRXZlbnQ+LCBlZGdlczogTGlzdDxFZGdlPikge1xyXG5cdFx0Zm9yIChjb25zdCBsYXYgb2Ygc0xhdikge1xyXG5cdFx0XHRmb3IgKGNvbnN0IHZlcnRleCBvZiBsYXYuSXRlcmF0ZSgpKVxyXG5cdFx0XHRcdHRoaXMuQ29tcHV0ZVNwbGl0RXZlbnRzKHZlcnRleCwgZWRnZXMsIHF1ZXVlLCAtMSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChjb25zdCBsYXYgb2Ygc0xhdikge1xyXG5cdFx0XHRmb3IgKGNvbnN0IHZlcnRleCBvZiBsYXYuSXRlcmF0ZSgpKSB7XHJcblx0XHRcdFx0Y29uc3QgbmV4dFZlcnRleCA9IHZlcnRleC5OZXh0IGFzIFZlcnRleDtcclxuXHRcdFx0XHR0aGlzLkNvbXB1dGVFZGdlRXZlbnRzKHZlcnRleCwgbmV4dFZlcnRleCwgcXVldWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBDb21wdXRlU3BsaXRFdmVudHModmVydGV4OiBWZXJ0ZXgsIGVkZ2VzOiBMaXN0PEVkZ2U+LCBxdWV1ZTogUHJpb3JpdHlRdWV1ZTxTa2VsZXRvbkV2ZW50PiwgZGlzdGFuY2VTcXVhcmVkOiBudW1iZXIpIHtcclxuXHRcdGNvbnN0IHNvdXJjZSA9IHZlcnRleC5Qb2ludDtcclxuXHRcdGNvbnN0IG9wcG9zaXRlRWRnZXMgPSB0aGlzLkNhbGNPcHBvc2l0ZUVkZ2VzKHZlcnRleCwgZWRnZXMpO1xyXG5cclxuXHRcdGZvciAoY29uc3Qgb3Bwb3NpdGVFZGdlIG9mIG9wcG9zaXRlRWRnZXMpIHtcclxuXHRcdFx0Y29uc3QgcG9pbnQgPSBvcHBvc2l0ZUVkZ2UuUG9pbnQ7XHJcblxyXG5cdFx0XHRpZiAoTWF0aC5hYnMoZGlzdGFuY2VTcXVhcmVkIC0gKC0xKSkgPiB0aGlzLlNwbGl0RXBzaWxvbikge1xyXG5cdFx0XHRcdGlmIChzb3VyY2UuRGlzdGFuY2VTcXVhcmVkKHBvaW50KSA+IGRpc3RhbmNlU3F1YXJlZCArIHRoaXMuU3BsaXRFcHNpbG9uKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChvcHBvc2l0ZUVkZ2UuT3Bwb3NpdGVQb2ludC5Ob3RFcXVhbHMoVmVjdG9yMmQuRW1wdHkpKSB7XHJcblx0XHRcdFx0cXVldWUuQWRkKG5ldyBWZXJ0ZXhTcGxpdEV2ZW50KHBvaW50LCBvcHBvc2l0ZUVkZ2UuRGlzdGFuY2UsIHZlcnRleCkpO1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHF1ZXVlLkFkZChuZXcgU3BsaXRFdmVudChwb2ludCwgb3Bwb3NpdGVFZGdlLkRpc3RhbmNlLCB2ZXJ0ZXgsIG9wcG9zaXRlRWRnZS5PcHBvc2l0ZUVkZ2UpKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIENvbXB1dGVFdmVudHModmVydGV4OiBWZXJ0ZXgsIHF1ZXVlOiBQcmlvcml0eVF1ZXVlPFNrZWxldG9uRXZlbnQ+LCBlZGdlczogTGlzdDxFZGdlPikge1xyXG5cdFx0Y29uc3QgZGlzdGFuY2VTcXVhcmVkID0gdGhpcy5Db21wdXRlQ2xvc2VyRWRnZUV2ZW50KHZlcnRleCwgcXVldWUpO1xyXG5cdFx0dGhpcy5Db21wdXRlU3BsaXRFdmVudHModmVydGV4LCBlZGdlcywgcXVldWUsIGRpc3RhbmNlU3F1YXJlZCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBDb21wdXRlQ2xvc2VyRWRnZUV2ZW50KHZlcnRleDogVmVydGV4LCBxdWV1ZTogUHJpb3JpdHlRdWV1ZTxTa2VsZXRvbkV2ZW50Pik6IG51bWJlciB7XHJcblx0XHRjb25zdCBuZXh0VmVydGV4ID0gdmVydGV4Lk5leHQgYXMgVmVydGV4O1xyXG5cdFx0Y29uc3QgcHJldmlvdXNWZXJ0ZXggPSB2ZXJ0ZXguUHJldmlvdXMgYXMgVmVydGV4O1xyXG5cclxuXHRcdGNvbnN0IHBvaW50ID0gdmVydGV4LlBvaW50O1xyXG5cclxuXHRcdGNvbnN0IHBvaW50MSA9IHRoaXMuQ29tcHV0ZUludGVyc2VjdGlvbkJpc2VjdG9ycyh2ZXJ0ZXgsIG5leHRWZXJ0ZXgpO1xyXG5cdFx0Y29uc3QgcG9pbnQyID0gdGhpcy5Db21wdXRlSW50ZXJzZWN0aW9uQmlzZWN0b3JzKHByZXZpb3VzVmVydGV4LCB2ZXJ0ZXgpO1xyXG5cclxuXHRcdGlmIChwb2ludDEuRXF1YWxzKFZlY3RvcjJkLkVtcHR5KSAmJiBwb2ludDIuRXF1YWxzKFZlY3RvcjJkLkVtcHR5KSlcclxuXHRcdFx0cmV0dXJuIC0xO1xyXG5cclxuXHRcdGxldCBkaXN0YW5jZTEgPSBOdW1iZXIuTUFYX1ZBTFVFO1xyXG5cdFx0bGV0IGRpc3RhbmNlMiA9IE51bWJlci5NQVhfVkFMVUU7XHJcblxyXG5cdFx0aWYgKHBvaW50MS5Ob3RFcXVhbHMoVmVjdG9yMmQuRW1wdHkpKVxyXG5cdFx0XHRkaXN0YW5jZTEgPSBwb2ludC5EaXN0YW5jZVNxdWFyZWQocG9pbnQxKTtcclxuXHRcdGlmIChwb2ludDIuTm90RXF1YWxzKFZlY3RvcjJkLkVtcHR5KSlcclxuXHRcdFx0ZGlzdGFuY2UyID0gcG9pbnQuRGlzdGFuY2VTcXVhcmVkKHBvaW50Mik7XHJcblxyXG5cdFx0aWYgKE1hdGguYWJzKGRpc3RhbmNlMSAtIHRoaXMuU3BsaXRFcHNpbG9uKSA8IGRpc3RhbmNlMilcclxuXHRcdFx0cXVldWUuQWRkKHRoaXMuQ3JlYXRlRWRnZUV2ZW50KHBvaW50MSwgdmVydGV4LCBuZXh0VmVydGV4KSk7XHJcblx0XHRpZiAoTWF0aC5hYnMoZGlzdGFuY2UyIC0gdGhpcy5TcGxpdEVwc2lsb24pIDwgZGlzdGFuY2UxKVxyXG5cdFx0XHRxdWV1ZS5BZGQodGhpcy5DcmVhdGVFZGdlRXZlbnQocG9pbnQyLCBwcmV2aW91c1ZlcnRleCwgdmVydGV4KSk7XHJcblxyXG5cdFx0cmV0dXJuIGRpc3RhbmNlMSA8IGRpc3RhbmNlMiA/IGRpc3RhbmNlMSA6IGRpc3RhbmNlMjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIENyZWF0ZUVkZ2VFdmVudChwb2ludDogVmVjdG9yMmQsIHByZXZpb3VzVmVydGV4OiBWZXJ0ZXgsIG5leHRWZXJ0ZXg6IFZlcnRleCk6IFNrZWxldG9uRXZlbnQge1xyXG5cdFx0cmV0dXJuIG5ldyBFZGdlRXZlbnQocG9pbnQsIHRoaXMuQ2FsY0Rpc3RhbmNlKHBvaW50LCBwcmV2aW91c1ZlcnRleC5OZXh0RWRnZSksIHByZXZpb3VzVmVydGV4LCBuZXh0VmVydGV4KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIENvbXB1dGVFZGdlRXZlbnRzKHByZXZpb3VzVmVydGV4OiBWZXJ0ZXgsIG5leHRWZXJ0ZXg6IFZlcnRleCwgcXVldWU6IFByaW9yaXR5UXVldWU8U2tlbGV0b25FdmVudD4pIHtcclxuXHRcdGNvbnN0IHBvaW50ID0gdGhpcy5Db21wdXRlSW50ZXJzZWN0aW9uQmlzZWN0b3JzKHByZXZpb3VzVmVydGV4LCBuZXh0VmVydGV4KTtcclxuXHRcdGlmIChwb2ludC5Ob3RFcXVhbHMoVmVjdG9yMmQuRW1wdHkpKVxyXG5cdFx0XHRxdWV1ZS5BZGQodGhpcy5DcmVhdGVFZGdlRXZlbnQocG9pbnQsIHByZXZpb3VzVmVydGV4LCBuZXh0VmVydGV4KSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBDYWxjT3Bwb3NpdGVFZGdlcyh2ZXJ0ZXg6IFZlcnRleCwgZWRnZXM6IExpc3Q8RWRnZT4pOiBMaXN0PFNwbGl0Q2FuZGlkYXRlPiB7XHJcblx0XHRjb25zdCByZXQgPSBuZXcgTGlzdDxTcGxpdENhbmRpZGF0ZT4oKTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGVkZ2VFbnRyeSBvZiBlZGdlcykge1xyXG5cdFx0XHRjb25zdCBlZGdlID0gZWRnZUVudHJ5LkxpbmVMaW5lYXIyZDtcclxuXHJcblx0XHRcdGlmICh0aGlzLkVkZ2VCZWhpbmRCaXNlY3Rvcih2ZXJ0ZXguQmlzZWN0b3IsIGVkZ2UpKVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0Y29uc3QgY2FuZGlkYXRlUG9pbnQgPSB0aGlzLkNhbGNDYW5kaWRhdGVQb2ludEZvclNwbGl0KHZlcnRleCwgZWRnZUVudHJ5KTtcclxuXHRcdFx0aWYgKGNhbmRpZGF0ZVBvaW50ICE9PSBudWxsKVxyXG5cdFx0XHRcdHJldC5BZGQoY2FuZGlkYXRlUG9pbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldC5Tb3J0KG5ldyBTcGxpdENhbmRpZGF0ZUNvbXBhcmVyKCkpO1xyXG5cdFx0cmV0dXJuIHJldDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIEVkZ2VCZWhpbmRCaXNlY3RvcihiaXNlY3RvcjogTGluZVBhcmFtZXRyaWMyZCwgZWRnZTogTGluZUxpbmVhcjJkKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gTGluZVBhcmFtZXRyaWMyZC5Db2xsaWRlKGJpc2VjdG9yLCBlZGdlLCB0aGlzLlNwbGl0RXBzaWxvbikuRXF1YWxzKFZlY3RvcjJkLkVtcHR5KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIENhbGNDYW5kaWRhdGVQb2ludEZvclNwbGl0KHZlcnRleDogVmVydGV4LCBlZGdlOiBFZGdlKTogU3BsaXRDYW5kaWRhdGUge1xyXG5cdFx0Y29uc3QgdmVydGV4RWRnZSA9IHRoaXMuQ2hvc2VMZXNzUGFyYWxsZWxWZXJ0ZXhFZGdlKHZlcnRleCwgZWRnZSk7XHJcblx0XHRpZiAodmVydGV4RWRnZSA9PT0gbnVsbClcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblxyXG5cdFx0Y29uc3QgdmVydGV4RWR0ZU5vcm1OZWdhdGUgPSB2ZXJ0ZXhFZGdlLk5vcm07XHJcblx0XHRjb25zdCBlZGdlc0Jpc2VjdG9yID0gdGhpcy5DYWxjVmVjdG9yQmlzZWN0b3IodmVydGV4RWR0ZU5vcm1OZWdhdGUsIGVkZ2UuTm9ybSk7XHJcblx0XHRjb25zdCBlZGdlc0NvbGxpZGUgPSB2ZXJ0ZXhFZGdlLkxpbmVMaW5lYXIyZC5Db2xsaWRlKGVkZ2UuTGluZUxpbmVhcjJkKTtcclxuXHJcblx0XHRpZiAoZWRnZXNDb2xsaWRlLkVxdWFscyhWZWN0b3IyZC5FbXB0eSkpXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVwcyB0aGlzIHNob3VsZCBub3QgaGFwcGVuXCIpO1xyXG5cclxuXHRcdGNvbnN0IGVkZ2VzQmlzZWN0b3JMaW5lID0gbmV3IExpbmVQYXJhbWV0cmljMmQoZWRnZXNDb2xsaWRlLCBlZGdlc0Jpc2VjdG9yKS5DcmVhdGVMaW5lYXJGb3JtKCk7XHJcblxyXG5cdFx0Y29uc3QgY2FuZGlkYXRlUG9pbnQgPSBMaW5lUGFyYW1ldHJpYzJkLkNvbGxpZGUodmVydGV4LkJpc2VjdG9yLCBlZGdlc0Jpc2VjdG9yTGluZSwgdGhpcy5TcGxpdEVwc2lsb24pO1xyXG5cclxuXHRcdGlmIChjYW5kaWRhdGVQb2ludC5FcXVhbHMoVmVjdG9yMmQuRW1wdHkpKVxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHJcblx0XHRpZiAoZWRnZS5CaXNlY3RvclByZXZpb3VzLklzT25SaWdodFNpdGUoY2FuZGlkYXRlUG9pbnQsIHRoaXMuU3BsaXRFcHNpbG9uKVxyXG5cdFx0XHQmJiBlZGdlLkJpc2VjdG9yTmV4dC5Jc09uTGVmdFNpdGUoY2FuZGlkYXRlUG9pbnQsIHRoaXMuU3BsaXRFcHNpbG9uKSkge1xyXG5cdFx0XHRjb25zdCBkaXN0YW5jZSA9IHRoaXMuQ2FsY0Rpc3RhbmNlKGNhbmRpZGF0ZVBvaW50LCBlZGdlKTtcclxuXHJcblx0XHRcdGlmIChlZGdlLkJpc2VjdG9yUHJldmlvdXMuSXNPbkxlZnRTaXRlKGNhbmRpZGF0ZVBvaW50LCB0aGlzLlNwbGl0RXBzaWxvbikpXHJcblx0XHRcdFx0cmV0dXJuIG5ldyBTcGxpdENhbmRpZGF0ZShjYW5kaWRhdGVQb2ludCwgZGlzdGFuY2UsIG51bGwsIGVkZ2UuQmVnaW4pO1xyXG5cdFx0XHRpZiAoZWRnZS5CaXNlY3Rvck5leHQuSXNPblJpZ2h0U2l0ZShjYW5kaWRhdGVQb2ludCwgdGhpcy5TcGxpdEVwc2lsb24pKVxyXG5cdFx0XHRcdHJldHVybiBuZXcgU3BsaXRDYW5kaWRhdGUoY2FuZGlkYXRlUG9pbnQsIGRpc3RhbmNlLCBudWxsLCBlZGdlLkJlZ2luKTtcclxuXHJcblx0XHRcdHJldHVybiBuZXcgU3BsaXRDYW5kaWRhdGUoY2FuZGlkYXRlUG9pbnQsIGRpc3RhbmNlLCBlZGdlLCBWZWN0b3IyZC5FbXB0eSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBDaG9zZUxlc3NQYXJhbGxlbFZlcnRleEVkZ2UodmVydGV4OiBWZXJ0ZXgsIGVkZ2U6IEVkZ2UpOiBFZGdlIHtcclxuXHRcdGNvbnN0IGVkZ2VBID0gdmVydGV4LlByZXZpb3VzRWRnZTtcclxuXHRcdGNvbnN0IGVkZ2VCID0gdmVydGV4Lk5leHRFZGdlO1xyXG5cclxuXHRcdGxldCB2ZXJ0ZXhFZGdlID0gZWRnZUE7XHJcblxyXG5cdFx0Y29uc3QgZWRnZUFEb3QgPSBNYXRoLmFicyhlZGdlLk5vcm0uRG90KGVkZ2VBLk5vcm0pKTtcclxuXHRcdGNvbnN0IGVkZ2VCRG90ID0gTWF0aC5hYnMoZWRnZS5Ob3JtLkRvdChlZGdlQi5Ob3JtKSk7XHJcblxyXG5cdFx0aWYgKGVkZ2VBRG90ICsgZWRnZUJEb3QgPj0gMiAtIHRoaXMuU3BsaXRFcHNpbG9uKVxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHJcblx0XHRpZiAoZWRnZUFEb3QgPiBlZGdlQkRvdClcclxuXHRcdFx0dmVydGV4RWRnZSA9IGVkZ2VCO1xyXG5cclxuXHRcdHJldHVybiB2ZXJ0ZXhFZGdlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgQ29tcHV0ZUludGVyc2VjdGlvbkJpc2VjdG9ycyh2ZXJ0ZXhQcmV2aW91czogVmVydGV4LCB2ZXJ0ZXhOZXh0OiBWZXJ0ZXgpOiBWZWN0b3IyZCB7XHJcblx0XHRjb25zdCBiaXNlY3RvclByZXZpb3VzID0gdmVydGV4UHJldmlvdXMuQmlzZWN0b3I7XHJcblx0XHRjb25zdCBiaXNlY3Rvck5leHQgPSB2ZXJ0ZXhOZXh0LkJpc2VjdG9yO1xyXG5cclxuXHRcdGNvbnN0IGludGVyc2VjdFJheXMyZCA9IFByaW1pdGl2ZVV0aWxzLkludGVyc2VjdFJheXMyRChiaXNlY3RvclByZXZpb3VzLCBiaXNlY3Rvck5leHQpO1xyXG5cdFx0Y29uc3QgaW50ZXJzZWN0ID0gaW50ZXJzZWN0UmF5czJkLkludGVyc2VjdDtcclxuXHJcblx0XHRpZiAodmVydGV4UHJldmlvdXMuUG9pbnQuRXF1YWxzKGludGVyc2VjdCkgfHwgdmVydGV4TmV4dC5Qb2ludC5FcXVhbHMoaW50ZXJzZWN0KSlcclxuXHRcdFx0cmV0dXJuIFZlY3RvcjJkLkVtcHR5O1xyXG5cclxuXHRcdHJldHVybiBpbnRlcnNlY3Q7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBGaW5kT3Bwb3NpdGVFZGdlTGF2KHNMYXY6IEhhc2hTZXQ8Q2lyY3VsYXJMaXN0PFZlcnRleD4+LCBvcHBvc2l0ZUVkZ2U6IEVkZ2UsIGNlbnRlcjogVmVjdG9yMmQpOiBWZXJ0ZXgge1xyXG5cdFx0Y29uc3QgZWRnZUxhdnMgPSB0aGlzLkZpbmRFZGdlTGF2cyhzTGF2LCBvcHBvc2l0ZUVkZ2UsIG51bGwpO1xyXG5cdFx0cmV0dXJuIHRoaXMuQ2hvb3NlT3Bwb3NpdGVFZGdlTGF2KGVkZ2VMYXZzLCBvcHBvc2l0ZUVkZ2UsIGNlbnRlcik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBDaG9vc2VPcHBvc2l0ZUVkZ2VMYXYoZWRnZUxhdnM6IExpc3Q8VmVydGV4Piwgb3Bwb3NpdGVFZGdlOiBFZGdlLCBjZW50ZXI6IFZlY3RvcjJkKTogVmVydGV4IHtcclxuXHRcdGlmICghZWRnZUxhdnMuQW55KCkpXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cclxuXHRcdGlmIChlZGdlTGF2cy5Db3VudCA9PT0gMSlcclxuXHRcdFx0cmV0dXJuIGVkZ2VMYXZzWzBdO1xyXG5cclxuXHRcdGNvbnN0IGVkZ2VTdGFydCA9IG9wcG9zaXRlRWRnZS5CZWdpbjtcclxuXHRcdGNvbnN0IGVkZ2VOb3JtID0gb3Bwb3NpdGVFZGdlLk5vcm07XHJcblx0XHRjb25zdCBjZW50ZXJWZWN0b3IgPSBjZW50ZXIuU3ViKGVkZ2VTdGFydCk7XHJcblx0XHRjb25zdCBjZW50ZXJEb3QgPSBlZGdlTm9ybS5Eb3QoY2VudGVyVmVjdG9yKTtcclxuXHRcdGZvciAoY29uc3QgZW5kIG9mIGVkZ2VMYXZzKSB7XHJcblx0XHRcdGNvbnN0IGJlZ2luID0gZW5kLlByZXZpb3VzIGFzIFZlcnRleDtcclxuXHJcblx0XHRcdGNvbnN0IGJlZ2luVmVjdG9yID0gYmVnaW4uUG9pbnQuU3ViKGVkZ2VTdGFydCk7XHJcblx0XHRcdGNvbnN0IGVuZFZlY3RvciA9IGVuZC5Qb2ludC5TdWIoZWRnZVN0YXJ0KTtcclxuXHJcblx0XHRcdGNvbnN0IGJlZ2luRG90ID0gZWRnZU5vcm0uRG90KGJlZ2luVmVjdG9yKTtcclxuXHRcdFx0Y29uc3QgZW5kRG90ID0gZWRnZU5vcm0uRG90KGVuZFZlY3Rvcik7XHJcblxyXG5cdFx0XHRpZiAoYmVnaW5Eb3QgPCBjZW50ZXJEb3QgJiYgY2VudGVyRG90IDwgZW5kRG90IHx8XHJcblx0XHRcdFx0YmVnaW5Eb3QgPiBjZW50ZXJEb3QgJiYgY2VudGVyRG90ID4gZW5kRG90KVxyXG5cdFx0XHRcdHJldHVybiBlbmQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChjb25zdCBlbmQgb2YgZWRnZUxhdnMpIHtcclxuXHRcdFx0Y29uc3Qgc2l6ZSA9IGVuZC5MaXN0LlNpemU7XHJcblx0XHRcdGNvbnN0IHBvaW50cyA9IG5ldyBMaXN0PFZlY3RvcjJkPihzaXplKTtcclxuXHRcdFx0bGV0IG5leHQgPSBlbmQ7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XHJcblx0XHRcdFx0cG9pbnRzLkFkZChuZXh0LlBvaW50KTtcclxuXHRcdFx0XHRuZXh0ID0gbmV4dC5OZXh0IGFzIFZlcnRleDtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoUHJpbWl0aXZlVXRpbHMuSXNQb2ludEluc2lkZVBvbHlnb24oY2VudGVyLCBwb2ludHMpKVxyXG5cdFx0XHRcdHJldHVybiBlbmQ7XHJcblx0XHR9XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBsYXYgZm9yIG9wcG9zaXRlIGVkZ2UsIGl0IGNvdWxkIGJlIGNvcnJlY3QgYnV0IG5lZWQgc29tZSB0ZXN0IGRhdGEgdG8gY2hlY2suXCIpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgRmluZEVkZ2VMYXZzKHNMYXY6IEhhc2hTZXQ8Q2lyY3VsYXJMaXN0PFZlcnRleD4+LCBvcHBvc2l0ZUVkZ2U6IEVkZ2UsIHNraXBwZWRMYXY6IENpcmN1bGFyTGlzdDxWZXJ0ZXg+KTogTGlzdDxWZXJ0ZXg+IHtcclxuXHRcdGNvbnN0IGVkZ2VMYXZzID0gbmV3IExpc3Q8VmVydGV4PigpO1xyXG5cdFx0Zm9yIChjb25zdCBsYXYgb2Ygc0xhdikge1xyXG5cdFx0XHRpZiAobGF2ID09PSBza2lwcGVkTGF2KVxyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0Y29uc3QgdmVydGV4SW5MYXYgPSB0aGlzLkdldEVkZ2VJbkxhdihsYXYsIG9wcG9zaXRlRWRnZSk7XHJcblx0XHRcdGlmICh2ZXJ0ZXhJbkxhdiAhPT0gbnVsbClcclxuXHRcdFx0XHRlZGdlTGF2cy5BZGQodmVydGV4SW5MYXYpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGVkZ2VMYXZzO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgR2V0RWRnZUluTGF2KGxhdjogQ2lyY3VsYXJMaXN0PFZlcnRleD4sIG9wcG9zaXRlRWRnZTogRWRnZSk6IFZlcnRleCB7XHJcblx0XHRmb3IgKGNvbnN0IG5vZGUgb2YgbGF2Lkl0ZXJhdGUoKSlcclxuXHRcdFx0aWYgKG9wcG9zaXRlRWRnZSA9PT0gbm9kZS5QcmV2aW91c0VkZ2UgfHxcclxuXHRcdFx0XHRvcHBvc2l0ZUVkZ2UgPT09IG5vZGUuUHJldmlvdXMuTmV4dClcclxuXHRcdFx0XHRyZXR1cm4gbm9kZTtcclxuXHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIEFkZEZhY2VCYWNrKG5ld1ZlcnRleDogVmVydGV4LCB2YTogVmVydGV4LCB2YjogVmVydGV4KSB7XHJcblx0XHRjb25zdCBmbiA9IG5ldyBGYWNlTm9kZShuZXdWZXJ0ZXgpO1xyXG5cdFx0dmEuUmlnaHRGYWNlLkFkZFB1c2goZm4pO1xyXG5cdFx0RmFjZVF1ZXVlVXRpbC5Db25uZWN0UXVldWVzKGZuLCB2Yi5MZWZ0RmFjZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBBZGRGYWNlUmlnaHQobmV3VmVydGV4OiBWZXJ0ZXgsIHZiOiBWZXJ0ZXgpIHtcclxuXHRcdGNvbnN0IGZuID0gbmV3IEZhY2VOb2RlKG5ld1ZlcnRleCk7XHJcblx0XHR2Yi5SaWdodEZhY2UuQWRkUHVzaChmbik7XHJcblx0XHRuZXdWZXJ0ZXguUmlnaHRGYWNlID0gZm47XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBBZGRGYWNlTGVmdChuZXdWZXJ0ZXg6IFZlcnRleCwgdmE6IFZlcnRleCkge1xyXG5cdFx0Y29uc3QgZm4gPSBuZXcgRmFjZU5vZGUobmV3VmVydGV4KTtcclxuXHRcdHZhLkxlZnRGYWNlLkFkZFB1c2goZm4pO1xyXG5cdFx0bmV3VmVydGV4LkxlZnRGYWNlID0gZm47XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBDYWxjRGlzdGFuY2UoaW50ZXJzZWN0OiBWZWN0b3IyZCwgY3VycmVudEVkZ2U6IEVkZ2UpOiBudW1iZXIge1xyXG5cdFx0Y29uc3QgZWRnZSA9IGN1cnJlbnRFZGdlLkVuZC5TdWIoY3VycmVudEVkZ2UuQmVnaW4pO1xyXG5cdFx0Y29uc3QgdmVjdG9yID0gaW50ZXJzZWN0LlN1YihjdXJyZW50RWRnZS5CZWdpbik7XHJcblxyXG5cdFx0Y29uc3QgcG9pbnRPblZlY3RvciA9IFByaW1pdGl2ZVV0aWxzLk9ydGhvZ29uYWxQcm9qZWN0aW9uKGVkZ2UsIHZlY3Rvcik7XHJcblx0XHRyZXR1cm4gdmVjdG9yLkRpc3RhbmNlVG8ocG9pbnRPblZlY3Rvcik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBDYWxjQmlzZWN0b3IocDogVmVjdG9yMmQsIGUxOiBFZGdlLCBlMjogRWRnZSk6IExpbmVQYXJhbWV0cmljMmQge1xyXG5cdFx0Y29uc3Qgbm9ybTEgPSBlMS5Ob3JtO1xyXG5cdFx0Y29uc3Qgbm9ybTIgPSBlMi5Ob3JtO1xyXG5cclxuXHRcdGNvbnN0IGJpc2VjdG9yID0gdGhpcy5DYWxjVmVjdG9yQmlzZWN0b3Iobm9ybTEsIG5vcm0yKTtcclxuXHRcdHJldHVybiBuZXcgTGluZVBhcmFtZXRyaWMyZChwLCBiaXNlY3Rvcik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBDYWxjVmVjdG9yQmlzZWN0b3Iobm9ybTE6IFZlY3RvcjJkLCBub3JtMjogVmVjdG9yMmQpOiBWZWN0b3IyZCB7XHJcblx0XHRyZXR1cm4gUHJpbWl0aXZlVXRpbHMuQmlzZWN0b3JOb3JtYWxpemVkKG5vcm0xLCBub3JtMik7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBTa2VsZXRvbkV2ZW50RGlzdGFuc2VDb21wYXJlciBpbXBsZW1lbnRzIElDb21wYXJlcjxTa2VsZXRvbkV2ZW50PiB7XHJcblx0cHVibGljIENvbXBhcmUobGVmdDogU2tlbGV0b25FdmVudCwgcmlnaHQ6IFNrZWxldG9uRXZlbnQpOiBudW1iZXIge1xyXG5cdFx0aWYgKGxlZnQuRGlzdGFuY2UgPiByaWdodC5EaXN0YW5jZSlcclxuXHRcdFx0cmV0dXJuIDE7XHJcblx0XHRpZiAobGVmdC5EaXN0YW5jZSA8IHJpZ2h0LkRpc3RhbmNlKVxyXG5cdFx0XHRyZXR1cm4gLTE7XHJcblxyXG5cdFx0cmV0dXJuIDA7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBDaGFpbkNvbXBhcmVyIGltcGxlbWVudHMgSUNvbXBhcmVyPElDaGFpbj4ge1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgX2NlbnRlcjogVmVjdG9yMmQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGNlbnRlcjogVmVjdG9yMmQpIHtcclxuXHRcdHRoaXMuX2NlbnRlciA9IGNlbnRlcjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBDb21wYXJlKHg6IElDaGFpbiwgeTogSUNoYWluKTogbnVtYmVyIHtcclxuXHRcdGlmICh4ID09PSB5KVxyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHJcblx0XHRjb25zdCBhbmdsZTEgPSBDaGFpbkNvbXBhcmVyLkFuZ2xlKHRoaXMuX2NlbnRlciwgeC5QcmV2aW91c0VkZ2UuQmVnaW4pO1xyXG5cdFx0Y29uc3QgYW5nbGUyID0gQ2hhaW5Db21wYXJlci5BbmdsZSh0aGlzLl9jZW50ZXIsIHkuUHJldmlvdXNFZGdlLkJlZ2luKTtcclxuXHJcblx0XHRyZXR1cm4gYW5nbGUxID4gYW5nbGUyID8gMSA6IC0xO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgQW5nbGUocDA6IFZlY3RvcjJkLCBwMTogVmVjdG9yMmQpOiBudW1iZXIge1xyXG5cdFx0Y29uc3QgZHggPSBwMS5YIC0gcDAuWDtcclxuXHRcdGNvbnN0IGR5ID0gcDEuWSAtIHAwLlk7XHJcblx0XHRyZXR1cm4gTWF0aC5hdGFuMihkeSwgZHgpO1xyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgU3BsaXRDYW5kaWRhdGVDb21wYXJlciBpbXBsZW1lbnRzIElDb21wYXJlcjxTcGxpdENhbmRpZGF0ZT4ge1xyXG5cdHB1YmxpYyBDb21wYXJlKGxlZnQ6IFNwbGl0Q2FuZGlkYXRlLCByaWdodDogU3BsaXRDYW5kaWRhdGUpOiBudW1iZXIge1xyXG5cdFx0aWYgKGxlZnQuRGlzdGFuY2UgPiByaWdodC5EaXN0YW5jZSlcclxuXHRcdFx0cmV0dXJuIDE7XHJcblx0XHRpZiAobGVmdC5EaXN0YW5jZSA8IHJpZ2h0LkRpc3RhbmNlKVxyXG5cdFx0XHRyZXR1cm4gLTE7XHJcblxyXG5cdFx0cmV0dXJuIDA7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBTcGxpdENhbmRpZGF0ZSB7XHJcblx0cHVibGljIHJlYWRvbmx5IERpc3RhbmNlOiBudW1iZXI7XHJcblx0cHVibGljIHJlYWRvbmx5IE9wcG9zaXRlRWRnZTogRWRnZSA9IG51bGw7XHJcblx0cHVibGljIHJlYWRvbmx5IE9wcG9zaXRlUG9pbnQ6IFZlY3RvcjJkID0gbnVsbDtcclxuXHRwdWJsaWMgcmVhZG9ubHkgUG9pbnQ6IFZlY3RvcjJkID0gbnVsbDtcclxuXHJcblx0Y29uc3RydWN0b3IocG9pbnQ6IFZlY3RvcjJkLCBkaXN0YW5jZTogbnVtYmVyLCBvcHBvc2l0ZUVkZ2U6IEVkZ2UsIG9wcG9zaXRlUG9pbnQ6IFZlY3RvcjJkKSB7XHJcblx0XHR0aGlzLlBvaW50ID0gcG9pbnQ7XHJcblx0XHR0aGlzLkRpc3RhbmNlID0gZGlzdGFuY2U7XHJcblx0XHR0aGlzLk9wcG9zaXRlRWRnZSA9IG9wcG9zaXRlRWRnZTtcclxuXHRcdHRoaXMuT3Bwb3NpdGVQb2ludCA9IG9wcG9zaXRlUG9pbnQ7XHJcblx0fVxyXG59XHJcblxyXG4iLCJpbXBvcnQgU2tlbGV0b25CdWlsZGVyIGZyb20gXCIuLi9saWIvU2tlbGV0b25CdWlsZGVyXCI7XHJcbmltcG9ydCBFZGdlUmVzdWx0IGZyb20gXCIuLi9saWIvRWRnZVJlc3VsdFwiO1xyXG5cclxuY29uc3QgY2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcclxuY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG5jYW52YXMud2lkdGggPSA4MDA7XHJcbmNhbnZhcy5oZWlnaHQgPSA4MDA7XHJcblxyXG5jb25zdCBwb2ludHM6IFtudW1iZXIsIG51bWJlcl1bXSA9IFtcclxuXHRbMTQzLCAyMjVdLFxyXG5cdFsyNDksIDIyMF0sXHJcblx0WzI0NywgMTAxXSxcclxuXHRbMzY0LCAxMDBdLFxyXG5cdFszNTcsIDIxOV0sXHJcblx0WzY3MCwgMjE5XSxcclxuXHRbNjY4LCA2MThdLFxyXG5cdFs0MjYsIDYxNV0sXHJcblx0WzQzMSwgNDA3XSxcclxuXHRbMTQwLCA0MTNdXHJcbl07XHJcbmNvbnN0IGhvbGVzOiBbbnVtYmVyLCBudW1iZXJdW11bXSA9IFtbXV07XHJcbmxldCBhY3RpdmVIb2xlSWQgPSAwO1xyXG5sZXQgaG9sZU1vZGUgPSBmYWxzZTtcclxuXHJcbmN0eC50cmFuc2xhdGUoMC41LCAwLjUpO1xyXG5cclxuY29uc3QgZHJhd0NpcmNsZSA9ICh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIpID0+IHtcclxuXHRjdHguYmVnaW5QYXRoKCk7XHJcblx0Y3R4LmFyYyh4LCB5LCByYWRpdXMsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XHJcblx0Y3R4LmZpbGwoKTtcclxufVxyXG5cclxuY29uc3QgZHJhd0VkZ2VSZXN1bHQgPSAocmVzOiBFZGdlUmVzdWx0KSA9PiB7XHJcblx0Y3R4Lmdsb2JhbEFscGhhID0gMC4zO1xyXG5cdGN0eC5iZWdpblBhdGgoKTtcclxuXHRjdHguZmlsbFN0eWxlID0gJyNkMGQnO1xyXG5cclxuXHRjdHgubW92ZVRvKHJlcy5Qb2x5Z29uWzBdLlgsIHJlcy5Qb2x5Z29uWzBdLlkpO1xyXG5cclxuXHRmb3IgKGNvbnN0IHYgb2YgcmVzLlBvbHlnb24pIHtcclxuXHRcdGN0eC5saW5lVG8odi5YLCB2LlkpO1xyXG5cdH1cclxuXHJcblx0Y3R4LmNsb3NlUGF0aCgpO1xyXG5cdGN0eC5maWxsKCk7XHJcblxyXG5cdGN0eC5nbG9iYWxBbHBoYSA9IDE7XHJcblxyXG5cdGN0eC5iZWdpblBhdGgoKTtcclxuXHRjdHguc3Ryb2tlU3R5bGUgPSAnIzExMSc7XHJcblx0Y3R4LmxpbmVXaWR0aCA9IDE7XHJcblxyXG5cdGN0eC5tb3ZlVG8ocmVzLlBvbHlnb25bMF0uWCwgcmVzLlBvbHlnb25bMF0uWSk7XHJcblxyXG5cdGZvciAoY29uc3QgdiBvZiByZXMuUG9seWdvbikge1xyXG5cdFx0Y3R4LmxpbmVUbyh2LlgsIHYuWSk7XHJcblx0fVxyXG5cclxuXHRjdHguY2xvc2VQYXRoKCk7XHJcblx0Y3R4LnN0cm9rZSgpO1xyXG59XHJcblxyXG5jb25zdCBkcmF3UG9pbnRzQW5kSG9sZXMgPSAoKSA9PiB7XHJcblx0Y3R4LmZpbGxTdHlsZSA9ICcjMzMzJztcclxuXHJcblx0Zm9yIChjb25zdCBwb2ludCBvZiBwb2ludHMpIHtcclxuXHRcdGRyYXdDaXJjbGUocG9pbnRbMF0gKyAwLjUsIHBvaW50WzFdICsgMC41LCAyKTtcclxuXHR9XHJcblxyXG5cdGZvciAoY29uc3QgaG9sZSBvZiBob2xlcykge1xyXG5cdFx0Zm9yIChjb25zdCBwb2ludCBvZiBob2xlKSB7XHJcblx0XHRcdGRyYXdDaXJjbGUocG9pbnRbMF0gKyAwLjUsIHBvaW50WzFdICsgMC41LCAyKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHJlYnVpbGRTa2VsZXRvbiA9ICgpID0+IHtcclxuXHRjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcblxyXG5cdGlmIChwb2ludHMubGVuZ3RoID4gMikge1xyXG5cdFx0bGV0IHNrZWxldG9uO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHNrZWxldG9uID0gU2tlbGV0b25CdWlsZGVyLkJ1aWxkRnJvbUdlb0pTT04oW1tcclxuXHRcdFx0XHRwb2ludHMsXHJcblx0XHRcdFx0Li4uKGhvbGVzLmZpbHRlcihob2xlID0+IGhvbGUubGVuZ3RoID4gMikpXHJcblx0XHRcdF1dKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihlKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoc2tlbGV0b24pIHtcclxuXHRcdFx0Zm9yIChjb25zdCBlZGdlUmVzIG9mIHNrZWxldG9uLkVkZ2VzKSB7XHJcblx0XHRcdFx0ZHJhd0VkZ2VSZXN1bHQoZWRnZVJlcyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGRyYXdQb2ludHNBbmRIb2xlcygpO1xyXG59O1xyXG5cclxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgZSA9PiB7XHJcblx0Y29uc3QgeCA9IGUub2Zmc2V0WCAqIGNhbnZhcy53aWR0aCAvIGNhbnZhcy5jbGllbnRXaWR0aDtcclxuXHRjb25zdCB5ID0gZS5vZmZzZXRZICogY2FudmFzLmhlaWdodCAvIGNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcblxyXG5cdGlmICghaG9sZU1vZGUpIHtcclxuXHRcdHBvaW50cy5wdXNoKFt4LCB5XSk7XHJcblxyXG5cdFx0Y29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocG9pbnRzLCBudWxsLCAnXFx0JykpXHJcblx0fSBlbHNlIHtcclxuXHRcdGNvbnN0IGN1cnJlbnRIb2xlID0gaG9sZXNbYWN0aXZlSG9sZUlkXTtcclxuXHJcblx0XHRpZiAoY3VycmVudEhvbGUubGVuZ3RoID4gMiAmJiBNYXRoLmh5cG90KGN1cnJlbnRIb2xlWzBdWzBdIC0geCwgY3VycmVudEhvbGVbMF1bMV0gLSB5KSA8IDUpIHtcclxuXHRcdFx0YWN0aXZlSG9sZUlkKys7XHJcblx0XHRcdGhvbGVzW2FjdGl2ZUhvbGVJZF0gPSBbXTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGhvbGVzW2FjdGl2ZUhvbGVJZF0ucHVzaChbeCwgeV0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmVidWlsZFNrZWxldG9uKCk7XHJcbn0pO1xyXG5cclxuY29uc3QgYnV0dG9uSW5uZXI6IEhUTUxCdXR0b25FbGVtZW50ID0gPEhUTUxCdXR0b25FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXR0b24taW5uZXInKTtcclxuY29uc3QgYnV0dG9uT3V0ZXI6IEhUTUxCdXR0b25FbGVtZW50ID0gPEhUTUxCdXR0b25FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXR0b24tb3V0ZXInKTtcclxuY29uc3QgYnV0dG9uQ2xlYXI6IEhUTUxCdXR0b25FbGVtZW50ID0gPEhUTUxCdXR0b25FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXR0b24tY2xlYXInKTtcclxuXHJcbmJ1dHRvbkNsZWFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdHBvaW50cy5sZW5ndGggPSAwO1xyXG5cdGhvbGVzLmxlbmd0aCA9IDA7XHJcblx0aG9sZXMucHVzaChbXSk7XHJcblxyXG5cdGFjdGl2ZUhvbGVJZCA9IDA7XHJcblxyXG5cdHJlYnVpbGRTa2VsZXRvbigpO1xyXG59KTtcclxuXHJcbmJ1dHRvbklubmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdGhvbGVNb2RlID0gdHJ1ZTtcclxuXHJcblx0YnV0dG9uSW5uZXIuZGlzYWJsZWQgPSB0cnVlO1xyXG5cdGJ1dHRvbk91dGVyLmRpc2FibGVkID0gZmFsc2U7XHJcbn0pO1xyXG5cclxuYnV0dG9uT3V0ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0aG9sZU1vZGUgPSBmYWxzZTtcclxuXHJcblx0YnV0dG9uSW5uZXIuZGlzYWJsZWQgPSBmYWxzZTtcclxuXHRidXR0b25PdXRlci5kaXNhYmxlZCA9IHRydWU7XHJcbn0pO1xyXG5cclxuYnV0dG9uSW5uZXIuZGlzYWJsZWQgPSBmYWxzZTtcclxuYnV0dG9uT3V0ZXIuZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxucmVidWlsZFNrZWxldG9uKCk7XHJcbiJdLCJuYW1lcyI6WyJTa2VsZXRvbiIsImNvbnN0cnVjdG9yIiwiZWRnZXMiLCJkaXN0YW5jZXMiLCJFZGdlcyIsIkRpc3RhbmNlcyIsInRoaXMiLCJMaXN0IiwiQXJyYXkiLCJjYXBhY2l0eSIsInN1cGVyIiwiQWRkIiwiaXRlbSIsInB1c2giLCJJbnNlcnQiLCJpbmRleCIsIm5ld0FyciIsImFycmF5IiwiaXRlbXMiLCJwcm90b3R5cGUiLCJzbGljZSIsImNhbGwiLCJhcmd1bWVudHMiLCJjb25jYXQiLCJpbnNlcnRJbkFycmF5IiwibGVuZ3RoIiwiaSIsIlJldmVyc2UiLCJyZXZlcnNlIiwiQ2xlYXIiLCJDb3VudCIsIkFueSIsImZpbHRlciIsIlQiLCJSZW1vdmVBdCIsInNwbGljZSIsIlJlbW92ZSIsIml0ZW1Ub1JlbW92ZSIsIkFkZFJhbmdlIiwibGlzdCIsIlNvcnQiLCJjb21wYXJlciIsInNvcnQiLCJDb21wYXJlIiwiYmluZCIsIkhhc2hTZXQiLCJTZXQiLCJhZGQiLCJkZWxldGUiLCJSZW1vdmVXaGVyZSIsInZhbHVlcyIsIkNvbnRhaW5zIiwiaGFzIiwiY2xlYXIiLCJTeW1ib2wiLCJpdGVyYXRvciIsIkRpY3Rpb25hcnkiLCJNYXAiLCJDb250YWluc0tleSIsImtleSIsInZhbHVlIiwic2V0IiwiVmVjdG9yMmQiLCJ4IiwieSIsIlgiLCJZIiwiTmVnYXRlIiwiRGlzdGFuY2VUbyIsInZhcjEiLCJ2YXIyIiwidmFyNCIsIk1hdGgiLCJzcXJ0IiwiTm9ybWFsaXplZCIsIkRvdCIsIkRpc3RhbmNlU3F1YXJlZCIsInYiLCJTdWIiLCJNdWx0aXBseVNjYWxhciIsInNjYWxlIiwiRXF1YWxzIiwiTm90RXF1YWxzIiwiVG9TdHJpbmciLCJFbXB0eSIsIk51bWJlciIsIk1JTl9WQUxVRSIsIlByaW9yaXR5UXVldWUiLCJfY29tcGFyZXIiLCJfaGVhcCIsIm4iLCJwIiwiZmxvb3IiLCJ0bXAiLCJQZWVrIiwiTmV4dCIsInZhbCIsIm5NYXgiLCJjIiwiQ2lyY3VsYXJOb2RlIiwiUHJldmlvdXMiLCJBZGROZXh0Iiwibm9kZSIsIkFkZFByZXZpb3VzIiwiTGluZUxpbmVhcjJkIiwicFAxIiwicFAyIiwiQSIsIkIiLCJDIiwiU2V0RnJvbUNvZWZmaWNpZW50cyIsImEiLCJiIiwiQ29sbGlkZSIsInBMaW5lIiwic3RhdGljIiwicExpbmUxIiwicExpbmUyIiwiQ29sbGlkZUNvZWZmIiwiQTEiLCJCMSIsIkMxIiwiQTIiLCJCMiIsIkMyIiwiV0FCIiwiV0JDIiwiV0NBIiwicG9pbnQiLCJhYnMiLCJFUFNJTE9OIiwiRWRnZSIsImJlZ2luIiwiZW5kIiwiQmlzZWN0b3JOZXh0IiwiQmlzZWN0b3JQcmV2aW91cyIsIkJlZ2luIiwiRW5kIiwiTm9ybSIsIlZlcnRleCIsImRpc3RhbmNlIiwiYmlzZWN0b3IiLCJwcmV2aW91c0VkZ2UiLCJuZXh0RWRnZSIsIlJvdW5kRGlnaXRDb3VudCIsIlBvaW50IiwiQmlzZWN0b3IiLCJOZXh0RWRnZSIsIlByZXZpb3VzRWRnZSIsIkxlZnRGYWNlIiwiUmlnaHRGYWNlIiwiRGlzdGFuY2UiLCJ0b0ZpeGVkIiwiSXNQcm9jZXNzZWQiLCJDaXJjdWxhckxpc3QiLCJfZmlyc3QiLCJfc2l6ZSIsIm5ld05vZGUiLCJFcnJvciIsIkFkZExhc3QiLCJTaXplIiwiRmlyc3QiLCJjdXJyZW50IiwiRmFjZVF1ZXVlIiwiQWRkUHVzaCIsIkFkZEZpcnN0IiwiUG9wIiwiSXNFbmQiLCJwcmV2aW91cyIsIkZpbmRFbmQiLCJDbG9zZWQiLCJJc1VuY29ubmVjdGVkIiwiQ2xvc2UiLCJGYWNlUXVldWVVdGlsIiwiZmlyc3RGYWNlIiwic2Vjb25kRmFjZSIsIklzUXVldWVVbmNvbm5lY3RlZCIsInFSaWdodCIsIk1vdmVOb2RlcyIsInFMZWZ0IiwiUXVldWVDbG9zZSIsIkFkZFF1ZXVlIiwiTGF2VXRpbCIsInYxIiwidjIiLCJ2ZXJ0ZXgiLCJzdGFydFZlcnRleCIsImVuZFZlcnRleCIsInJldCIsInNpemUiLCJuZXh0IiwiYmFzZSIsIm1lcmdlZCIsIm5leHRNZXJnZWQiLCJuZXdMYXciLCJ2ZXIiLCJJbnRlcnNlY3RQb2ludHMiLCJpbnRlcnNlY3QiLCJpbnRlcnNlY3RFbmQiLCJJbnRlcnNlY3QiLCJJbnRlcnNlY3RFbmQiLCJQcmltaXRpdmVVdGlscyIsInVuaXRWZWN0b3IiLCJ2ZWN0b3JUb1Byb2plY3QiLCJweCIsInB5IiwiYXgiLCJheSIsIm5vcm0xIiwibm9ybTIiLCJlMXYiLCJPcnRob2dvbmFsTGVmdCIsImUydiIsInJheSIsImVwc2lsb24iLCJyYXlEaXJlY3Rpb24iLCJVIiwicG9pbnRWZWN0b3IiLCJkb3QiLCJyMSIsInIyIiwiczFwMCIsInMxcDEiLCJzMnAwIiwidSIsInciLCJkIiwiUGVycCIsIlNtYWxsTnVtIiwiZHUiLCJkdiIsIkluQ29sbGluZWFyUmF5IiwidDAiLCJ0MSIsIncyIiwidCIsIkkwIiwiSV8wIiwiSTEiLCJzSSIsIklPIiwicmF5U3RhcnQiLCJjb2xsaWRlVmVjdG9yIiwicG9seWdvbiIsIkFyZWEiLCJxIiwiSXNDbG9ja3dpc2VQb2x5Z29uIiwicG9pbnRzIiwibnVtcG9pbnRzIiwiaXQiLCJmaXJzdCIsIm9kZE5vZGVzIiwibm9kZTEiLCJub2RlMiIsIkxpbmVQYXJhbWV0cmljMmQiLCJwQSIsInBVIiwiQ3JlYXRlTGluZWFyRm9ybSIsImxpbmUiLCJjb2xsaWRlIiwiSXNPbkxlZnRTaXRlIiwiZGlyZWN0aW9uIiwiT3J0aG9nb25hbFJpZ2h0IiwiSXNPblJpZ2h0U2l0ZSIsIkZhY2VOb2RlIiwicXVldWUiLCJjdXJyZW50UXVldWUiLCJTa2VsZXRvbkV2ZW50IiwiViIsIkdldFR5cGUiLCJuYW1lIiwiTXVsdGlFZGdlRXZlbnQiLCJjaGFpbiIsIkNoYWluIiwiSXNPYnNvbGV0ZSIsIkVkZ2VFdmVudCIsInByZXZpb3VzVmVydGV4IiwibmV4dFZlcnRleCIsIlByZXZpb3VzVmVydGV4IiwiTmV4dFZlcnRleCIsIlBpY2tFdmVudCIsIk11bHRpU3BsaXRFdmVudCIsImNoYWlucyIsIkNoYWlucyIsIkNoYWluVHlwZSIsIlNpbmdsZUVkZ2VDaGFpbiIsIm9wcG9zaXRlRWRnZSIsIl9vcHBvc2l0ZUVkZ2UiLCJfbmV4dFZlcnRleCIsIl9wcmV2aW91c1ZlcnRleCIsIkN1cnJlbnRWZXJ0ZXgiLCJTcGxpdEV2ZW50IiwicGFyZW50IiwiT3Bwb3NpdGVFZGdlIiwiUGFyZW50IiwiVmVydGV4U3BsaXRFdmVudCIsIlNwbGl0Q2hhaW4iLCJldmVudCIsIl9zcGxpdEV2ZW50IiwiRWRnZUNoYWluIiwiZWRnZUxpc3QiLCJFZGdlTGlzdCIsIl9jbG9zZWQiLCJFZGdlUmVzdWx0IiwiZWRnZSIsIlBvbHlnb24iLCJTa2VsZXRvbkJ1aWxkZXIiLCJtdWx0aXBvbHlnb24iLCJhbGxFZGdlcyIsImFsbERpc3RhbmNlcyIsIm91dGVyIiwiTGlzdEZyb21Db29yZGluYXRlc0FycmF5IiwiaG9sZXMiLCJza2VsZXRvbiIsIkJ1aWxkIiwiZW50cmllcyIsImFyciIsIkluaXRQb2x5Z29uIiwiTWFrZUNsb2Nrd2lzZSIsIlNrZWxldG9uRXZlbnREaXN0YW5zZUNvbXBhcmVyIiwic0xhdiIsImZhY2VzIiwiSW5pdFNsYXYiLCJpbm5lciIsIkluaXRFdmVudHMiLCJjb3VudCIsIkFzc2VydE1heE51bWJlck9mSW50ZXJhY3Rpb24iLCJsZXZlbEhlaWdodCIsIkxvYWRBbmRHcm91cExldmVsRXZlbnRzIiwiUHJvY2Vzc1R3b05vZGVMYXZzIiwiUmVtb3ZlRXZlbnRzVW5kZXJIZWlnaHQiLCJSZW1vdmVFbXB0eUxhdiIsIkFkZEZhY2VzVG9PdXRwdXQiLCJNYWtlQ291bnRlckNsb2Nrd2lzZSIsImxhdiIsImxhc3QiLCJDb25uZWN0UXVldWVzIiwiUmVtb3ZlRnJvbUxhdiIsImNpcmN1bGFyTGlzdCIsImNlbnRlciIsIkNhbGNCaXNlY3RvciIsImVkZ2VWZXJ0ZXgiLCJBZGRGYWNlTGVmdCIsIkFkZEZhY2VSaWdodCIsIkFkZE11bHRpQmFja0ZhY2VzIiwiQ29tcHV0ZUV2ZW50cyIsImVkZ2VFdmVudCIsImxlZnRWZXJ0ZXgiLCJyaWdodFZlcnRleCIsIkFkZEZhY2VCYWNrIiwiQ3JlYXRlT3Bwb3NpdGVFZGdlQ2hhaW5zIiwiQ2hhaW5Db21wYXJlciIsImxhc3RGYWNlTm9kZSIsImVkZ2VMaXN0U2l6ZSIsImNoYWluQmVnaW4iLCJjaGFpbkVuZCIsIm5ld1ZlcnRleCIsIkNyZWF0ZU11bHRpU3BsaXRWZXJ0ZXgiLCJiZWdpbk5leHRWZXJ0ZXgiLCJlbmRQcmV2aW91c1ZlcnRleCIsIkNvcnJlY3RCaXNlY3RvckRpcmVjdGlvbiIsIklzU2FtZUxhdiIsImxhdlBhcnQiLCJDdXRMYXZQYXJ0IiwiTWVyZ2VCZWZvcmVCYXNlVmVydGV4IiwiQWRkU3BsaXRGYWNlcyIsImJlZ2luRWRnZSIsImVuZEVkZ2UiLCJiZWdpbkVkZ2UyIiwiZW5kRWRnZTIiLCJuMSIsIkZyb21UbyIsIm4yIiwiYmlzZWN0b3JQcmVkaWN0aW9uIiwiQ2FsY1ZlY3RvckJpc2VjdG9yIiwiYmVnaW5WZXJ0ZXgiLCJDcmVhdGVPcHBvc2l0ZUVkZ2VWZXJ0ZXgiLCJmbiIsIm9wcG9zaXRlRWRnZXMiLCJvcHBvc2l0ZUVkZ2VDaGFpbnMiLCJjaGFpbnNGb3JSZW1vdmFsIiwiRmluZE9wcG9zaXRlRWRnZUxhdiIsImNsdXN0ZXIiLCJlZGdlQ2x1c3RlciIsInNwbGl0Q2x1c3RlciIsInZlcnRleEV2ZW50c1BhcmVudHMiLCJza2VsZXRvbkV2ZW50Iiwic3BsaXRFdmVudCIsInZlcnRleEV2ZW50IiwiZWRnZUNoYWlucyIsIkNyZWF0ZUVkZ2VDaGFpbiIsImVkZ2VDaGFpbiIsInNwbGl0RXZlbnRMb29wIiwic3BsaXQiLCJJc0luRWRnZUNoYWluIiwic3BsaXRQYXJlbnQiLCJsb29wIiwiU3BsaXRFcHNpbG9uIiwibGV2ZWxFdmVudHMiLCJMb2FkTGV2ZWxFdmVudHMiLCJHcm91cExldmVsRXZlbnRzIiwicGFyZW50R3JvdXAiLCJldmVudENlbnRlciIsIkFkZEV2ZW50VG9Hcm91cCIsImoiLCJ0ZXN0IiwiSXNFdmVudEluR3JvdXAiLCJDcmVhdGVMZXZlbEV2ZW50IiwiZXZlbnRDbHVzdGVyIiwiQ3JlYXRlQ2hhaW5zIiwibGV2ZWwiLCJsZXZlbFN0YXJ0IiwibGV2ZWxTdGFydEhlaWdodCIsIm5leHRMZXZlbEV2ZW50IiwiaG9sZSIsImVkZ2VzTGlzdCIsIkl0ZXJhdGUiLCJyaWdodEZhY2UiLCJmYWNlUXVldWUiLCJsZWZ0RmFjZSIsImVkZ2VPdXRwdXRzIiwiZmFjZSIsImZhY2VMaXN0IiwiQ29tcHV0ZVNwbGl0RXZlbnRzIiwiQ29tcHV0ZUVkZ2VFdmVudHMiLCJkaXN0YW5jZVNxdWFyZWQiLCJzb3VyY2UiLCJDYWxjT3Bwb3NpdGVFZGdlcyIsIk9wcG9zaXRlUG9pbnQiLCJDb21wdXRlQ2xvc2VyRWRnZUV2ZW50IiwicG9pbnQxIiwiQ29tcHV0ZUludGVyc2VjdGlvbkJpc2VjdG9ycyIsInBvaW50MiIsImRpc3RhbmNlMSIsIk1BWF9WQUxVRSIsImRpc3RhbmNlMiIsIkNyZWF0ZUVkZ2VFdmVudCIsIkNhbGNEaXN0YW5jZSIsImVkZ2VFbnRyeSIsIkVkZ2VCZWhpbmRCaXNlY3RvciIsImNhbmRpZGF0ZVBvaW50IiwiQ2FsY0NhbmRpZGF0ZVBvaW50Rm9yU3BsaXQiLCJTcGxpdENhbmRpZGF0ZUNvbXBhcmVyIiwidmVydGV4RWRnZSIsIkNob3NlTGVzc1BhcmFsbGVsVmVydGV4RWRnZSIsInZlcnRleEVkdGVOb3JtTmVnYXRlIiwiZWRnZXNCaXNlY3RvciIsImVkZ2VzQ29sbGlkZSIsImVkZ2VzQmlzZWN0b3JMaW5lIiwiU3BsaXRDYW5kaWRhdGUiLCJlZGdlQSIsImVkZ2VCIiwiZWRnZUFEb3QiLCJlZGdlQkRvdCIsInZlcnRleFByZXZpb3VzIiwidmVydGV4TmV4dCIsImJpc2VjdG9yUHJldmlvdXMiLCJiaXNlY3Rvck5leHQiLCJJbnRlcnNlY3RSYXlzMkQiLCJlZGdlTGF2cyIsIkZpbmRFZGdlTGF2cyIsIkNob29zZU9wcG9zaXRlRWRnZUxhdiIsImVkZ2VTdGFydCIsImVkZ2VOb3JtIiwiY2VudGVyVmVjdG9yIiwiY2VudGVyRG90IiwiYmVnaW5WZWN0b3IiLCJlbmRWZWN0b3IiLCJiZWdpbkRvdCIsImVuZERvdCIsIklzUG9pbnRJbnNpZGVQb2x5Z29uIiwic2tpcHBlZExhdiIsInZlcnRleEluTGF2IiwiR2V0RWRnZUluTGF2IiwidmEiLCJ2YiIsImN1cnJlbnRFZGdlIiwidmVjdG9yIiwicG9pbnRPblZlY3RvciIsIk9ydGhvZ29uYWxQcm9qZWN0aW9uIiwiZTEiLCJlMiIsIkJpc2VjdG9yTm9ybWFsaXplZCIsImxlZnQiLCJyaWdodCIsIl9jZW50ZXIiLCJBbmdsZSIsInAwIiwicDEiLCJkeCIsImR5IiwiYXRhbjIiLCJvcHBvc2l0ZVBvaW50IiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImN0eCIsImdldENvbnRleHQiLCJ3aWR0aCIsImhlaWdodCIsImFjdGl2ZUhvbGVJZCIsImhvbGVNb2RlIiwidHJhbnNsYXRlIiwiZHJhd0NpcmNsZSIsInJhZGl1cyIsImJlZ2luUGF0aCIsImFyYyIsIlBJIiwiZmlsbCIsImRyYXdFZGdlUmVzdWx0IiwicmVzIiwiZ2xvYmFsQWxwaGEiLCJmaWxsU3R5bGUiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsInN0cm9rZSIsInJlYnVpbGRTa2VsZXRvbiIsImNsZWFyUmVjdCIsIkJ1aWxkRnJvbUdlb0pTT04iLCJlIiwiY29uc29sZSIsImVycm9yIiwiZWRnZVJlcyIsImRyYXdQb2ludHNBbmRIb2xlcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvZmZzZXRYIiwiY2xpZW50V2lkdGgiLCJvZmZzZXRZIiwiY2xpZW50SGVpZ2h0IiwiY3VycmVudEhvbGUiLCJoeXBvdCIsImxvZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJidXR0b25Jbm5lciIsImJ1dHRvbk91dGVyIiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9